939b7969c2a29cebae8af23f0d8c8c36
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getAirMapName = getAirMapName;
exports.default = decorateMapComponent;
exports.googleMapIsInstalled = exports.createNotSupportedComponent = exports.contextTypes = exports.NOT_SUPPORTED = exports.USES_DEFAULT_IMPLEMENTATION = exports.SUPPORTED = void 0;

var _propTypes = _interopRequireDefault(require("prop-types"));

var _reactNative = require("react-native");

var _ProviderConstants = require("./ProviderConstants");

var SUPPORTED = 'SUPPORTED';
exports.SUPPORTED = SUPPORTED;
var USES_DEFAULT_IMPLEMENTATION = 'USES_DEFAULT_IMPLEMENTATION';
exports.USES_DEFAULT_IMPLEMENTATION = USES_DEFAULT_IMPLEMENTATION;
var NOT_SUPPORTED = 'NOT_SUPPORTED';
exports.NOT_SUPPORTED = NOT_SUPPORTED;

function getAirMapName(provider) {
  if (_reactNative.Platform.OS === 'android') {
    return 'AIRMap';
  }

  if (provider === _ProviderConstants.PROVIDER_GOOGLE) {
    return 'AIRGoogleMap';
  }

  return 'AIRMap';
}

function getAirComponentName(provider, component) {
  return "" + getAirMapName(provider) + component;
}

var contextTypes = {
  provider: _propTypes.default.string
};
exports.contextTypes = contextTypes;

var createNotSupportedComponent = function createNotSupportedComponent(message) {
  return function () {
    console.error(message);
    return null;
  };
};

exports.createNotSupportedComponent = createNotSupportedComponent;

function getViewManagerConfig(viewManagerName) {
  var UIManager = _reactNative.NativeModules.UIManager;

  if (!UIManager.getViewManagerConfig) {
    return UIManager[viewManagerName];
  }

  return UIManager.getViewManagerConfig(viewManagerName);
}

var googleMapIsInstalled = !!getViewManagerConfig(getAirMapName(_ProviderConstants.PROVIDER_GOOGLE));
exports.googleMapIsInstalled = googleMapIsInstalled;

function decorateMapComponent(Component, _ref) {
  var componentType = _ref.componentType,
      providers = _ref.providers;
  var components = {};

  var getDefaultComponent = function getDefaultComponent() {
    return (0, _reactNative.requireNativeComponent)(getAirComponentName(null, componentType), Component);
  };

  Component.contextTypes = contextTypes;

  Component.prototype.getAirComponent = function getAirComponent() {
    var provider = this.context.provider || _ProviderConstants.PROVIDER_DEFAULT;

    if (components[provider]) {
      return components[provider];
    }

    if (provider === _ProviderConstants.PROVIDER_DEFAULT) {
      components[_ProviderConstants.PROVIDER_DEFAULT] = getDefaultComponent();
      return components[_ProviderConstants.PROVIDER_DEFAULT];
    }

    var providerInfo = providers[provider];
    var platformSupport = providerInfo[_reactNative.Platform.OS];
    var componentName = getAirComponentName(provider, componentType);

    if (platformSupport === NOT_SUPPORTED) {
      components[provider] = createNotSupportedComponent("react-native-maps: " + componentName + " is not supported on " + _reactNative.Platform.OS);
    } else if (platformSupport === SUPPORTED) {
      if (provider !== _ProviderConstants.PROVIDER_GOOGLE || _reactNative.Platform.OS === 'ios' && googleMapIsInstalled) {
        components[provider] = (0, _reactNative.requireNativeComponent)(componentName, Component);
      }
    } else {
      if (!components[_ProviderConstants.PROVIDER_DEFAULT]) {
        components[_ProviderConstants.PROVIDER_DEFAULT] = getDefaultComponent();
      }

      components[provider] = components[_ProviderConstants.PROVIDER_DEFAULT];
    }

    return components[provider];
  };

  Component.prototype.getUIManagerCommand = function getUIManagerCommand(name) {
    var componentName = getAirComponentName(this.context.provider, componentType);
    return getViewManagerConfig(componentName).Commands[name];
  };

  Component.prototype.getMapManagerCommand = function getMapManagerCommand(name) {
    var airComponentName = getAirComponentName(this.context.provider, componentType) + "Manager";
    return _reactNative.NativeModules[airComponentName][name];
  };

  return Component;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlY29yYXRlTWFwQ29tcG9uZW50LmpzIl0sIm5hbWVzIjpbIlNVUFBPUlRFRCIsIlVTRVNfREVGQVVMVF9JTVBMRU1FTlRBVElPTiIsIk5PVF9TVVBQT1JURUQiLCJnZXRBaXJNYXBOYW1lIiwicHJvdmlkZXIiLCJQbGF0Zm9ybSIsIk9TIiwiUFJPVklERVJfR09PR0xFIiwiZ2V0QWlyQ29tcG9uZW50TmFtZSIsImNvbXBvbmVudCIsImNvbnRleHRUeXBlcyIsIlByb3BUeXBlcyIsInN0cmluZyIsImNyZWF0ZU5vdFN1cHBvcnRlZENvbXBvbmVudCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwiZXJyb3IiLCJnZXRWaWV3TWFuYWdlckNvbmZpZyIsInZpZXdNYW5hZ2VyTmFtZSIsIlVJTWFuYWdlciIsIk5hdGl2ZU1vZHVsZXMiLCJnb29nbGVNYXBJc0luc3RhbGxlZCIsImRlY29yYXRlTWFwQ29tcG9uZW50IiwiQ29tcG9uZW50IiwiY29tcG9uZW50VHlwZSIsInByb3ZpZGVycyIsImNvbXBvbmVudHMiLCJnZXREZWZhdWx0Q29tcG9uZW50IiwicHJvdG90eXBlIiwiZ2V0QWlyQ29tcG9uZW50IiwiY29udGV4dCIsIlBST1ZJREVSX0RFRkFVTFQiLCJwcm92aWRlckluZm8iLCJwbGF0Zm9ybVN1cHBvcnQiLCJjb21wb25lbnROYW1lIiwiZ2V0VUlNYW5hZ2VyQ29tbWFuZCIsIm5hbWUiLCJDb21tYW5kcyIsImdldE1hcE1hbmFnZXJDb21tYW5kIiwiYWlyQ29tcG9uZW50TmFtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRU8sSUFBTUEsU0FBUyxHQUFHLFdBQWxCOztBQUNBLElBQU1DLDJCQUEyQixHQUFHLDZCQUFwQzs7QUFDQSxJQUFNQyxhQUFhLEdBQUcsZUFBdEI7OztBQUVBLFNBQVNDLGFBQVQsQ0FBdUJDLFFBQXZCLEVBQWlDO0FBQ3RDLE1BQUlDLHNCQUFTQyxFQUFULEtBQWdCLFNBQXBCLEVBQStCO0FBQzdCLFdB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RixLQVBNLE1BT0E7QUFFTCxVQUFJLENBQUNHLFVBQVUsQ0FBQ0ssbUNBQUQsQ0FBZixFQUFtQztBQUNqQ0wsUUFBQUEsVUFBVSxDQUFDSyxtQ0FBRCxDQUFWLEdBQStCSixtQkFBbUIsRUFBbEQ7QUFDRDs7QUFDREQsTUFBQUEsVUFBVSxDQUFDdEIsUUFBRCxDQUFWLEdBQXVCc0IsVUFBVSxDQUFDSyxtQ0FBRCxDQUFqQztBQUNEOztBQUVELFdBQU9MLFVBQVUsQ0FBQ3RCLFFBQUQsQ0FBakI7QUFDRCxHQWxDRDs7QUFvQ0FtQixFQUFBQSxTQUFTLENBQUNLLFNBQVYsQ0FBb0JPLG1CQUFwQixHQUEwQyxTQUFTQSxtQkFBVCxDQUE2QkMsSUFBN0IsRUFBbUM7QUFDM0UsUUFBTUYsYUFBYSxHQUFHMUIsbUJBQW1CLENBQ3ZDLEtBQUtzQixPQUFMLENBQWExQixRQUQwQixFQUV2Q29CLGFBRnVDLENBQXpDO0FBSUEsV0FBT1Asb0JBQW9CLENBQUNpQixhQUFELENBQXBCLENBQW9DRyxRQUFwQyxDQUE2Q0QsSUFBN0MsQ0FBUDtBQUNELEdBTkQ7O0FBUUFiLEVBQUFBLFNBQVMsQ0FBQ0ssU0FBVixDQUFvQlUsb0JBQXBCLEdBQTJDLFNBQVNBLG9CQUFULENBQ3pDRixJQUR5QyxFQUV6QztBQUNBLFFBQU1HLGdCQUFnQixHQUFNL0IsbUJBQW1CLENBQzdDLEtBQUtzQixPQUFMLENBQWExQixRQURnQyxFQUU3Q29CLGFBRjZDLENBQXpCLFlBQXRCO0FBSUEsV0FBT0osMkJBQWNtQixnQkFBZCxFQUFnQ0gsSUFBaEMsQ0FBUDtBQUNELEdBUkQ7O0FBVUEsU0FBT2IsU0FBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IHJlcXVpcmVOYXRpdmVDb21wb25lbnQsIE5hdGl2ZU1vZHVsZXMsIFBsYXRmb3JtIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCB7IFBST1ZJREVSX0RFRkFVTFQsIFBST1ZJREVSX0dPT0dMRSB9IGZyb20gJy4vUHJvdmlkZXJDb25zdGFudHMnO1xuXG5leHBvcnQgY29uc3QgU1VQUE9SVEVEID0gJ1NVUFBPUlRFRCc7XG5leHBvcnQgY29uc3QgVVNFU19ERUZBVUxUX0lNUExFTUVOVEFUSU9OID0gJ1VTRVNfREVGQVVMVF9JTVBMRU1FTlRBVElPTic7XG5leHBvcnQgY29uc3QgTk9UX1NVUFBPUlRFRCA9ICdOT1RfU1VQUE9SVEVEJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFpck1hcE5hbWUocHJvdmlkZXIpIHtcbiAgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgICByZXR1cm4gJ0FJUk1hcCc7XG4gIH1cbiAgaWYgKHByb3ZpZGVyID09PSBQUk9WSURFUl9HT09HTEUpIHtcbiAgICByZXR1cm4gJ0FJUkdvb2dsZU1hcCc7XG4gIH1cbiAgcmV0dXJuICdBSVJNYXAnO1xufVxuXG5mdW5jdGlvbiBnZXRBaXJDb21wb25lbnROYW1lKHByb3ZpZGVyLCBjb21wb25lbnQpIHtcbiAgcmV0dXJuIGAke2dldEFpck1hcE5hbWUocHJvdmlkZXIpfSR7Y29tcG9uZW50fWA7XG59XG5cbmV4cG9ydCBjb25zdCBjb250ZXh0VHlwZXMgPSB7XG4gIHByb3ZpZGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU5vdFN1cHBvcnRlZENvbXBvbmVudCA9IG1lc3NhZ2UgPT4gKCkgPT4ge1xuICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gbnVsbDtcbn07XG5cbmZ1bmN0aW9uIGdldFZpZXdNYW5hZ2VyQ29uZmlnKHZpZXdNYW5hZ2VyTmFtZSkge1xuICBjb25zdCBVSU1hbmFnZXIgPSBOYXRpdmVNb2R1bGVzLlVJTWFuYWdlcjtcbiAgaWYgKCFVSU1hbmFnZXIuZ2V0Vmlld01hbmFnZXJDb25maWcpIHtcbiAgICAvLyBSTiA8IDAuNThcbiAgICByZXR1cm4gVUlNYW5hZ2VyW3ZpZXdNYW5hZ2VyTmFtZV07XG4gIH1cbiAgLy8gUk4gPj0gMC41OFxuICByZXR1cm4gVUlNYW5hZ2VyLmdldFZpZXdNYW5hZ2VyQ29uZmlnKHZpZXdNYW5hZ2VyTmFtZSk7XG59XG5cbmV4cG9ydCBjb25zdCBnb29nbGVNYXBJc0luc3RhbGxlZCA9ICEhZ2V0Vmlld01hbmFnZXJDb25maWcoXG4gIGdldEFpck1hcE5hbWUoUFJPVklERVJfR09PR0xFKVxuKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVjb3JhdGVNYXBDb21wb25lbnQoXG4gIENvbXBvbmVudCxcbiAgeyBjb21wb25lbnRUeXBlLCBwcm92aWRlcnMgfVxuKSB7XG4gIGNvbnN0IGNvbXBvbmVudHMgPSB7fTtcblxuICBjb25zdCBnZXREZWZhdWx0Q29tcG9uZW50ID0gKCkgPT5cbiAgICByZXF1aXJlTmF0aXZlQ29tcG9uZW50KGdldEFpckNvbXBvbmVudE5hbWUobnVsbCwgY29tcG9uZW50VHlwZSksIENvbXBvbmVudCk7XG5cbiAgQ29tcG9uZW50LmNvbnRleHRUeXBlcyA9IGNvbnRleHRUeXBlcztcblxuICBDb21wb25lbnQucHJvdG90eXBlLmdldEFpckNvbXBvbmVudCA9IGZ1bmN0aW9uIGdldEFpckNvbXBvbmVudCgpIHtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuY29udGV4dC5wcm92aWRlciB8fCBQUk9WSURFUl9ERUZBVUxUO1xuICAgIGlmIChjb21wb25lbnRzW3Byb3ZpZGVyXSkge1xuICAgICAgcmV0dXJuIGNvbXBvbmVudHNbcHJvdmlkZXJdO1xuICAgIH1cblxuICAgIGlmIChwcm92aWRlciA9PT0gUFJPVklERVJfREVGQVVMVCkge1xuICAgICAgY29tcG9uZW50c1tQUk9WSURFUl9ERUZBVUxUXSA9IGdldERlZmF1bHRDb21wb25lbnQoKTtcbiAgICAgIHJldHVybiBjb21wb25lbnRzW1BST1ZJREVSX0RFRkFVTFRdO1xuICAgIH1cblxuICAgIGNvbnN0IHByb3ZpZGVySW5mbyA9IHByb3ZpZGVyc1twcm92aWRlcl07XG4gICAgY29uc3QgcGxhdGZvcm1TdXBwb3J0ID0gcHJvdmlkZXJJbmZvW1BsYXRmb3JtLk9TXTtcbiAgICBjb25zdCBjb21wb25lbnROYW1lID0gZ2V0QWlyQ29tcG9uZW50TmFtZShwcm92aWRlciwgY29tcG9uZW50VHlwZSk7XG4gICAgaWYgKHBsYXRmb3JtU3VwcG9ydCA9PT0gTk9UX1NVUFBPUlRFRCkge1xuICAgICAgY29tcG9uZW50c1twcm92aWRlcl0gPSBjcmVhdGVOb3RTdXBwb3J0ZWRDb21wb25lbnQoXG4gICAgICAgIGByZWFjdC1uYXRpdmUtbWFwczogJHtjb21wb25lbnROYW1lfSBpcyBub3Qgc3VwcG9ydGVkIG9uICR7UGxhdGZvcm0uT1N9YFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHBsYXRmb3JtU3VwcG9ydCA9PT0gU1VQUE9SVEVEKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHByb3ZpZGVyICE9PSBQUk9WSURFUl9HT09HTEUgfHxcbiAgICAgICAgKFBsYXRmb3JtLk9TID09PSAnaW9zJyAmJiBnb29nbGVNYXBJc0luc3RhbGxlZClcbiAgICAgICkge1xuICAgICAgICBjb21wb25lbnRzW3Byb3ZpZGVyXSA9IHJlcXVpcmVOYXRpdmVDb21wb25lbnQoY29tcG9uZW50TmFtZSwgQ29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gKHBsYXRmb3JtU3VwcG9ydCA9PT0gVVNFU19ERUZBVUxUX0lNUExFTUVOVEFUSU9OKVxuICAgICAgaWYgKCFjb21wb25lbnRzW1BST1ZJREVSX0RFRkFVTFRdKSB7XG4gICAgICAgIGNvbXBvbmVudHNbUFJPVklERVJfREVGQVVMVF0gPSBnZXREZWZhdWx0Q29tcG9uZW50KCk7XG4gICAgICB9XG4gICAgICBjb21wb25lbnRzW3Byb3ZpZGVyXSA9IGNvbXBvbmVudHNbUFJPVklERVJfREVGQVVMVF07XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXBvbmVudHNbcHJvdmlkZXJdO1xuICB9O1xuXG4gIENvbXBvbmVudC5wcm90b3R5cGUuZ2V0VUlNYW5hZ2VyQ29tbWFuZCA9IGZ1bmN0aW9uIGdldFVJTWFuYWdlckNvbW1hbmQobmFtZSkge1xuICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBnZXRBaXJDb21wb25lbnROYW1lKFxuICAgICAgdGhpcy5jb250ZXh0LnByb3ZpZGVyLFxuICAgICAgY29tcG9uZW50VHlwZVxuICAgICk7XG4gICAgcmV0dXJuIGdldFZpZXdNYW5hZ2VyQ29uZmlnKGNvbXBvbmVudE5hbWUpLkNvbW1hbmRzW25hbWVdO1xuICB9O1xuXG4gIENvbXBvbmVudC5wcm90b3R5cGUuZ2V0TWFwTWFuYWdlckNvbW1hbmQgPSBmdW5jdGlvbiBnZXRNYXBNYW5hZ2VyQ29tbWFuZChcbiAgICBuYW1lXG4gICkge1xuICAgIGNvbnN0IGFpckNvbXBvbmVudE5hbWUgPSBgJHtnZXRBaXJDb21wb25lbnROYW1lKFxuICAgICAgdGhpcy5jb250ZXh0LnByb3ZpZGVyLFxuICAgICAgY29tcG9uZW50VHlwZVxuICAgICl9TWFuYWdlcmA7XG4gICAgcmV0dXJuIE5hdGl2ZU1vZHVsZXNbYWlyQ29tcG9uZW50TmFtZV1bbmFtZV07XG4gIH07XG5cbiAgcmV0dXJuIENvbXBvbmVudDtcbn1cbiJdfQ==