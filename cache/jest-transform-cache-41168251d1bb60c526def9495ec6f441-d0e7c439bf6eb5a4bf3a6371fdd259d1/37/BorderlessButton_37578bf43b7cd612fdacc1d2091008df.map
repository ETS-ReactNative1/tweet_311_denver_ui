{"version":3,"sources":["BorderlessButton.tsx"],"names":["AnimatedBaseButton","Animated","BaseButton","useNativeDriver","Platform","BorderlessButton","React","activeOpacity","borderless","active","stiffness","damping","mass","overshootClamping","restDisplacementThreshold","restSpeedThreshold","toValue","enabled","opacity"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,KAAA,GAAA,uBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,IAAA,YAAA,GAAA,OAAA,CAAA,cAAA,CAAA;;AACA,IAAA,0BAAA,GAAA,OAAA,CAAA,8BAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,kBAAkB,GAAGC,YAAAA,CAAAA,QAAAA,CAAAA,uBAAAA,CAAiCC,0BAAAA,CAA5D,UAA2BD,CAA3B;;AAMA,IAAME,eAAe,GAAGC,YAAAA,CAAAA,QAAAA,CAAAA,EAAAA,KAAxB,KAAA;;IAEe,gB;;;AAAsD,8BAAA;AAAA;;AAAA;AAAA,uHAAA,SAAA;;AAAA,IAAA,eAAA,8CAAA,SAAA,EAMjD,IAAIH,YAAAA,CAAAA,QAAAA,CAAJ,KAAA,CANiD,CAMjD,CANiD,CAAA;;AAAA,IAAA,eAAA,8CAAA,yBAAA,EAQhCQ,UAAAA,MAAD,EAAqB;AACrD,UAAIL,YAAAA,CAAAA,QAAAA,CAAAA,EAAAA,KAAJ,SAAA,EAA+B;AAC7BH,QAAAA,YAAAA,CAAAA,QAAAA,CAAAA,MAAAA,CAAgB,MAAhBA,OAAAA,EAA8B;AAC5BS,UAAAA,SAAS,EADmB,IAAA;AAE5BC,UAAAA,OAAO,EAFqB,GAAA;AAG5BC,UAAAA,IAAI,EAHwB,CAAA;AAI5BC,UAAAA,iBAAiB,EAJW,IAAA;AAK5BC,UAAAA,yBAAyB,EALG,IAAA;AAM5BC,UAAAA,kBAAkB,EANU,IAAA;AAO5BC,UAAAA,OAAO,EAAEP,MAAM,GAAG,MAAA,KAAA,CAAH,aAAA,GAPa,CAAA;AAQ5BN,UAAAA,eAAAA,EAAAA;AAR4B,SAA9BF,EAAAA,KAAAA;AAUD;;AAED,YAAA,KAAA,CAAA,mBAAA,IAAkC,MAAA,KAAA,CAAA,mBAAA,CAAlC,MAAkC,CAAlC;AAtBiE,KAAA,CAAA;;AAAA;AAAA;;;;6BAyB1D;AACP,UAAA,WAAA,GAA8C,KAA9C,KAAA;AAAA,UAAM,QAAN,GAAA,WAAA,CAAM,QAAN;AAAA,UAAM,KAAN,GAAA,WAAA,CAAM,KAAN;AAAA,UAAyBgB,OAAzB,GAAA,WAAA,CAAyBA,OAAzB;AAAA,UAAA,IAAA,GAAA,wBAAA,CAAA,WAAA,EAAA,CAAA,UAAA,EAAA,OAAA,EAAA,SAAA,CAAA,CAAA;;AAEA,aACE,KAAA,CAAA,aAAA,CAAA,kBAAA,EAAA,QAAA,CAAA,EAAA,EAAA,IAAA,EAAA;AAEE,QAAA,mBAAmB,EAAE,KAFvB,uBAAA;AAGE,QAAA,KAAK,EAAE,CAAA,KAAA,EAELb,YAAAA,CAAAA,QAAAA,CAAAA,EAAAA,KAAAA,KAAAA,IAAAA,OAAAA,IAAoC;AAAEc,UAAAA,OAAO,EAAE,KAAKA;AAAhB,SAF/B;AAHT,OAAA,CAAA,EADF,QACE,CADF;AAYD;;;EAxC2CZ,KAAK,CAApC,S;;;;gBAAMD,gB,kBACG;AACpBE,EAAAA,aAAa,EADO,GAAA;AAEpBC,EAAAA,UAAU,EAAE;AAFQ,C","sourcesContent":["import * as React from 'react';\nimport { Animated, Platform } from 'react-native';\nimport { BaseButton } from 'react-native-gesture-handler';\n\nconst AnimatedBaseButton = Animated.createAnimatedComponent(BaseButton);\n\ntype Props = React.ComponentProps<typeof BaseButton> & {\n  activeOpacity: number;\n};\n\nconst useNativeDriver = Platform.OS !== 'web';\n\nexport default class BorderlessButton extends React.Component<Props> {\n  static defaultProps = {\n    activeOpacity: 0.3,\n    borderless: true,\n  };\n\n  private opacity = new Animated.Value(1);\n\n  private handleActiveStateChange = (active: boolean) => {\n    if (Platform.OS !== 'android') {\n      Animated.spring(this.opacity, {\n        stiffness: 1000,\n        damping: 500,\n        mass: 3,\n        overshootClamping: true,\n        restDisplacementThreshold: 0.01,\n        restSpeedThreshold: 0.01,\n        toValue: active ? this.props.activeOpacity : 1,\n        useNativeDriver,\n      }).start();\n    }\n\n    this.props.onActiveStateChange && this.props.onActiveStateChange(active);\n  };\n\n  render() {\n    const { children, style, enabled, ...rest } = this.props;\n\n    return (\n      <AnimatedBaseButton\n        {...rest}\n        onActiveStateChange={this.handleActiveStateChange}\n        style={[\n          style,\n          Platform.OS === 'ios' && enabled && { opacity: this.opacity },\n        ]}\n      >\n        {children}\n      </AnimatedBaseButton>\n    );\n  }\n}\n"]}