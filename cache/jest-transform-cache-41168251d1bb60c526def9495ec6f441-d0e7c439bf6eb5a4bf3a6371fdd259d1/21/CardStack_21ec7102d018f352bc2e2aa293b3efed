5bea25f15ef3a18bac717c58704da56d
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty3 = _interopRequireDefault2(require("@babel/runtime/helpers/defineProperty"));

var _classCallCheck2 = _interopRequireDefault2(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault2(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault2(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault2(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault2(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault2(require("@babel/runtime/helpers/inherits"));

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _reactNativeScreens = require("react-native-screens");

var _HeaderSegment = require("../Header/HeaderSegment");

var _CardContainer = _interopRequireDefault(require("./CardContainer"));

var _TransitionPresets = require("../../TransitionConfigs/TransitionPresets");

var _HeaderStyleInterpolators = require("../../TransitionConfigs/HeaderStyleInterpolators");

var _CardStyleInterpolators = require("../../TransitionConfigs/CardStyleInterpolators");

var _getDistanceForDirection = _interopRequireDefault(require("../../utils/getDistanceForDirection"));

var _global$Expo;

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }

  return keys;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var maybeExpoVersion = (_global$Expo = global.Expo) === null || _global$Expo === void 0 ? void 0 : _global$Expo.Constants.manifest.sdkVersion.split('.')[0];
var isInsufficientExpoVersion = maybeExpoVersion ? Number(maybeExpoVersion) <= 36 : maybeExpoVersion === 'UNVERSIONED';
var EPSILON = 0.01;
var FAR_FAR_AWAY = 9000;

var dimensions = _reactNative.Dimensions.get('window');

var layout = {
  width: dimensions.width,
  height: dimensions.height
};

var MaybeScreenContainer = function MaybeScreenContainer(_ref) {
  var enabled = _ref.enabled,
      style = _ref.style,
      rest = _objectWithoutProperties(_ref, ["enabled", "style"]);

  if (enabled && (0, _reactNativeScreens.screensEnabled)()) {
    return React.createElement(_reactNativeScreens.ScreenContainer, _extends({
      style: style
    }, rest));
  }

  return React.createElement(_reactNative.View, _extends({
    collapsable: !enabled,
    removeClippedSubviews: _reactNative.Platform.OS !== 'ios' && enabled,
    style: [style, {
      overflow: 'hidden'
    }]
  }, rest));
};

var MaybeScreen = function MaybeScreen(_ref2) {
  var enabled = _ref2.enabled,
      active = _ref2.active,
      style = _ref2.style,
      rest = _objectWithoutProperties(_ref2, ["enabled", "active", "style"]);

  if (enabled && (0, _reactNativeScreens.screensEnabled)()) {
    return React.createElement(_reactNativeScreens.Screen, _extends({
      active: active,
      style: style
    }, rest));
  }

  return React.createElement(_reactNative.Animated.View, _extends({
    style: [style, {
      overflow: 'hidden',
      top: enabled && typeof active === 'number' && !active ? FAR_FAR_AWAY : 0,
      transform: [{
        translateY: enabled && typeof active !== 'number' ? active.interpolate({
          inputRange: [0, 1],
          outputRange: [FAR_FAR_AWAY, 0]
        }) : 0
      }]
    }]
  }, rest));
};

var FALLBACK_DESCRIPTOR = Object.freeze({
  options: {}
});

var getHeaderHeights = function getHeaderHeights(routes, insets, descriptors, layout, previous) {
  return routes.reduce(function (acc, curr) {
    var _ref5 = descriptors[curr.key] || {},
        _ref5$options = _ref5.options,
        options = _ref5$options === void 0 ? {} : _ref5$options;

    var _reactNative$StyleShe = _reactNative.StyleSheet.flatten(options.headerStyle || {}),
        _reactNative$StyleShe2 = _reactNative$StyleShe.height,
        height = _reactNative$StyleShe2 === void 0 ? previous[curr.key] : _reactNative$StyleShe2;

    var safeAreaInsets = _objectSpread({}, insets, {}, options.safeAreaInsets);

    var _options$headerStatus = options.headerStatusBarHeight,
        headerStatusBarHeight = _options$headerStatus === void 0 ? safeAreaInsets.top : _options$headerStatus;
    acc[curr.key] = typeof height === 'number' ? height : (0, _HeaderSegment.getDefaultHeaderHeight)(layout, headerStatusBarHeight);
    return acc;
  }, {});
};

var getDistanceFromOptions = function getDistanceFromOptions(mode, layout, descriptor) {
  var _ref6 = (descriptor === null || descriptor === void 0 ? void 0 : descriptor.options) || {},
      _ref6$gestureDirectio = _ref6.gestureDirection,
      gestureDirection = _ref6$gestureDirectio === void 0 ? mode === 'modal' ? _TransitionPresets.ModalTransition.gestureDirection : _TransitionPresets.DefaultTransition.gestureDirection : _ref6$gestureDirectio;

  return (0, _getDistanceForDirection.default)(layout, gestureDirection);
};

var getProgressFromGesture = function getProgressFromGesture(mode, gesture, layout, descriptor) {
  var distance = getDistanceFromOptions(mode, layout, descriptor);

  if (distance > 0) {
    return gesture.interpolate({
      inputRange: [0, distance],
      outputRange: [1, 0]
    });
  }

  return gesture.interpolate({
    inputRange: [distance, 0],
    outputRange: [0, 1]
  });
};

var CardStack = function (_React$Component) {
  (0, _inherits2.default)(CardStack, _React$Component);

  function CardStack() {
    var _this;

    (0, _classCallCheck2.default)(this, CardStack);
    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(CardStack).apply(this, arguments));

    _defineProperty((0, _assertThisInitialized2.default)(_this), "state", {
      routes: [],
      scenes: [],
      gestures: {},
      layout: layout,
      descriptors: _this.props.descriptors,
      headerHeights: {}
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "handleLayout", function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
          height = _e$nativeEvent$layout.height,
          width = _e$nativeEvent$layout.width;
      var layout = {
        width: width,
        height: height
      };

      _this.setState(function (state, props) {
        if (height === state.layout.height && width === state.layout.width) {
          return null;
        }

        return {
          layout: layout,
          headerHeights: getHeaderHeights(props.routes, props.insets, state.descriptors, layout, {})
        };
      });
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "handleHeaderLayout", function (_ref3) {
      var route = _ref3.route,
          height = _ref3.height;

      _this.setState(function (_ref4) {
        var headerHeights = _ref4.headerHeights;
        var previousHeight = headerHeights[route.key];

        if (previousHeight === height) {
          return null;
        }

        return {
          headerHeights: _objectSpread({}, headerHeights, (0, _defineProperty3.default)({}, route.key, height))
        };
      });
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "getFocusedRoute", function () {
      var state = _this.props.state;
      return state.routes[state.index];
    });

    return _this;
  }

  (0, _createClass2.default)(CardStack, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          mode = _this$props.mode,
          insets = _this$props.insets,
          descriptors = _this$props.descriptors,
          state = _this$props.state,
          routes = _this$props.routes,
          closingRouteKeys = _this$props.closingRouteKeys,
          onOpenRoute = _this$props.onOpenRoute,
          onCloseRoute = _this$props.onCloseRoute,
          getPreviousRoute = _this$props.getPreviousRoute,
          getGesturesEnabled = _this$props.getGesturesEnabled,
          renderHeader = _this$props.renderHeader,
          renderScene = _this$props.renderScene,
          headerMode = _this$props.headerMode,
          onTransitionStart = _this$props.onTransitionStart,
          onTransitionEnd = _this$props.onTransitionEnd,
          onPageChangeStart = _this$props.onPageChangeStart,
          onPageChangeConfirm = _this$props.onPageChangeConfirm,
          onPageChangeCancel = _this$props.onPageChangeCancel;
      var _this$state = this.state,
          scenes = _this$state.scenes,
          layout = _this$state.layout,
          gestures = _this$state.gestures,
          headerHeights = _this$state.headerHeights;
      var focusedRoute = state.routes[state.index];
      var focusedDescriptor = descriptors[focusedRoute.key];
      var focusedOptions = focusedDescriptor ? focusedDescriptor.options : {};
      var defaultTransitionPreset = mode === 'modal' ? _TransitionPresets.ModalTransition : _TransitionPresets.DefaultTransition;

      if (headerMode === 'screen') {
        defaultTransitionPreset = _objectSpread({}, defaultTransitionPreset, {
          headerStyleInterpolator: _HeaderStyleInterpolators.forNoAnimation
        });
      }

      var _ref7 = focusedOptions.safeAreaInsets || {},
          _ref7$top = _ref7.top,
          top = _ref7$top === void 0 ? insets.top : _ref7$top,
          _ref7$right = _ref7.right,
          right = _ref7$right === void 0 ? insets.right : _ref7$right,
          _ref7$bottom = _ref7.bottom,
          bottom = _ref7$bottom === void 0 ? insets.bottom : _ref7$bottom,
          _ref7$left = _ref7.left,
          left = _ref7$left === void 0 ? insets.left : _ref7$left;

      var isScreensEnabled = _reactNative.Platform.OS !== 'ios' && (isInsufficientExpoVersion ? mode !== 'modal' : true);
      return React.createElement(React.Fragment, null, React.createElement(MaybeScreenContainer, {
        enabled: isScreensEnabled,
        style: styles.container,
        onLayout: this.handleLayout
      }, routes.map(function (route, index, self) {
        var focused = focusedRoute.key === route.key;
        var gesture = gestures[route.key];
        var scene = scenes[index];
        var isScreenActive = index >= self.length - 2 ? 1 : 0;

        if (isInsufficientExpoVersion) {
          isScreenActive = index === self.length - 1 ? 1 : _reactNative.Platform.OS === 'android' ? scene.progress.next ? scene.progress.next.interpolate({
            inputRange: [0, 1 - EPSILON, 1],
            outputRange: [1, 1, 0],
            extrapolate: 'clamp'
          }) : 1 : index === self.length - 2 ? 1 : 0;
        }

        var _ref8 = scene.descriptor ? scene.descriptor.options : {},
            safeAreaInsets = _ref8.safeAreaInsets,
            headerShown = _ref8.headerShown,
            headerTransparent = _ref8.headerTransparent,
            cardShadowEnabled = _ref8.cardShadowEnabled,
            cardOverlayEnabled = _ref8.cardOverlayEnabled,
            cardStyle = _ref8.cardStyle,
            animationEnabled = _ref8.animationEnabled,
            gestureResponseDistance = _ref8.gestureResponseDistance,
            gestureVelocityImpact = _ref8.gestureVelocityImpact,
            _ref8$gestureDirectio = _ref8.gestureDirection,
            gestureDirection = _ref8$gestureDirectio === void 0 ? defaultTransitionPreset.gestureDirection : _ref8$gestureDirectio,
            _ref8$transitionSpec = _ref8.transitionSpec,
            transitionSpec = _ref8$transitionSpec === void 0 ? defaultTransitionPreset.transitionSpec : _ref8$transitionSpec,
            _ref8$cardStyleInterp = _ref8.cardStyleInterpolator,
            cardStyleInterpolator = _ref8$cardStyleInterp === void 0 ? animationEnabled === false ? _CardStyleInterpolators.forNoAnimation : defaultTransitionPreset.cardStyleInterpolator : _ref8$cardStyleInterp,
            _ref8$headerStyleInte = _ref8.headerStyleInterpolator,
            headerStyleInterpolator = _ref8$headerStyleInte === void 0 ? defaultTransitionPreset.headerStyleInterpolator : _ref8$headerStyleInte;

        var transitionConfig = {
          gestureDirection: gestureDirection,
          transitionSpec: transitionSpec,
          cardStyleInterpolator: cardStyleInterpolator,
          headerStyleInterpolator: headerStyleInterpolator
        };

        if (index !== self.length - 1) {
          var nextScene = scenes[index + 1];

          if (nextScene) {
            var _ref9 = nextScene.descriptor ? nextScene.descriptor.options : {},
                _animationEnabled = _ref9.animationEnabled,
                _ref9$gestureDirectio = _ref9.gestureDirection,
                _gestureDirection = _ref9$gestureDirectio === void 0 ? defaultTransitionPreset.gestureDirection : _ref9$gestureDirectio,
                _ref9$transitionSpec = _ref9.transitionSpec,
                _transitionSpec = _ref9$transitionSpec === void 0 ? defaultTransitionPreset.transitionSpec : _ref9$transitionSpec,
                _ref9$cardStyleInterp = _ref9.cardStyleInterpolator,
                _cardStyleInterpolator = _ref9$cardStyleInterp === void 0 ? _animationEnabled === false ? _CardStyleInterpolators.forNoAnimation : defaultTransitionPreset.cardStyleInterpolator : _ref9$cardStyleInterp,
                _ref9$headerStyleInte = _ref9.headerStyleInterpolator,
                _headerStyleInterpolator = _ref9$headerStyleInte === void 0 ? defaultTransitionPreset.headerStyleInterpolator : _ref9$headerStyleInte;

            transitionConfig = {
              gestureDirection: _gestureDirection,
              transitionSpec: _transitionSpec,
              cardStyleInterpolator: _cardStyleInterpolator,
              headerStyleInterpolator: _headerStyleInterpolator
            };
          }
        }

        var _ref10 = safeAreaInsets || {},
            _ref10$top = _ref10.top,
            safeAreaInsetTop = _ref10$top === void 0 ? insets.top : _ref10$top,
            _ref10$right = _ref10.right,
            safeAreaInsetRight = _ref10$right === void 0 ? insets.right : _ref10$right,
            _ref10$bottom = _ref10.bottom,
            safeAreaInsetBottom = _ref10$bottom === void 0 ? insets.bottom : _ref10$bottom,
            _ref10$left = _ref10.left,
            safeAreaInsetLeft = _ref10$left === void 0 ? insets.left : _ref10$left;

        var previousRoute = getPreviousRoute({
          route: scene.route
        });
        var previousScene = scenes[index - 1];

        if (previousRoute) {
          for (var j = index - 1; j >= 0; j--) {
            var s = scenes[j];

            if (s && s.route.key === previousRoute.key) {
              previousScene = s;
              break;
            }
          }
        }

        return React.createElement(MaybeScreen, {
          key: route.key,
          style: _reactNative.StyleSheet.absoluteFill,
          enabled: isScreensEnabled,
          active: isScreenActive,
          pointerEvents: "box-none"
        }, React.createElement(_CardContainer.default, _extends({
          index: index,
          active: index === self.length - 1,
          focused: focused,
          closing: closingRouteKeys.includes(route.key),
          layout: layout,
          gesture: gesture,
          scene: scene,
          previousScene: previousScene,
          safeAreaInsetTop: safeAreaInsetTop,
          safeAreaInsetRight: safeAreaInsetRight,
          safeAreaInsetBottom: safeAreaInsetBottom,
          safeAreaInsetLeft: safeAreaInsetLeft,
          cardOverlayEnabled: cardOverlayEnabled,
          cardShadowEnabled: cardShadowEnabled,
          cardStyle: cardStyle,
          onPageChangeStart: onPageChangeStart,
          onPageChangeConfirm: onPageChangeConfirm,
          onPageChangeCancel: onPageChangeCancel,
          gestureResponseDistance: gestureResponseDistance,
          headerHeight: headerHeights[route.key],
          onHeaderHeightChange: _this2.handleHeaderLayout,
          getPreviousRoute: getPreviousRoute,
          getFocusedRoute: _this2.getFocusedRoute,
          headerMode: headerMode,
          headerShown: headerShown,
          headerTransparent: headerTransparent,
          renderHeader: renderHeader,
          renderScene: renderScene,
          onOpenRoute: onOpenRoute,
          onCloseRoute: onCloseRoute,
          onTransitionStart: onTransitionStart,
          onTransitionEnd: onTransitionEnd,
          gestureEnabled: index !== 0 && getGesturesEnabled({
            route: route
          }),
          gestureVelocityImpact: gestureVelocityImpact
        }, transitionConfig)));
      })), headerMode === 'float' ? renderHeader({
        mode: 'float',
        layout: layout,
        insets: {
          top: top,
          right: right,
          bottom: bottom,
          left: left
        },
        scenes: scenes,
        getPreviousRoute: getPreviousRoute,
        getFocusedRoute: this.getFocusedRoute,
        onContentHeightChange: this.handleHeaderLayout,
        gestureDirection: focusedOptions.gestureDirection !== undefined ? focusedOptions.gestureDirection : defaultTransitionPreset.gestureDirection,
        styleInterpolator: focusedOptions.headerStyleInterpolator !== undefined ? focusedOptions.headerStyleInterpolator : defaultTransitionPreset.headerStyleInterpolator,
        style: styles.floating
      }) : null);
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, state) {
      if (props.routes === state.routes && props.descriptors === state.descriptors) {
        return null;
      }

      var gestures = props.routes.reduce(function (acc, curr) {
        var descriptor = props.descriptors[curr.key];

        var _ref11 = (descriptor === null || descriptor === void 0 ? void 0 : descriptor.options) || {},
            animationEnabled = _ref11.animationEnabled;

        acc[curr.key] = state.gestures[curr.key] || new _reactNative.Animated.Value(props.openingRouteKeys.includes(curr.key) && animationEnabled !== false ? getDistanceFromOptions(props.mode, state.layout, descriptor) : 0);
        return acc;
      }, {});
      return {
        routes: props.routes,
        scenes: props.routes.map(function (route, index, self) {
          var previousRoute = self[index - 1];
          var nextRoute = self[index + 1];
          var oldScene = state.scenes[index];
          var currentGesture = gestures[route.key];
          var previousGesture = previousRoute ? gestures[previousRoute.key] : undefined;
          var nextGesture = nextRoute ? gestures[nextRoute.key] : undefined;
          var descriptor = props.descriptors[route.key] || state.descriptors[route.key] || (oldScene ? oldScene.descriptor : FALLBACK_DESCRIPTOR);
          var nextDescriptor = props.descriptors[nextRoute === null || nextRoute === void 0 ? void 0 : nextRoute.key] || state.descriptors[nextRoute === null || nextRoute === void 0 ? void 0 : nextRoute.key];
          var previousDescriptor = props.descriptors[previousRoute === null || previousRoute === void 0 ? void 0 : previousRoute.key] || state.descriptors[previousRoute === null || previousRoute === void 0 ? void 0 : previousRoute.key];
          var scene = {
            route: route,
            descriptor: descriptor,
            progress: {
              current: getProgressFromGesture(props.mode, currentGesture, state.layout, descriptor),
              next: nextGesture ? getProgressFromGesture(props.mode, nextGesture, state.layout, nextDescriptor) : undefined,
              previous: previousGesture ? getProgressFromGesture(props.mode, previousGesture, state.layout, previousDescriptor) : undefined
            },
            __memo: [route, state.layout, descriptor, nextDescriptor, previousDescriptor, currentGesture, nextGesture, previousGesture]
          };

          if (oldScene && scene.__memo.every(function (it, i) {
            return oldScene.__memo[i] === it;
          })) {
            return oldScene;
          }

          return scene;
        }),
        gestures: gestures,
        descriptors: props.descriptors,
        headerHeights: getHeaderHeights(props.routes, props.insets, state.descriptors, state.layout, state.headerHeights)
      };
    }
  }]);
  return CardStack;
}(React.Component);

exports.default = CardStack;

var styles = _reactNative.StyleSheet.create({
  container: {
    flex: 1,
    overflow: 'hidden'
  },
  floating: {
    position: 'absolute',
    top: 0,
    left: 0,
    right: 0
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNhcmRTdGFjay50c3giXSwibmFtZXMiOlsibWF5YmVFeHBvVmVyc2lvbiIsImdsb2JhbCIsImlzSW5zdWZmaWNpZW50RXhwb1ZlcnNpb24iLCJOdW1iZXIiLCJFUFNJTE9OIiwiRkFSX0ZBUl9BV0FZIiwiZGltZW5zaW9ucyIsIkRpbWVuc2lvbnMiLCJsYXlvdXQiLCJ3aWR0aCIsImhlaWdodCIsIk1heWJlU2NyZWVuQ29udGFpbmVyIiwic3R5bGUiLCJyZXN0IiwiZW5hYmxlZCIsIlBsYXRmb3JtIiwib3ZlcmZsb3ciLCJNYXliZVNjcmVlbiIsInRvcCIsInRyYW5zZm9ybSIsInRyYW5zbGF0ZVkiLCJpbnB1dFJhbmdlIiwib3V0cHV0UmFuZ2UiLCJGQUxMQkFDS19ERVNDUklQVE9SIiwib3B0aW9ucyIsImdldEhlYWRlckhlaWdodHMiLCJkZXNjcmlwdG9ycyIsImN1cnIiLCJwcmV2aW91cyIsIlN0eWxlU2hlZXQiLCJzYWZlQXJlYUluc2V0cyIsImhlYWRlclN0YXR1c0JhckhlaWdodCIsImFjYyIsImdldERpc3RhbmNlRnJvbU9wdGlvbnMiLCJnZXN0dXJlRGlyZWN0aW9uIiwibW9kZSIsIk1vZGFsVHJhbnNpdGlvbiIsIkRlZmF1bHRUcmFuc2l0aW9uIiwiZ2V0UHJvZ3Jlc3NGcm9tR2VzdHVyZSIsImRpc3RhbmNlIiwiUmVhY3QiLCJwcm9wcyIsInN0YXRlIiwiZ2VzdHVyZXMiLCJkZXNjcmlwdG9yIiwiYW5pbWF0aW9uRW5hYmxlZCIsIkFuaW1hdGVkIiwicm91dGVzIiwic2NlbmVzIiwicHJldmlvdXNSb3V0ZSIsInNlbGYiLCJpbmRleCIsIm5leHRSb3V0ZSIsIm9sZFNjZW5lIiwiY3VycmVudEdlc3R1cmUiLCJyb3V0ZSIsInByZXZpb3VzR2VzdHVyZSIsIm5leHRHZXN0dXJlIiwibmV4dERlc2NyaXB0b3IiLCJwcmV2aW91c0Rlc2NyaXB0b3IiLCJzY2VuZSIsInByb2dyZXNzIiwiY3VycmVudCIsIm5leHQiLCJ1bmRlZmluZWQiLCJfX21lbW8iLCJoZWFkZXJIZWlnaHRzIiwiZSIsInByZXZpb3VzSGVpZ2h0Iiwib25QYWdlQ2hhbmdlQ2FuY2VsIiwiZm9jdXNlZFJvdXRlIiwiZm9jdXNlZERlc2NyaXB0b3IiLCJmb2N1c2VkT3B0aW9ucyIsImRlZmF1bHRUcmFuc2l0aW9uUHJlc2V0IiwiaGVhZGVyTW9kZSIsImhlYWRlclN0eWxlSW50ZXJwb2xhdG9yIiwiZm9yTm9BbmltYXRpb25IZWFkZXIiLCJpbnNldHMiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJpc1NjcmVlbnNFbmFibGVkIiwic3R5bGVzIiwiaGFuZGxlTGF5b3V0IiwiZm9jdXNlZCIsImdlc3R1cmUiLCJpc1NjcmVlbkFjdGl2ZSIsImV4dHJhcG9sYXRlIiwidHJhbnNpdGlvblNwZWMiLCJjYXJkU3R5bGVJbnRlcnBvbGF0b3IiLCJmb3JOb0FuaW1hdGlvbkNhcmQiLCJ0cmFuc2l0aW9uQ29uZmlnIiwibmV4dFNjZW5lIiwic2FmZUFyZWFJbnNldFRvcCIsInNhZmVBcmVhSW5zZXRSaWdodCIsInNhZmVBcmVhSW5zZXRCb3R0b20iLCJzYWZlQXJlYUluc2V0TGVmdCIsImdldFByZXZpb3VzUm91dGUiLCJwcmV2aW91c1NjZW5lIiwiaiIsInMiLCJjbG9zaW5nUm91dGVLZXlzIiwiZ2V0R2VzdHVyZXNFbmFibGVkIiwiZ2VzdHVyZVZlbG9jaXR5SW1wYWN0IiwicmVuZGVySGVhZGVyIiwiZ2V0Rm9jdXNlZFJvdXRlIiwib25Db250ZW50SGVpZ2h0Q2hhbmdlIiwic3R5bGVJbnRlcnBvbGF0b3IiLCJmbG9hdGluZyIsImNvbnRhaW5lciIsImZsZXgiLCJwb3NpdGlvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFBLEtBQUEsR0FBQSx1QkFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLFlBQUEsR0FBQSxPQUFBLENBQUEsY0FBQSxDQUFBOztBQVdBLElBQUEsbUJBQUEsR0FBQSxPQUFBLENBQUEsc0JBQUEs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ZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBBbmltYXRlZCxcbiAgVmlldyxcbiAgU3R5bGVTaGVldCxcbiAgTGF5b3V0Q2hhbmdlRXZlbnQsXG4gIERpbWVuc2lvbnMsXG4gIFBsYXRmb3JtLFxuICBWaWV3UHJvcHMsXG59IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyBFZGdlSW5zZXRzIH0gZnJvbSAncmVhY3QtbmF0aXZlLXNhZmUtYXJlYS1jb250ZXh0Jztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW5yZXNvbHZlZFxuaW1wb3J0IHsgU2NyZWVuQ29udGFpbmVyLCBTY3JlZW4sIHNjcmVlbnNFbmFibGVkIH0gZnJvbSAncmVhY3QtbmF0aXZlLXNjcmVlbnMnOyAvLyBJbXBvcnQgd2l0aCAqIGFzIHRvIHByZXZlbnQgZ2V0dGVycyBiZWluZyBjYWxsZWRcbmltcG9ydCB7IFJvdXRlLCBTdGFja05hdmlnYXRpb25TdGF0ZSB9IGZyb20gJ0ByZWFjdC1uYXZpZ2F0aW9uL25hdGl2ZSc7XG5cbmltcG9ydCB7IGdldERlZmF1bHRIZWFkZXJIZWlnaHQgfSBmcm9tICcuLi9IZWFkZXIvSGVhZGVyU2VnbWVudCc7XG5pbXBvcnQgeyBQcm9wcyBhcyBIZWFkZXJDb250YWluZXJQcm9wcyB9IGZyb20gJy4uL0hlYWRlci9IZWFkZXJDb250YWluZXInO1xuaW1wb3J0IENhcmRDb250YWluZXIgZnJvbSAnLi9DYXJkQ29udGFpbmVyJztcbmltcG9ydCB7XG4gIERlZmF1bHRUcmFuc2l0aW9uLFxuICBNb2RhbFRyYW5zaXRpb24sXG59IGZyb20gJy4uLy4uL1RyYW5zaXRpb25Db25maWdzL1RyYW5zaXRpb25QcmVzZXRzJztcbmltcG9ydCB7IGZvck5vQW5pbWF0aW9uIGFzIGZvck5vQW5pbWF0aW9uSGVhZGVyIH0gZnJvbSAnLi4vLi4vVHJhbnNpdGlvbkNvbmZpZ3MvSGVhZGVyU3R5bGVJbnRlcnBvbGF0b3JzJztcbmltcG9ydCB7IGZvck5vQW5pbWF0aW9uIGFzIGZvck5vQW5pbWF0aW9uQ2FyZCB9IGZyb20gJy4uLy4uL1RyYW5zaXRpb25Db25maWdzL0NhcmRTdHlsZUludGVycG9sYXRvcnMnO1xuaW1wb3J0IGdldERpc3RhbmNlRm9yRGlyZWN0aW9uIGZyb20gJy4uLy4uL3V0aWxzL2dldERpc3RhbmNlRm9yRGlyZWN0aW9uJztcbmltcG9ydCB7XG4gIExheW91dCxcbiAgU3RhY2tIZWFkZXJNb2RlLFxuICBTdGFja0NhcmRNb2RlLFxuICBTY2VuZSxcbiAgU3RhY2tEZXNjcmlwdG9yTWFwLFxuICBTdGFja05hdmlnYXRpb25PcHRpb25zLFxuICBTdGFja0Rlc2NyaXB0b3IsXG59IGZyb20gJy4uLy4uL3R5cGVzJztcblxudHlwZSBHZXN0dXJlVmFsdWVzID0ge1xuICBba2V5OiBzdHJpbmddOiBBbmltYXRlZC5WYWx1ZTtcbn07XG5cbi8vIEB0cy1pZ25vcmVcbmNvbnN0IG1heWJlRXhwb1ZlcnNpb24gPSBnbG9iYWwuRXhwbz8uQ29uc3RhbnRzLm1hbmlmZXN0LnNka1ZlcnNpb24uc3BsaXQoXG4gICcuJ1xuKVswXTtcbmNvbnN0IGlzSW5zdWZmaWNpZW50RXhwb1ZlcnNpb24gPSBtYXliZUV4cG9WZXJzaW9uXG4gID8gTnVtYmVyKG1heWJlRXhwb1ZlcnNpb24pIDw9IDM2XG4gIDogbWF5YmVFeHBvVmVyc2lvbiA9PT0gJ1VOVkVSU0lPTkVEJztcblxudHlwZSBQcm9wcyA9IHtcbiAgbW9kZTogU3RhY2tDYXJkTW9kZTtcbiAgaW5zZXRzOiBFZGdlSW5zZXRzO1xuICBzdGF0ZTogU3RhY2tOYXZpZ2F0aW9uU3RhdGU7XG4gIGRlc2NyaXB0b3JzOiBTdGFja0Rlc2NyaXB0b3JNYXA7XG4gIHJvdXRlczogUm91dGU8c3RyaW5nPltdO1xuICBvcGVuaW5nUm91dGVLZXlzOiBzdHJpbmdbXTtcbiAgY2xvc2luZ1JvdXRlS2V5czogc3RyaW5nW107XG4gIG9uT3BlblJvdXRlOiAocHJvcHM6IHsgcm91dGU6IFJvdXRlPHN0cmluZz4gfSkgPT4gdm9pZDtcbiAgb25DbG9zZVJvdXRlOiAocHJvcHM6IHsgcm91dGU6IFJvdXRlPHN0cmluZz4gfSkgPT4gdm9pZDtcbiAgZ2V0UHJldmlvdXNSb3V0ZTogKHByb3BzOiB7XG4gICAgcm91dGU6IFJvdXRlPHN0cmluZz47XG4gIH0pID0+IFJvdXRlPHN0cmluZz4gfCB1bmRlZmluZWQ7XG4gIGdldEdlc3R1cmVzRW5hYmxlZDogKHByb3BzOiB7IHJvdXRlOiBSb3V0ZTxzdHJpbmc+IH0pID0+IGJvb2xlYW47XG4gIHJlbmRlckhlYWRlcjogKHByb3BzOiBIZWFkZXJDb250YWluZXJQcm9wcykgPT4gUmVhY3QuUmVhY3ROb2RlO1xuICByZW5kZXJTY2VuZTogKHByb3BzOiB7IHJvdXRlOiBSb3V0ZTxzdHJpbmc+IH0pID0+IFJlYWN0LlJlYWN0Tm9kZTtcbiAgaGVhZGVyTW9kZTogU3RhY2tIZWFkZXJNb2RlO1xuICBvblRyYW5zaXRpb25TdGFydDogKFxuICAgIHByb3BzOiB7IHJvdXRlOiBSb3V0ZTxzdHJpbmc+IH0sXG4gICAgY2xvc2luZzogYm9vbGVhblxuICApID0+IHZvaWQ7XG4gIG9uVHJhbnNpdGlvbkVuZDogKHByb3BzOiB7IHJvdXRlOiBSb3V0ZTxzdHJpbmc+IH0sIGNsb3Npbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIG9uUGFnZUNoYW5nZVN0YXJ0PzogKCkgPT4gdm9pZDtcbiAgb25QYWdlQ2hhbmdlQ29uZmlybT86ICgpID0+IHZvaWQ7XG4gIG9uUGFnZUNoYW5nZUNhbmNlbD86ICgpID0+IHZvaWQ7XG59O1xuXG50eXBlIFN0YXRlID0ge1xuICByb3V0ZXM6IFJvdXRlPHN0cmluZz5bXTtcbiAgZGVzY3JpcHRvcnM6IFN0YWNrRGVzY3JpcHRvck1hcDtcbiAgc2NlbmVzOiBTY2VuZTxSb3V0ZTxzdHJpbmc+PltdO1xuICBnZXN0dXJlczogR2VzdHVyZVZhbHVlcztcbiAgbGF5b3V0OiBMYXlvdXQ7XG4gIGhlYWRlckhlaWdodHM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG59O1xuXG5jb25zdCBFUFNJTE9OID0gMC4wMTtcbmNvbnN0IEZBUl9GQVJfQVdBWSA9IDkwMDA7XG5cbmNvbnN0IGRpbWVuc2lvbnMgPSBEaW1lbnNpb25zLmdldCgnd2luZG93Jyk7XG5jb25zdCBsYXlvdXQgPSB7IHdpZHRoOiBkaW1lbnNpb25zLndpZHRoLCBoZWlnaHQ6IGRpbWVuc2lvbnMuaGVpZ2h0IH07XG5cbmNvbnN0IE1heWJlU2NyZWVuQ29udGFpbmVyID0gKHtcbiAgZW5hYmxlZCxcbiAgc3R5bGUsXG4gIC4uLnJlc3Rcbn06IFZpZXdQcm9wcyAmIHtcbiAgZW5hYmxlZDogYm9vbGVhbjtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn0pID0+IHtcbiAgaWYgKGVuYWJsZWQgJiYgc2NyZWVuc0VuYWJsZWQoKSkge1xuICAgIHJldHVybiA8U2NyZWVuQ29udGFpbmVyIHN0eWxlPXtzdHlsZX0gey4uLnJlc3R9IC8+O1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Vmlld1xuICAgICAgY29sbGFwc2FibGU9eyFlbmFibGVkfVxuICAgICAgcmVtb3ZlQ2xpcHBlZFN1YnZpZXdzPXtQbGF0Zm9ybS5PUyAhPT0gJ2lvcycgJiYgZW5hYmxlZH1cbiAgICAgIHN0eWxlPXtbc3R5bGUsIHsgb3ZlcmZsb3c6ICdoaWRkZW4nIH1dfVxuICAgICAgey4uLnJlc3R9XG4gICAgLz5cbiAgKTtcbn07XG5cbmNvbnN0IE1heWJlU2NyZWVuID0gKHtcbiAgZW5hYmxlZCxcbiAgYWN0aXZlLFxuICBzdHlsZSxcbiAgLi4ucmVzdFxufTogVmlld1Byb3BzICYge1xuICBlbmFibGVkOiBib29sZWFuO1xuICBhY3RpdmU6IG51bWJlciB8IEFuaW1hdGVkLkFuaW1hdGVkSW50ZXJwb2xhdGlvbjtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn0pID0+IHtcbiAgaWYgKGVuYWJsZWQgJiYgc2NyZWVuc0VuYWJsZWQoKSkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICByZXR1cm4gPFNjcmVlbiBhY3RpdmU9e2FjdGl2ZX0gc3R5bGU9e3N0eWxlfSB7Li4ucmVzdH0gLz47XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxBbmltYXRlZC5WaWV3XG4gICAgICBzdHlsZT17W1xuICAgICAgICBzdHlsZSxcbiAgICAgICAge1xuICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICAvLyBQb3NpdGlvbiB0aGUgc2NyZWVuIG9mZnNjcmVlbiB0byB0YWtlIGFkdmFudGFnZSBvZiBvZmZzY3JlZW4gcGVyZiBvcHRpbWl6YXRpb25cbiAgICAgICAgICAvLyBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy92aWV3I3JlbW92ZWNsaXBwZWRzdWJ2aWV3c1xuICAgICAgICAgIC8vIFRoaXMgY2FuIGJlIHVzZWZ1bCBpZiBzY3JlZW5zIGlzIG5vdCBlbmFibGVkXG4gICAgICAgICAgLy8gSXQncyBidWdneSBvbiBpT1MsIHNvIHdlIGRvbid0IGVuYWJsZSBpdCB0aGVyZVxuICAgICAgICAgIHRvcDpcbiAgICAgICAgICAgIGVuYWJsZWQgJiYgdHlwZW9mIGFjdGl2ZSA9PT0gJ251bWJlcicgJiYgIWFjdGl2ZSA/IEZBUl9GQVJfQVdBWSA6IDAsXG4gICAgICAgICAgdHJhbnNmb3JtOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBgYWN0aXZlYCBwcm9wIGlzIGFuaW1hdGVkIG5vZGUsIHdlIGNhbid0IHVzZSB0aGUgYGxlZnRgIHByb3BlcnR5IGR1ZSB0byBuYXRpdmUgZHJpdmVyXG4gICAgICAgICAgICAgIC8vIFNvIHdlIHVzZSBgdHJhbnNsYXRlWWAgaW5zdGVhZFxuICAgICAgICAgICAgICB0cmFuc2xhdGVZOlxuICAgICAgICAgICAgICAgIGVuYWJsZWQgJiYgdHlwZW9mIGFjdGl2ZSAhPT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICAgID8gYWN0aXZlLmludGVycG9sYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0UmFuZ2U6IFtGQVJfRkFSX0FXQVksIDBdLFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgOiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXX1cbiAgICAgIHsuLi5yZXN0fVxuICAgIC8+XG4gICk7XG59O1xuXG5jb25zdCBGQUxMQkFDS19ERVNDUklQVE9SID0gT2JqZWN0LmZyZWV6ZSh7IG9wdGlvbnM6IHt9IH0pO1xuXG5jb25zdCBnZXRIZWFkZXJIZWlnaHRzID0gKFxuICByb3V0ZXM6IFJvdXRlPHN0cmluZz5bXSxcbiAgaW5zZXRzOiBFZGdlSW5zZXRzLFxuICBkZXNjcmlwdG9yczogU3RhY2tEZXNjcmlwdG9yTWFwLFxuICBsYXlvdXQ6IExheW91dCxcbiAgcHJldmlvdXM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj5cbikgPT4ge1xuICByZXR1cm4gcm91dGVzLnJlZHVjZTxSZWNvcmQ8c3RyaW5nLCBudW1iZXI+PigoYWNjLCBjdXJyKSA9PiB7XG4gICAgY29uc3QgeyBvcHRpb25zID0ge30gfSA9IGRlc2NyaXB0b3JzW2N1cnIua2V5XSB8fCB7fTtcbiAgICBjb25zdCB7IGhlaWdodCA9IHByZXZpb3VzW2N1cnIua2V5XSB9ID0gU3R5bGVTaGVldC5mbGF0dGVuKFxuICAgICAgb3B0aW9ucy5oZWFkZXJTdHlsZSB8fCB7fVxuICAgICk7XG5cbiAgICBjb25zdCBzYWZlQXJlYUluc2V0cyA9IHtcbiAgICAgIC4uLmluc2V0cyxcbiAgICAgIC4uLm9wdGlvbnMuc2FmZUFyZWFJbnNldHMsXG4gICAgfTtcblxuICAgIGNvbnN0IHsgaGVhZGVyU3RhdHVzQmFySGVpZ2h0ID0gc2FmZUFyZWFJbnNldHMudG9wIH0gPSBvcHRpb25zO1xuXG4gICAgYWNjW2N1cnIua2V5XSA9XG4gICAgICB0eXBlb2YgaGVpZ2h0ID09PSAnbnVtYmVyJ1xuICAgICAgICA/IGhlaWdodFxuICAgICAgICA6IGdldERlZmF1bHRIZWFkZXJIZWlnaHQobGF5b3V0LCBoZWFkZXJTdGF0dXNCYXJIZWlnaHQpO1xuXG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xufTtcblxuY29uc3QgZ2V0RGlzdGFuY2VGcm9tT3B0aW9ucyA9IChcbiAgbW9kZTogU3RhY2tDYXJkTW9kZSxcbiAgbGF5b3V0OiBMYXlvdXQsXG4gIGRlc2NyaXB0b3I/OiBTdGFja0Rlc2NyaXB0b3JcbikgPT4ge1xuICBjb25zdCB7XG4gICAgZ2VzdHVyZURpcmVjdGlvbiA9IG1vZGUgPT09ICdtb2RhbCdcbiAgICAgID8gTW9kYWxUcmFuc2l0aW9uLmdlc3R1cmVEaXJlY3Rpb25cbiAgICAgIDogRGVmYXVsdFRyYW5zaXRpb24uZ2VzdHVyZURpcmVjdGlvbixcbiAgfSA9IGRlc2NyaXB0b3I/Lm9wdGlvbnMgfHwge307XG5cbiAgcmV0dXJuIGdldERpc3RhbmNlRm9yRGlyZWN0aW9uKGxheW91dCwgZ2VzdHVyZURpcmVjdGlvbik7XG59O1xuXG5jb25zdCBnZXRQcm9ncmVzc0Zyb21HZXN0dXJlID0gKFxuICBtb2RlOiBTdGFja0NhcmRNb2RlLFxuICBnZXN0dXJlOiBBbmltYXRlZC5WYWx1ZSxcbiAgbGF5b3V0OiBMYXlvdXQsXG4gIGRlc2NyaXB0b3I/OiBTdGFja0Rlc2NyaXB0b3JcbikgPT4ge1xuICBjb25zdCBkaXN0YW5jZSA9IGdldERpc3RhbmNlRnJvbU9wdGlvbnMobW9kZSwgbGF5b3V0LCBkZXNjcmlwdG9yKTtcblxuICBpZiAoZGlzdGFuY2UgPiAwKSB7XG4gICAgcmV0dXJuIGdlc3R1cmUuaW50ZXJwb2xhdGUoe1xuICAgICAgaW5wdXRSYW5nZTogWzAsIGRpc3RhbmNlXSxcbiAgICAgIG91dHB1dFJhbmdlOiBbMSwgMF0sXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZ2VzdHVyZS5pbnRlcnBvbGF0ZSh7XG4gICAgaW5wdXRSYW5nZTogW2Rpc3RhbmNlLCAwXSxcbiAgICBvdXRwdXRSYW5nZTogWzAsIDFdLFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmRTdGFjayBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wczogUHJvcHMsIHN0YXRlOiBTdGF0ZSkge1xuICAgIGlmIChcbiAgICAgIHByb3BzLnJvdXRlcyA9PT0gc3RhdGUucm91dGVzICYmXG4gICAgICBwcm9wcy5kZXNjcmlwdG9ycyA9PT0gc3RhdGUuZGVzY3JpcHRvcnNcbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGdlc3R1cmVzID0gcHJvcHMucm91dGVzLnJlZHVjZTxHZXN0dXJlVmFsdWVzPigoYWNjLCBjdXJyKSA9PiB7XG4gICAgICBjb25zdCBkZXNjcmlwdG9yID0gcHJvcHMuZGVzY3JpcHRvcnNbY3Vyci5rZXldO1xuICAgICAgY29uc3QgeyBhbmltYXRpb25FbmFibGVkIH0gPSBkZXNjcmlwdG9yPy5vcHRpb25zIHx8IHt9O1xuXG4gICAgICBhY2NbY3Vyci5rZXldID1cbiAgICAgICAgc3RhdGUuZ2VzdHVyZXNbY3Vyci5rZXldIHx8XG4gICAgICAgIG5ldyBBbmltYXRlZC5WYWx1ZShcbiAgICAgICAgICBwcm9wcy5vcGVuaW5nUm91dGVLZXlzLmluY2x1ZGVzKGN1cnIua2V5KSAmJlxuICAgICAgICAgIGFuaW1hdGlvbkVuYWJsZWQgIT09IGZhbHNlXG4gICAgICAgICAgICA/IGdldERpc3RhbmNlRnJvbU9wdGlvbnMocHJvcHMubW9kZSwgc3RhdGUubGF5b3V0LCBkZXNjcmlwdG9yKVxuICAgICAgICAgICAgOiAwXG4gICAgICAgICk7XG5cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJvdXRlczogcHJvcHMucm91dGVzLFxuICAgICAgc2NlbmVzOiBwcm9wcy5yb3V0ZXMubWFwKChyb3V0ZSwgaW5kZXgsIHNlbGYpID0+IHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNSb3V0ZSA9IHNlbGZbaW5kZXggLSAxXTtcbiAgICAgICAgY29uc3QgbmV4dFJvdXRlID0gc2VsZltpbmRleCArIDFdO1xuXG4gICAgICAgIGNvbnN0IG9sZFNjZW5lID0gc3RhdGUuc2NlbmVzW2luZGV4XTtcblxuICAgICAgICBjb25zdCBjdXJyZW50R2VzdHVyZSA9IGdlc3R1cmVzW3JvdXRlLmtleV07XG4gICAgICAgIGNvbnN0IHByZXZpb3VzR2VzdHVyZSA9IHByZXZpb3VzUm91dGVcbiAgICAgICAgICA/IGdlc3R1cmVzW3ByZXZpb3VzUm91dGUua2V5XVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBuZXh0R2VzdHVyZSA9IG5leHRSb3V0ZSA/IGdlc3R1cmVzW25leHRSb3V0ZS5rZXldIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPVxuICAgICAgICAgIHByb3BzLmRlc2NyaXB0b3JzW3JvdXRlLmtleV0gfHxcbiAgICAgICAgICBzdGF0ZS5kZXNjcmlwdG9yc1tyb3V0ZS5rZXldIHx8XG4gICAgICAgICAgKG9sZFNjZW5lID8gb2xkU2NlbmUuZGVzY3JpcHRvciA6IEZBTExCQUNLX0RFU0NSSVBUT1IpO1xuXG4gICAgICAgIGNvbnN0IG5leHREZXNjcmlwdG9yID1cbiAgICAgICAgICBwcm9wcy5kZXNjcmlwdG9yc1tuZXh0Um91dGU/LmtleV0gfHxcbiAgICAgICAgICBzdGF0ZS5kZXNjcmlwdG9yc1tuZXh0Um91dGU/LmtleV07XG5cbiAgICAgICAgY29uc3QgcHJldmlvdXNEZXNjcmlwdG9yID1cbiAgICAgICAgICBwcm9wcy5kZXNjcmlwdG9yc1twcmV2aW91c1JvdXRlPy5rZXldIHx8XG4gICAgICAgICAgc3RhdGUuZGVzY3JpcHRvcnNbcHJldmlvdXNSb3V0ZT8ua2V5XTtcblxuICAgICAgICBjb25zdCBzY2VuZSA9IHtcbiAgICAgICAgICByb3V0ZSxcbiAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgIHByb2dyZXNzOiB7XG4gICAgICAgICAgICBjdXJyZW50OiBnZXRQcm9ncmVzc0Zyb21HZXN0dXJlKFxuICAgICAgICAgICAgICBwcm9wcy5tb2RlLFxuICAgICAgICAgICAgICBjdXJyZW50R2VzdHVyZSxcbiAgICAgICAgICAgICAgc3RhdGUubGF5b3V0LFxuICAgICAgICAgICAgICBkZXNjcmlwdG9yXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgbmV4dDogbmV4dEdlc3R1cmVcbiAgICAgICAgICAgICAgPyBnZXRQcm9ncmVzc0Zyb21HZXN0dXJlKFxuICAgICAgICAgICAgICAgICAgcHJvcHMubW9kZSxcbiAgICAgICAgICAgICAgICAgIG5leHRHZXN0dXJlLFxuICAgICAgICAgICAgICAgICAgc3RhdGUubGF5b3V0LFxuICAgICAgICAgICAgICAgICAgbmV4dERlc2NyaXB0b3JcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcHJldmlvdXM6IHByZXZpb3VzR2VzdHVyZVxuICAgICAgICAgICAgICA/IGdldFByb2dyZXNzRnJvbUdlc3R1cmUoXG4gICAgICAgICAgICAgICAgICBwcm9wcy5tb2RlLFxuICAgICAgICAgICAgICAgICAgcHJldmlvdXNHZXN0dXJlLFxuICAgICAgICAgICAgICAgICAgc3RhdGUubGF5b3V0LFxuICAgICAgICAgICAgICAgICAgcHJldmlvdXNEZXNjcmlwdG9yXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIF9fbWVtbzogW1xuICAgICAgICAgICAgcm91dGUsXG4gICAgICAgICAgICBzdGF0ZS5sYXlvdXQsXG4gICAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgICAgbmV4dERlc2NyaXB0b3IsXG4gICAgICAgICAgICBwcmV2aW91c0Rlc2NyaXB0b3IsXG4gICAgICAgICAgICBjdXJyZW50R2VzdHVyZSxcbiAgICAgICAgICAgIG5leHRHZXN0dXJlLFxuICAgICAgICAgICAgcHJldmlvdXNHZXN0dXJlLFxuICAgICAgICAgIF0sXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIG9sZFNjZW5lICYmXG4gICAgICAgICAgc2NlbmUuX19tZW1vLmV2ZXJ5KChpdCwgaSkgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgcmV0dXJuIG9sZFNjZW5lLl9fbWVtb1tpXSA9PT0gaXQ7XG4gICAgICAgICAgfSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIG9sZFNjZW5lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNjZW5lO1xuICAgICAgfSksXG4gICAgICBnZXN0dXJlcyxcbiAgICAgIGRlc2NyaXB0b3JzOiBwcm9wcy5kZXNjcmlwdG9ycyxcbiAgICAgIGhlYWRlckhlaWdodHM6IGdldEhlYWRlckhlaWdodHMoXG4gICAgICAgIHByb3BzLnJvdXRlcyxcbiAgICAgICAgcHJvcHMuaW5zZXRzLFxuICAgICAgICBzdGF0ZS5kZXNjcmlwdG9ycyxcbiAgICAgICAgc3RhdGUubGF5b3V0LFxuICAgICAgICBzdGF0ZS5oZWFkZXJIZWlnaHRzXG4gICAgICApLFxuICAgIH07XG4gIH1cblxuICBzdGF0ZTogU3RhdGUgPSB7XG4gICAgcm91dGVzOiBbXSxcbiAgICBzY2VuZXM6IFtdLFxuICAgIGdlc3R1cmVzOiB7fSxcbiAgICBsYXlvdXQsXG4gICAgZGVzY3JpcHRvcnM6IHRoaXMucHJvcHMuZGVzY3JpcHRvcnMsXG4gICAgLy8gVXNlZCB3aGVuIGNhcmQncyBoZWFkZXIgaXMgbnVsbCBhbmQgbW9kZSBpcyBmbG9hdCB0byBtYWtlIHRyYW5zaXRpb25cbiAgICAvLyBiZXR3ZWVuIHNjcmVlbnMgd2l0aCBoZWFkZXJzIGFuZCB0aG9zZSB3aXRob3V0IGhlYWRlcnMgc21vb3RoLlxuICAgIC8vIFRoaXMgaXMgbm90IGEgZ3JlYXQgaGV1cmlzdGljIGhlcmUuIFdlIGRvbid0IGtub3cgc3luY2hyb25vdXNseVxuICAgIC8vIG9uIG1vdW50IHdoYXQgdGhlIGhlYWRlciBoZWlnaHQgaXMgc28gd2UgaGF2ZSBqdXN0IHVzZWQgdGhlIG1vc3RcbiAgICAvLyBjb21tb24gY2FzZXMgaGVyZS5cbiAgICBoZWFkZXJIZWlnaHRzOiB7fSxcbiAgfTtcblxuICBwcml2YXRlIGhhbmRsZUxheW91dCA9IChlOiBMYXlvdXRDaGFuZ2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHsgaGVpZ2h0LCB3aWR0aCB9ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG5cbiAgICBjb25zdCBsYXlvdXQgPSB7IHdpZHRoLCBoZWlnaHQgfTtcblxuICAgIHRoaXMuc2V0U3RhdGUoKHN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgaWYgKGhlaWdodCA9PT0gc3RhdGUubGF5b3V0LmhlaWdodCAmJiB3aWR0aCA9PT0gc3RhdGUubGF5b3V0LndpZHRoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYXlvdXQsXG4gICAgICAgIGhlYWRlckhlaWdodHM6IGdldEhlYWRlckhlaWdodHMoXG4gICAgICAgICAgcHJvcHMucm91dGVzLFxuICAgICAgICAgIHByb3BzLmluc2V0cyxcbiAgICAgICAgICBzdGF0ZS5kZXNjcmlwdG9ycyxcbiAgICAgICAgICBsYXlvdXQsXG4gICAgICAgICAge31cbiAgICAgICAgKSxcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBoYW5kbGVIZWFkZXJMYXlvdXQgPSAoe1xuICAgIHJvdXRlLFxuICAgIGhlaWdodCxcbiAgfToge1xuICAgIHJvdXRlOiBSb3V0ZTxzdHJpbmc+O1xuICAgIGhlaWdodDogbnVtYmVyO1xuICB9KSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSgoeyBoZWFkZXJIZWlnaHRzIH0pID0+IHtcbiAgICAgIGNvbnN0IHByZXZpb3VzSGVpZ2h0ID0gaGVhZGVySGVpZ2h0c1tyb3V0ZS5rZXldO1xuXG4gICAgICBpZiAocHJldmlvdXNIZWlnaHQgPT09IGhlaWdodCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaGVhZGVySGVpZ2h0czoge1xuICAgICAgICAgIC4uLmhlYWRlckhlaWdodHMsXG4gICAgICAgICAgW3JvdXRlLmtleV06IGhlaWdodCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBnZXRGb2N1c2VkUm91dGUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzdGF0ZSB9ID0gdGhpcy5wcm9wcztcblxuICAgIHJldHVybiBzdGF0ZS5yb3V0ZXNbc3RhdGUuaW5kZXhdO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBtb2RlLFxuICAgICAgaW5zZXRzLFxuICAgICAgZGVzY3JpcHRvcnMsXG4gICAgICBzdGF0ZSxcbiAgICAgIHJvdXRlcyxcbiAgICAgIGNsb3NpbmdSb3V0ZUtleXMsXG4gICAgICBvbk9wZW5Sb3V0ZSxcbiAgICAgIG9uQ2xvc2VSb3V0ZSxcbiAgICAgIGdldFByZXZpb3VzUm91dGUsXG4gICAgICBnZXRHZXN0dXJlc0VuYWJsZWQsXG4gICAgICByZW5kZXJIZWFkZXIsXG4gICAgICByZW5kZXJTY2VuZSxcbiAgICAgIGhlYWRlck1vZGUsXG4gICAgICBvblRyYW5zaXRpb25TdGFydCxcbiAgICAgIG9uVHJhbnNpdGlvbkVuZCxcbiAgICAgIG9uUGFnZUNoYW5nZVN0YXJ0LFxuICAgICAgb25QYWdlQ2hhbmdlQ29uZmlybSxcbiAgICAgIG9uUGFnZUNoYW5nZUNhbmNlbCxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHsgc2NlbmVzLCBsYXlvdXQsIGdlc3R1cmVzLCBoZWFkZXJIZWlnaHRzIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgZm9jdXNlZFJvdXRlID0gc3RhdGUucm91dGVzW3N0YXRlLmluZGV4XTtcbiAgICBjb25zdCBmb2N1c2VkRGVzY3JpcHRvciA9IGRlc2NyaXB0b3JzW2ZvY3VzZWRSb3V0ZS5rZXldO1xuICAgIGNvbnN0IGZvY3VzZWRPcHRpb25zID0gZm9jdXNlZERlc2NyaXB0b3IgPyBmb2N1c2VkRGVzY3JpcHRvci5vcHRpb25zIDoge307XG5cbiAgICBsZXQgZGVmYXVsdFRyYW5zaXRpb25QcmVzZXQgPVxuICAgICAgbW9kZSA9PT0gJ21vZGFsJyA/IE1vZGFsVHJhbnNpdGlvbiA6IERlZmF1bHRUcmFuc2l0aW9uO1xuXG4gICAgaWYgKGhlYWRlck1vZGUgPT09ICdzY3JlZW4nKSB7XG4gICAgICBkZWZhdWx0VHJhbnNpdGlvblByZXNldCA9IHtcbiAgICAgICAgLi4uZGVmYXVsdFRyYW5zaXRpb25QcmVzZXQsXG4gICAgICAgIGhlYWRlclN0eWxlSW50ZXJwb2xhdG9yOiBmb3JOb0FuaW1hdGlvbkhlYWRlcixcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgdG9wID0gaW5zZXRzLnRvcCxcbiAgICAgIHJpZ2h0ID0gaW5zZXRzLnJpZ2h0LFxuICAgICAgYm90dG9tID0gaW5zZXRzLmJvdHRvbSxcbiAgICAgIGxlZnQgPSBpbnNldHMubGVmdCxcbiAgICB9ID0gZm9jdXNlZE9wdGlvbnMuc2FmZUFyZWFJbnNldHMgfHwge307XG5cbiAgICAvLyBTY3JlZW5zIGlzIGJ1Z2d5IG9uIGlPUywgc28gd2UgZG9uJ3QgZW5hYmxlIGl0IHRoZXJlXG4gICAgLy8gRm9yIG1vZGFscywgdXN1YWxseSB3ZSB3YW50IHRoZSBzY3JlZW4gdW5kZXJuZWF0aCB0byBiZSB2aXNpYmxlLCBzbyBhbHNvIGRpc2FibGUgaXQgdGhlcmVcbiAgICBjb25zdCBpc1NjcmVlbnNFbmFibGVkID1cbiAgICAgIFBsYXRmb3JtLk9TICE9PSAnaW9zJyAmJlxuICAgICAgKGlzSW5zdWZmaWNpZW50RXhwb1ZlcnNpb24gPyBtb2RlICE9PSAnbW9kYWwnIDogdHJ1ZSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICA8TWF5YmVTY3JlZW5Db250YWluZXJcbiAgICAgICAgICBlbmFibGVkPXtpc1NjcmVlbnNFbmFibGVkfVxuICAgICAgICAgIHN0eWxlPXtzdHlsZXMuY29udGFpbmVyfVxuICAgICAgICAgIG9uTGF5b3V0PXt0aGlzLmhhbmRsZUxheW91dH1cbiAgICAgICAgPlxuICAgICAgICAgIHtyb3V0ZXMubWFwKChyb3V0ZSwgaW5kZXgsIHNlbGYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZvY3VzZWQgPSBmb2N1c2VkUm91dGUua2V5ID09PSByb3V0ZS5rZXk7XG4gICAgICAgICAgICBjb25zdCBnZXN0dXJlID0gZ2VzdHVyZXNbcm91dGUua2V5XTtcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lID0gc2NlbmVzW2luZGV4XTtcblxuICAgICAgICAgICAgLy8gRGlzcGxheSBjdXJyZW50IHNjcmVlbiBhbmQgYSBzY3JlZW4gYmVuZWF0aC5cbiAgICAgICAgICAgIGxldCBpc1NjcmVlbkFjdGl2ZTogQW5pbWF0ZWQuQW5pbWF0ZWRJbnRlcnBvbGF0aW9uIHwgMCB8IDEgPVxuICAgICAgICAgICAgICBpbmRleCA+PSBzZWxmLmxlbmd0aCAtIDIgPyAxIDogMDtcblxuICAgICAgICAgICAgaWYgKGlzSW5zdWZmaWNpZW50RXhwb1ZlcnNpb24pIHtcbiAgICAgICAgICAgICAgaXNTY3JlZW5BY3RpdmUgPVxuICAgICAgICAgICAgICAgIGluZGV4ID09PSBzZWxmLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICAgID8gMVxuICAgICAgICAgICAgICAgICAgOiBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnXG4gICAgICAgICAgICAgICAgICA/IHNjZW5lLnByb2dyZXNzLm5leHRcbiAgICAgICAgICAgICAgICAgICAgPyBzY2VuZS5wcm9ncmVzcy5uZXh0LmludGVycG9sYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxIC0gRVBTSUxPTiwgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRSYW5nZTogWzEsIDEsIDBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFwb2xhdGU6ICdjbGFtcCcsXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgOiAxXG4gICAgICAgICAgICAgICAgICA6IGluZGV4ID09PSBzZWxmLmxlbmd0aCAtIDJcbiAgICAgICAgICAgICAgICAgID8gMVxuICAgICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgIHNhZmVBcmVhSW5zZXRzLFxuICAgICAgICAgICAgICBoZWFkZXJTaG93bixcbiAgICAgICAgICAgICAgaGVhZGVyVHJhbnNwYXJlbnQsXG4gICAgICAgICAgICAgIGNhcmRTaGFkb3dFbmFibGVkLFxuICAgICAgICAgICAgICBjYXJkT3ZlcmxheUVuYWJsZWQsXG4gICAgICAgICAgICAgIGNhcmRTdHlsZSxcbiAgICAgICAgICAgICAgYW5pbWF0aW9uRW5hYmxlZCxcbiAgICAgICAgICAgICAgZ2VzdHVyZVJlc3BvbnNlRGlzdGFuY2UsXG4gICAgICAgICAgICAgIGdlc3R1cmVWZWxvY2l0eUltcGFjdCxcbiAgICAgICAgICAgICAgZ2VzdHVyZURpcmVjdGlvbiA9IGRlZmF1bHRUcmFuc2l0aW9uUHJlc2V0Lmdlc3R1cmVEaXJlY3Rpb24sXG4gICAgICAgICAgICAgIHRyYW5zaXRpb25TcGVjID0gZGVmYXVsdFRyYW5zaXRpb25QcmVzZXQudHJhbnNpdGlvblNwZWMsXG4gICAgICAgICAgICAgIGNhcmRTdHlsZUludGVycG9sYXRvciA9IGFuaW1hdGlvbkVuYWJsZWQgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgPyBmb3JOb0FuaW1hdGlvbkNhcmRcbiAgICAgICAgICAgICAgICA6IGRlZmF1bHRUcmFuc2l0aW9uUHJlc2V0LmNhcmRTdHlsZUludGVycG9sYXRvcixcbiAgICAgICAgICAgICAgaGVhZGVyU3R5bGVJbnRlcnBvbGF0b3IgPSBkZWZhdWx0VHJhbnNpdGlvblByZXNldC5oZWFkZXJTdHlsZUludGVycG9sYXRvcixcbiAgICAgICAgICAgIH0gPSBzY2VuZS5kZXNjcmlwdG9yXG4gICAgICAgICAgICAgID8gc2NlbmUuZGVzY3JpcHRvci5vcHRpb25zXG4gICAgICAgICAgICAgIDogKHt9IGFzIFN0YWNrTmF2aWdhdGlvbk9wdGlvbnMpO1xuXG4gICAgICAgICAgICBsZXQgdHJhbnNpdGlvbkNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgZ2VzdHVyZURpcmVjdGlvbixcbiAgICAgICAgICAgICAgdHJhbnNpdGlvblNwZWMsXG4gICAgICAgICAgICAgIGNhcmRTdHlsZUludGVycG9sYXRvcixcbiAgICAgICAgICAgICAgaGVhZGVyU3R5bGVJbnRlcnBvbGF0b3IsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBXaGVuIGEgc2NyZWVuIGlzIG5vdCB0aGUgbGFzdCwgaXQgc2hvdWxkIHVzZSBuZXh0IHNjcmVlbidzIHRyYW5zaXRpb24gY29uZmlnXG4gICAgICAgICAgICAvLyBNYW55IHRyYW5zaXRpb25zIGFsc28gYW5pbWF0ZSB0aGUgcHJldmlvdXMgc2NyZWVuLCBzbyB1c2luZyAyIGRpZmZlcmVudCB0cmFuc2l0aW9ucyBkb2Vzbid0IGxvb2sgcmlnaHRcbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlIGNvbWJpbmluZyBhIHNsaWRlIGFuZCBhIG1vZGFsIHRyYW5zaXRpb24gd291bGQgbG9vayB3cm9uZyBvdGhlcndpc2VcbiAgICAgICAgICAgIC8vIFdpdGggdGhpcyBhcHByb2FjaCwgY29tYmluaW5nIGRpZmZlcmVudCB0cmFuc2l0aW9uIHN0eWxlcyBpbiB0aGUgc2FtZSBuYXZpZ2F0b3IgbW9zdGx5IGxvb2tzIHJpZ2h0XG4gICAgICAgICAgICAvLyBUaGlzIHdpbGwgc3RpbGwgYmUgYnJva2VuIHdoZW4gMiB0cmFuc2l0aW9ucyBoYXZlIGRpZmZlcmVudCBpZGxlIHN0YXRlIChlLmcuIG1vZGFsIHByZXNlbnRhdGlvbiksXG4gICAgICAgICAgICAvLyBidXQgbWFqb3JpdHkgb2YgdGhlIHRyYW5zaXRpb25zIGxvb2sgYWxyaWdodFxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSBzZWxmLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgY29uc3QgbmV4dFNjZW5lID0gc2NlbmVzW2luZGV4ICsgMV07XG5cbiAgICAgICAgICAgICAgaWYgKG5leHRTY2VuZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkVuYWJsZWQsXG4gICAgICAgICAgICAgICAgICBnZXN0dXJlRGlyZWN0aW9uID0gZGVmYXVsdFRyYW5zaXRpb25QcmVzZXQuZ2VzdHVyZURpcmVjdGlvbixcbiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25TcGVjID0gZGVmYXVsdFRyYW5zaXRpb25QcmVzZXQudHJhbnNpdGlvblNwZWMsXG4gICAgICAgICAgICAgICAgICBjYXJkU3R5bGVJbnRlcnBvbGF0b3IgPSBhbmltYXRpb25FbmFibGVkID09PSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICA/IGZvck5vQW5pbWF0aW9uQ2FyZFxuICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRUcmFuc2l0aW9uUHJlc2V0LmNhcmRTdHlsZUludGVycG9sYXRvcixcbiAgICAgICAgICAgICAgICAgIGhlYWRlclN0eWxlSW50ZXJwb2xhdG9yID0gZGVmYXVsdFRyYW5zaXRpb25QcmVzZXQuaGVhZGVyU3R5bGVJbnRlcnBvbGF0b3IsXG4gICAgICAgICAgICAgICAgfSA9IG5leHRTY2VuZS5kZXNjcmlwdG9yXG4gICAgICAgICAgICAgICAgICA/IG5leHRTY2VuZS5kZXNjcmlwdG9yLm9wdGlvbnNcbiAgICAgICAgICAgICAgICAgIDogKHt9IGFzIFN0YWNrTmF2aWdhdGlvbk9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbkNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgIGdlc3R1cmVEaXJlY3Rpb24sXG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uU3BlYyxcbiAgICAgICAgICAgICAgICAgIGNhcmRTdHlsZUludGVycG9sYXRvcixcbiAgICAgICAgICAgICAgICAgIGhlYWRlclN0eWxlSW50ZXJwb2xhdG9yLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICB0b3A6IHNhZmVBcmVhSW5zZXRUb3AgPSBpbnNldHMudG9wLFxuICAgICAgICAgICAgICByaWdodDogc2FmZUFyZWFJbnNldFJpZ2h0ID0gaW5zZXRzLnJpZ2h0LFxuICAgICAgICAgICAgICBib3R0b206IHNhZmVBcmVhSW5zZXRCb3R0b20gPSBpbnNldHMuYm90dG9tLFxuICAgICAgICAgICAgICBsZWZ0OiBzYWZlQXJlYUluc2V0TGVmdCA9IGluc2V0cy5sZWZ0LFxuICAgICAgICAgICAgfSA9IHNhZmVBcmVhSW5zZXRzIHx8IHt9O1xuXG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c1JvdXRlID0gZ2V0UHJldmlvdXNSb3V0ZSh7IHJvdXRlOiBzY2VuZS5yb3V0ZSB9KTtcblxuICAgICAgICAgICAgbGV0IHByZXZpb3VzU2NlbmUgPSBzY2VuZXNbaW5kZXggLSAxXTtcblxuICAgICAgICAgICAgaWYgKHByZXZpb3VzUm91dGUpIHtcbiAgICAgICAgICAgICAgLy8gVGhlIHByZXZpb3VzIHNjZW5lIHdpbGwgYmUgc2hvcnRseSBiZWZvcmUgdGhlIGN1cnJlbnQgc2NlbmUgaW4gdGhlIGFycmF5XG4gICAgICAgICAgICAgIC8vIFNvIGxvb3AgYmFjayBmcm9tIGN1cnJlbnQgaW5kZXggdG8gYXZvaWQgbG9vcGluZyBvdmVyIHRoZSBmdWxsIGFycmF5XG4gICAgICAgICAgICAgIGZvciAobGV0IGogPSBpbmRleCAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IHNjZW5lc1tqXTtcblxuICAgICAgICAgICAgICAgIGlmIChzICYmIHMucm91dGUua2V5ID09PSBwcmV2aW91c1JvdXRlLmtleSkge1xuICAgICAgICAgICAgICAgICAgcHJldmlvdXNTY2VuZSA9IHM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPE1heWJlU2NyZWVuXG4gICAgICAgICAgICAgICAga2V5PXtyb3V0ZS5rZXl9XG4gICAgICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuYWJzb2x1dGVGaWxsfVxuICAgICAgICAgICAgICAgIGVuYWJsZWQ9e2lzU2NyZWVuc0VuYWJsZWR9XG4gICAgICAgICAgICAgICAgYWN0aXZlPXtpc1NjcmVlbkFjdGl2ZX1cbiAgICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzPVwiYm94LW5vbmVcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPENhcmRDb250YWluZXJcbiAgICAgICAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgIGFjdGl2ZT17aW5kZXggPT09IHNlbGYubGVuZ3RoIC0gMX1cbiAgICAgICAgICAgICAgICAgIGZvY3VzZWQ9e2ZvY3VzZWR9XG4gICAgICAgICAgICAgICAgICBjbG9zaW5nPXtjbG9zaW5nUm91dGVLZXlzLmluY2x1ZGVzKHJvdXRlLmtleSl9XG4gICAgICAgICAgICAgICAgICBsYXlvdXQ9e2xheW91dH1cbiAgICAgICAgICAgICAgICAgIGdlc3R1cmU9e2dlc3R1cmV9XG4gICAgICAgICAgICAgICAgICBzY2VuZT17c2NlbmV9XG4gICAgICAgICAgICAgICAgICBwcmV2aW91c1NjZW5lPXtwcmV2aW91c1NjZW5lfVxuICAgICAgICAgICAgICAgICAgc2FmZUFyZWFJbnNldFRvcD17c2FmZUFyZWFJbnNldFRvcH1cbiAgICAgICAgICAgICAgICAgIHNhZmVBcmVhSW5zZXRSaWdodD17c2FmZUFyZWFJbnNldFJpZ2h0fVxuICAgICAgICAgICAgICAgICAgc2FmZUFyZWFJbnNldEJvdHRvbT17c2FmZUFyZWFJbnNldEJvdHRvbX1cbiAgICAgICAgICAgICAgICAgIHNhZmVBcmVhSW5zZXRMZWZ0PXtzYWZlQXJlYUluc2V0TGVmdH1cbiAgICAgICAgICAgICAgICAgIGNhcmRPdmVybGF5RW5hYmxlZD17Y2FyZE92ZXJsYXlFbmFibGVkfVxuICAgICAgICAgICAgICAgICAgY2FyZFNoYWRvd0VuYWJsZWQ9e2NhcmRTaGFkb3dFbmFibGVkfVxuICAgICAgICAgICAgICAgICAgY2FyZFN0eWxlPXtjYXJkU3R5bGV9XG4gICAgICAgICAgICAgICAgICBvblBhZ2VDaGFuZ2VTdGFydD17b25QYWdlQ2hhbmdlU3RhcnR9XG4gICAgICAgICAgICAgICAgICBvblBhZ2VDaGFuZ2VDb25maXJtPXtvblBhZ2VDaGFuZ2VDb25maXJtfVxuICAgICAgICAgICAgICAgICAgb25QYWdlQ2hhbmdlQ2FuY2VsPXtvblBhZ2VDaGFuZ2VDYW5jZWx9XG4gICAgICAgICAgICAgICAgICBnZXN0dXJlUmVzcG9uc2VEaXN0YW5jZT17Z2VzdHVyZVJlc3BvbnNlRGlzdGFuY2V9XG4gICAgICAgICAgICAgICAgICBoZWFkZXJIZWlnaHQ9e2hlYWRlckhlaWdodHNbcm91dGUua2V5XX1cbiAgICAgICAgICAgICAgICAgIG9uSGVhZGVySGVpZ2h0Q2hhbmdlPXt0aGlzLmhhbmRsZUhlYWRlckxheW91dH1cbiAgICAgICAgICAgICAgICAgIGdldFByZXZpb3VzUm91dGU9e2dldFByZXZpb3VzUm91dGV9XG4gICAgICAgICAgICAgICAgICBnZXRGb2N1c2VkUm91dGU9e3RoaXMuZ2V0Rm9jdXNlZFJvdXRlfVxuICAgICAgICAgICAgICAgICAgaGVhZGVyTW9kZT17aGVhZGVyTW9kZX1cbiAgICAgICAgICAgICAgICAgIGhlYWRlclNob3duPXtoZWFkZXJTaG93bn1cbiAgICAgICAgICAgICAgICAgIGhlYWRlclRyYW5zcGFyZW50PXtoZWFkZXJUcmFuc3BhcmVudH1cbiAgICAgICAgICAgICAgICAgIHJlbmRlckhlYWRlcj17cmVuZGVySGVhZGVyfVxuICAgICAgICAgICAgICAgICAgcmVuZGVyU2NlbmU9e3JlbmRlclNjZW5lfVxuICAgICAgICAgICAgICAgICAgb25PcGVuUm91dGU9e29uT3BlblJvdXRlfVxuICAgICAgICAgICAgICAgICAgb25DbG9zZVJvdXRlPXtvbkNsb3NlUm91dGV9XG4gICAgICAgICAgICAgICAgICBvblRyYW5zaXRpb25TdGFydD17b25UcmFuc2l0aW9uU3RhcnR9XG4gICAgICAgICAgICAgICAgICBvblRyYW5zaXRpb25FbmQ9e29uVHJhbnNpdGlvbkVuZH1cbiAgICAgICAgICAgICAgICAgIGdlc3R1cmVFbmFibGVkPXtpbmRleCAhPT0gMCAmJiBnZXRHZXN0dXJlc0VuYWJsZWQoeyByb3V0ZSB9KX1cbiAgICAgICAgICAgICAgICAgIGdlc3R1cmVWZWxvY2l0eUltcGFjdD17Z2VzdHVyZVZlbG9jaXR5SW1wYWN0fVxuICAgICAgICAgICAgICAgICAgey4uLnRyYW5zaXRpb25Db25maWd9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9NYXliZVNjcmVlbj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvTWF5YmVTY3JlZW5Db250YWluZXI+XG4gICAgICAgIHtoZWFkZXJNb2RlID09PSAnZmxvYXQnXG4gICAgICAgICAgPyByZW5kZXJIZWFkZXIoe1xuICAgICAgICAgICAgICBtb2RlOiAnZmxvYXQnLFxuICAgICAgICAgICAgICBsYXlvdXQsXG4gICAgICAgICAgICAgIGluc2V0czogeyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQgfSxcbiAgICAgICAgICAgICAgc2NlbmVzLFxuICAgICAgICAgICAgICBnZXRQcmV2aW91c1JvdXRlLFxuICAgICAgICAgICAgICBnZXRGb2N1c2VkUm91dGU6IHRoaXMuZ2V0Rm9jdXNlZFJvdXRlLFxuICAgICAgICAgICAgICBvbkNvbnRlbnRIZWlnaHRDaGFuZ2U6IHRoaXMuaGFuZGxlSGVhZGVyTGF5b3V0LFxuICAgICAgICAgICAgICBnZXN0dXJlRGlyZWN0aW9uOlxuICAgICAgICAgICAgICAgIGZvY3VzZWRPcHRpb25zLmdlc3R1cmVEaXJlY3Rpb24gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgPyBmb2N1c2VkT3B0aW9ucy5nZXN0dXJlRGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICA6IGRlZmF1bHRUcmFuc2l0aW9uUHJlc2V0Lmdlc3R1cmVEaXJlY3Rpb24sXG4gICAgICAgICAgICAgIHN0eWxlSW50ZXJwb2xhdG9yOlxuICAgICAgICAgICAgICAgIGZvY3VzZWRPcHRpb25zLmhlYWRlclN0eWxlSW50ZXJwb2xhdG9yICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgID8gZm9jdXNlZE9wdGlvbnMuaGVhZGVyU3R5bGVJbnRlcnBvbGF0b3JcbiAgICAgICAgICAgICAgICAgIDogZGVmYXVsdFRyYW5zaXRpb25QcmVzZXQuaGVhZGVyU3R5bGVJbnRlcnBvbGF0b3IsXG4gICAgICAgICAgICAgIHN0eWxlOiBzdHlsZXMuZmxvYXRpbmcsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogbnVsbH1cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGNvbnRhaW5lcjoge1xuICAgIGZsZXg6IDEsXG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICB9LFxuICBmbG9hdGluZzoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwLFxuICAgIHJpZ2h0OiAwLFxuICB9LFxufSk7XG4iXX0=