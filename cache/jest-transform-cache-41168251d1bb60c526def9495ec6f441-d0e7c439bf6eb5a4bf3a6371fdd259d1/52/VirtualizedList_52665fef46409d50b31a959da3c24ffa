2250d83e6597075ff480cacf70d0b5ab
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf3 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var Batchinator = require("../Interaction/Batchinator");

var FillRateHelper = require("./FillRateHelper");

var PropTypes = require('prop-types');

var React = require('react');

var ReactNative = require("../Renderer/shims/ReactNative");

var RefreshControl = require("../Components/RefreshControl/RefreshControl");

var ScrollView = require("../Components/ScrollView/ScrollView");

var StyleSheet = require("../StyleSheet/StyleSheet");

var View = require("../Components/View/View");

var ViewabilityHelper = require("./ViewabilityHelper");

var flattenStyle = require("../StyleSheet/flattenStyle");

var infoLog = require("../Utilities/infoLog");

var invariant = require('invariant');

var warning = require('fbjs/lib/warning');

var _require = require("./VirtualizeUtils"),
    computeWindowedRenderLimits = _require.computeWindowedRenderLimits;

var _usedIndexForKey = false;
var _keylessItemComponentName = '';

var VirtualizedList = function (_React$PureComponent) {
  (0, _inherits2.default)(VirtualizedList, _React$PureComponent);
  (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;

      var frame = this._getFrameMetricsApprox(veryLast);

      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);

      this._scrollRef.scrollTo(this.props.horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props = this.props,
          data = _this$props.data,
          horizontal = _this$props.horizontal,
          getItemCount = _this$props.getItemCount,
          getItemLayout = _this$props.getItemLayout,
          onScrollToIndexFailed = _this$props.onScrollToIndexFailed;
      var animated = params.animated,
          index = params.index,
          viewOffset = params.viewOffset,
          viewPosition = params.viewPosition;
      invariant(index >= 0 && index < getItemCount(data), "scrollToIndex out of range: requested index " + index + " but maximum is " + (getItemCount(data) - 1));

      if (!getItemLayout && index > this._highestMeasuredFrameIndex) {
        invariant(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._averageCellLength,
          highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,
          index: index
        });
        return;
      }

      var frame = this._getFrameMetricsApprox(index);

      var offset = Math.max(0, frame.offset - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);

      this._scrollRef.scrollTo(horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props2 = this.props,
          data = _this$props2.data,
          getItem = _this$props2.getItem,
          getItemCount = _this$props2.getItemCount;
      var itemCount = getItemCount(data);

      for (var _index = 0; _index < itemCount; _index++) {
        if (getItem(data, _index) === item) {
          this.scrollToIndex(_objectSpread({}, params, {
            index: _index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
          offset = params.offset;

      this._scrollRef.scrollTo(this.props.horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref.recordInteraction();
      });

      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });

      this._updateViewableItems(this.props.data);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return ReactNative.findNodeHandle(this._scrollRef);
      }
    }
  }, {
    key: "getScrollRef",
    value: function getScrollRef() {
      if (this._scrollRef && this._scrollRef.getScrollRef) {
        return this._scrollRef.getScrollRef();
      } else {
        return this._scrollRef;
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "getChildContext",
    value: function getChildContext() {
      return {
        virtualizedList: {
          getScrollMetrics: this._getScrollMetrics,
          horizontal: this.props.horizontal,
          getOutermostParentListRef: this._getOutermostParentListRef,
          getNestedChildState: this._getNestedChildState,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild
        }
      };
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      return this.context.virtualizedCell && this.context.virtualizedCell.cellKey || 'rootList';
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }]);

  function VirtualizedList(_props, context) {
    var _this;

    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf3.default)(VirtualizedList).call(this, _props, context));

    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };

    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.virtualizedList.getOutermostParentListRef();
      } else {
        return (0, _assertThisInitialized2.default)(_this);
      }
    };

    _this._getNestedChildState = function (key) {
      var existingChildData = _this._nestedChildLists.get(key);

      return existingChildData && existingChildData.state;
    };

    _this._registerAsNestedChild = function (childList) {
      var childListsInCell = _this._cellKeysToChildListKeys.get(childList.cellKey) || new Set();
      childListsInCell.add(childList.key);

      _this._cellKeysToChildListKeys.set(childList.cellKey, childListsInCell);

      var existingChildData = _this._nestedChildLists.get(childList.key);

      if (existingChildData && existingChildData.ref !== null) {
        console.error('A VirtualizedList contains a cell which itself contains ' + 'more than one VirtualizedList of the same orientation as the parent ' + 'list. You must pass a unique listKey prop to each sibling list.');
      }

      _this._nestedChildLists.set(childList.key, {
        ref: childList.ref,
        state: null
      });

      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };

    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.set(childList.key, {
        ref: null,
        state: childList.state
      });
    };

    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };

    _this._averageCellLength = 0;
    _this._cellKeysToChildListKeys = new Map();
    _this._cellRefs = {};
    _this._frames = {};
    _this._footerLength = 0;
    _this._hasDataChangedSinceEndReached = true;
    _this._hasDoneInitialScroll = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._highestMeasuredFrameIndex = 0;
    _this._indicesToKeys = new Map();
    _this._nestedChildLists = new Map();
    _this._offsetFromParentVirtualizedList = 0;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      contentLength: 0,
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0
    };
    _this._scrollRef = null;
    _this._sentEndForContentLength = 0;
    _this._totalCellLength = 0;
    _this._totalCellsMeasured = 0;
    _this._viewabilityTuples = [];

    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };

    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;

      if (_this._isNestedWithSameOrientation()) {
        return React.createElement(View, props);
      } else if (onRefresh) {
        invariant(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify(props.refreshing) + '`');
        return React.createElement(ScrollView, (0, _extends2.default)({}, props, {
          refreshControl: props.refreshControl == null ? React.createElement(RefreshControl, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return React.createElement(ScrollView, props);
      }
    };

    _this._onCellUnmount = function (cellKey) {
      var curr = _this._frames[cellKey];

      if (curr) {
        _this._frames[cellKey] = _objectSpread({}, curr, {
          inLayout: false
        });
      }
    };

    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }

      _this.props.onLayout && _this.props.onLayout(e);

      _this._scheduleCellsToRenderUpdate();

      _this._maybeCallOnEndReached();
    };

    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };

    _this._onLayoutFooter = function (e) {
      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };

    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };

    _this._onContentSizeChange = function (width, height) {
      if (width > 0 && height > 0 && _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 && !_this._hasDoneInitialScroll) {
        _this.scrollToIndex({
          animated: false,
          index: _this.props.initialScrollIndex
        });

        _this._hasDoneInitialScroll = true;
      }

      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }

      _this._scrollMetrics.contentLength = _this._selectLength({
        height: height,
        width: width
      });

      _this._scheduleCellsToRenderUpdate();

      _this._maybeCallOnEndReached();
    };

    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._scrollMetrics.contentLength;
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };

    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScroll(e);
      });

      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }

      var timestamp = e.timeStamp;

      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);

      var contentLength = _this._selectLength(e.nativeEvent.contentSize);

      var offset = _this._selectOffset(e.nativeEvent.contentOffset);

      var dOffset = offset - _this._scrollMetrics.offset;

      if (_this._isNestedWithSameOrientation()) {
        if (_this._scrollMetrics.contentLength === 0) {
          return;
        }

        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });

        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }

      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;

      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        infoLog('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }

      _this._scrollMetrics = {
        contentLength: contentLength,
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength
      };

      _this._updateViewableItems(_this.props.data);

      if (!_this.props) {
        return;
      }

      _this._maybeCallOnEndReached();

      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }

      _this._computeBlankness();

      _this._scheduleCellsToRenderUpdate();
    };

    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScrollBeginDrag(e);
      });

      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });

      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };

    _this._onScrollEndDrag = function (e) {
      var velocity = e.nativeEvent.velocity;

      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }

      _this._computeBlankness();

      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };

    _this._onMomentumScrollEnd = function (e) {
      _this._scrollMetrics.velocity = 0;

      _this._computeBlankness();

      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };

    _this._updateCellsToRender = function () {
      var _this$props3 = _this.props,
          data = _this$props3.data,
          getItemCount = _this$props3.getItemCount,
          onEndReachedThreshold = _this$props3.onEndReachedThreshold;

      var isVirtualizationDisabled = _this._isVirtualizationDisabled();

      _this._updateViewableItems(data);

      if (!data) {
        return;
      }

      _this.setState(function (state) {
        var newState;

        if (!isVirtualizationDisabled) {
          if (_this._scrollMetrics.visibleLength) {
            if (!_this.props.initialScrollIndex || _this._scrollMetrics.offset) {
              newState = computeWindowedRenderLimits(_this.props, state, _this._getFrameMetricsApprox, _this._scrollMetrics);
            }
          }
        } else {
          var _this$_scrollMetrics = _this._scrollMetrics,
              contentLength = _this$_scrollMetrics.contentLength,
              offset = _this$_scrollMetrics.offset,
              visibleLength = _this$_scrollMetrics.visibleLength;
          var distanceFromEnd = contentLength - visibleLength - offset;
          var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? _this.props.maxToRenderPerBatch : 0;
          newState = {
            first: 0,
            last: Math.min(state.last + renderAhead, getItemCount(data) - 1)
          };
        }

        if (newState && _this._nestedChildLists.size > 0) {
          var newFirst = newState.first;
          var newLast = newState.last;

          for (var ii = newFirst; ii <= newLast; ii++) {
            var cellKeyForIndex = _this._indicesToKeys.get(ii);

            var childListKeys = cellKeyForIndex && _this._cellKeysToChildListKeys.get(cellKeyForIndex);

            if (!childListKeys) {
              continue;
            }

            var someChildHasMore = false;

            for (var _iterator = childListKeys, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[typeof Symbol === "function" ? typeof Symbol === "function" ? Symbol.iterator : "@@iterator" : "@@iterator"]();;) {
              var _ref;

              if (_isArray) {
                if (_i >= _iterator.length) break;
                _ref = _iterator[_i++];
              } else {
                _i = _iterator.next();
                if (_i.done) break;
                _ref = _i.value;
              }

              var _childKey = _ref;

              var _childList = _this._nestedChildLists.get(_childKey);

              if (_childList && _childList.ref && _childList.ref.hasMore()) {
                someChildHasMore = true;
                break;
              }
            }

            if (someChildHasMore) {
              newState.last = ii;
              break;
            }
          }
        }

        return newState;
      });
    };

    _this._createViewToken = function (index, isViewable) {
      var _this$props4 = _this.props,
          data = _this$props4.data,
          getItem = _this$props4.getItem,
          keyExtractor = _this$props4.keyExtractor;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: keyExtractor(item, index),
        isViewable: isViewable
      };
    };

    _this._getFrameMetricsApprox = function (index) {
      var frame = _this._getFrameMetrics(index);

      if (frame && frame.index === index) {
        return frame;
      } else {
        var getItemLayout = _this.props.getItemLayout;
        invariant(!getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');
        return {
          length: _this._averageCellLength,
          offset: _this._averageCellLength * index
        };
      }
    };

    _this._getFrameMetrics = function (index) {
      var _this$props5 = _this.props,
          data = _this$props5.data,
          getItem = _this$props5.getItem,
          getItemCount = _this$props5.getItemCount,
          getItemLayout = _this$props5.getItemLayout,
          keyExtractor = _this$props5.keyExtractor;
      invariant(getItemCount(data) > index, 'Tried to get frame for out of range index ' + index);
      var item = getItem(data, index);

      var frame = item && _this._frames[keyExtractor(item, index)];

      if (!frame || frame.index !== index) {
        if (getItemLayout) {
          frame = getItemLayout(data, index);

          if (__DEV__) {
            var frameType = PropTypes.shape({
              length: PropTypes.number.isRequired,
              offset: PropTypes.number.isRequired,
              index: PropTypes.number.isRequired
            }).isRequired;
            PropTypes.checkPropTypes({
              frame: frameType
            }, {
              frame: frame
            }, 'frame', 'VirtualizedList.getItemLayout');
          }
        }
      }

      return frame;
    };

    invariant(!_props.onScroll || !_props.onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
    invariant(_props.windowSize > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
    _this._fillRateHelper = new FillRateHelper(_this._getFrameMetrics);
    _this._updateCellsToRenderBatcher = new Batchinator(_this._updateCellsToRender, _this.props.updateCellsBatchingPeriod);

    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new ViewabilityHelper(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else if (_this.props.onViewableItemsChanged) {
      _this._viewabilityTuples.push({
        viewabilityHelper: new ViewabilityHelper(_this.props.viewabilityConfig),
        onViewableItemsChanged: _this.props.onViewableItemsChanged
      });
    }

    var initialState = {
      first: _this.props.initialScrollIndex || 0,
      last: Math.min(_this.props.getItemCount(_this.props.data), (_this.props.initialScrollIndex || 0) + _this.props.initialNumToRender) - 1
    };

    if (_this._isNestedWithSameOrientation()) {
      var storedState = _this.context.virtualizedList.getNestedChildState(_this.props.listKey || _this._getCellKey());

      if (storedState) {
        initialState = storedState;
        _this.state = storedState;
        _this._frames = storedState.frames;
      }
    }

    _this.state = initialState;
    return _this;
  }

  (0, _createClass2.default)(VirtualizedList, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.virtualizedList.registerAsNestedChild({
          cellKey: this._getCellKey(),
          key: this.props.listKey || this._getCellKey(),
          ref: this
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.virtualizedList.unregisterAsNestedChild({
          key: this.props.listKey || this._getCellKey(),
          state: {
            first: this.state.first,
            last: this.state.last,
            frames: this._frames
          }
        });
      }

      this._updateViewableItems(null);

      this._updateCellsToRenderBatcher.dispose({
        abort: true
      });

      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });

      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;

      var _this$props6 = this.props,
          CellRendererComponent = _this$props6.CellRendererComponent,
          ItemSeparatorComponent = _this$props6.ItemSeparatorComponent,
          data = _this$props6.data,
          getItem = _this$props6.getItem,
          getItemCount = _this$props6.getItemCount,
          horizontal = _this$props6.horizontal,
          keyExtractor = _this$props6.keyExtractor;
      var stickyOffset = this.props.ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);

      var _loop = function _loop(ii) {
        var item = getItem(data, ii);
        var key = keyExtractor(item, ii);

        _this2._indicesToKeys.set(ii, key);

        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }

        cells.push(React.createElement(CellRenderer, {
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          cellKey: key,
          fillRateHelper: _this2._fillRateHelper,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          key: key,
          prevCellKey: prevCellKey,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onLayout: function onLayout(e) {
            return _this2._onCellLayout(e, key, ii);
          },
          onUnmount: _this2._onCellUnmount,
          parentProps: _this2.props,
          ref: function ref(_ref2) {
            _this2._cellRefs[key] = _ref2;
          }
        }));
        prevCellKey = key;
      };

      for (var ii = first; ii <= last; ii++) {
        _loop(ii);
      }
    }
  }, {
    key: "_isVirtualizationDisabled",
    value: function _isVirtualizationDisabled() {
      return this.props.disableVirtualization || false;
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context.virtualizedList;
      return !!(nestedContext && !!nestedContext.horizontal === !!this.props.horizontal);
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      if (__DEV__) {
        var flatStyles = flattenStyle(this.props.contentContainerStyle);
        warning(flatStyles == null || flatStyles.flexWrap !== 'wrap', '`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
      }

      var _this$props7 = this.props,
          ListEmptyComponent = _this$props7.ListEmptyComponent,
          ListFooterComponent = _this$props7.ListFooterComponent,
          ListHeaderComponent = _this$props7.ListHeaderComponent;
      var _this$props8 = this.props,
          data = _this$props8.data,
          horizontal = _this$props8.horizontal;

      var isVirtualizationDisabled = this._isVirtualizationDisabled();

      var inversionStyle = this.props.inverted ? this.props.horizontal ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];

      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }

        var element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : React.createElement(ListHeaderComponent, null);
        cells.push(React.createElement(VirtualizedCellWrapper, {
          cellKey: this._getCellKey() + '-header',
          key: "$header"
        }, React.createElement(View, {
          onLayout: this._onLayoutHeader,
          style: StyleSheet.compose(inversionStyle, this.props.ListHeaderComponentStyle)
        }, element)));
      }

      var itemCount = this.props.getItemCount(data);

      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';
        var spacerKey = !horizontal ? 'height' : 'width';
        var lastInitialIndex = this.props.initialScrollIndex ? -1 : this.props.initialNumToRender - 1;
        var _this$state = this.state,
            first = _this$state.first,
            last = _this$state.last;

        this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, 0, lastInitialIndex, inversionStyle);

        var firstAfterInitial = Math.max(lastInitialIndex + 1, first);

        if (!isVirtualizationDisabled && first > lastInitialIndex + 1) {
          var insertedStickySpacer = false;

          if (stickyIndicesFromProps.size > 0) {
            var stickyOffset = ListHeaderComponent ? 1 : 0;

            for (var ii = firstAfterInitial - 1; ii > lastInitialIndex; ii--) {
              if (stickyIndicesFromProps.has(ii + stickyOffset)) {
                var initBlock = this._getFrameMetricsApprox(lastInitialIndex);

                var stickyBlock = this._getFrameMetricsApprox(ii);

                var leadSpace = stickyBlock.offset - initBlock.offset - (this.props.initialScrollIndex ? 0 : initBlock.length);
                cells.push(React.createElement(View, {
                  key: "$sticky_lead",
                  style: (0, _defineProperty2.default)({}, spacerKey, leadSpace)
                }));

                this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, ii, ii, inversionStyle);

                var trailSpace = this._getFrameMetricsApprox(first).offset - (stickyBlock.offset + stickyBlock.length);
                cells.push(React.createElement(View, {
                  key: "$sticky_trail",
                  style: (0, _defineProperty2.default)({}, spacerKey, trailSpace)
                }));
                insertedStickySpacer = true;
                break;
              }
            }
          }

          if (!insertedStickySpacer) {
            var _initBlock = this._getFrameMetricsApprox(lastInitialIndex);

            var firstSpace = this._getFrameMetricsApprox(first).offset - (_initBlock.offset + _initBlock.length);

            cells.push(React.createElement(View, {
              key: "$lead_spacer",
              style: (0, _defineProperty2.default)({}, spacerKey, firstSpace)
            }));
          }
        }

        this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, firstAfterInitial, last, inversionStyle);

        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }

        if (!isVirtualizationDisabled && last < itemCount - 1) {
          var lastFrame = this._getFrameMetricsApprox(last);

          var end = this.props.getItemLayout ? itemCount - 1 : Math.min(itemCount - 1, this._highestMeasuredFrameIndex);

          var endFrame = this._getFrameMetricsApprox(end);

          var tailSpacerLength = endFrame.offset + endFrame.length - (lastFrame.offset + lastFrame.length);
          cells.push(React.createElement(View, {
            key: "$tail_spacer",
            style: (0, _defineProperty2.default)({}, spacerKey, tailSpacerLength)
          }));
        }
      } else if (ListEmptyComponent) {
        var _element = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : React.createElement(ListEmptyComponent, null);

        cells.push(React.cloneElement(_element, {
          key: '$empty',
          onLayout: function onLayout(event) {
            _this3._onLayoutEmpty(event);

            if (_element.props.onLayout) {
              _element.props.onLayout(event);
            }
          },
          style: StyleSheet.compose(inversionStyle, _element.props.style)
        }));
      }

      if (ListFooterComponent) {
        var _element2 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : React.createElement(ListFooterComponent, null);

        cells.push(React.createElement(VirtualizedCellWrapper, {
          cellKey: this._getCellKey() + '-footer',
          key: "$footer"
        }, React.createElement(View, {
          onLayout: this._onLayoutFooter,
          style: StyleSheet.compose(inversionStyle, this.props.ListFooterComponentStyle)
        }, _element2)));
      }

      var scrollProps = _objectSpread({}, this.props, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: this.props.scrollEventThrottle,
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices
      });

      if (inversionStyle) {
        scrollProps.style = [inversionStyle, this.props.style];
      }

      this._hasMore = this.state.last < this.props.getItemCount(this.props.data) - 1;
      var innerRet = React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
        ref: this._captureScrollRef
      }, cells);
      var ret = innerRet;

      if (__DEV__) {
        ret = React.createElement(ScrollView.Context.Consumer, null, function (scrollContext) {
          if (scrollContext != null && !scrollContext.horizontal === !_this3.props.horizontal && !_this3._hasWarned.nesting && _this3.context.virtualizedList == null) {
            console.warn('VirtualizedLists should never be nested inside plain ScrollViews with the same ' + 'orientation - use another VirtualizedList-backed container instead.');
            _this3._hasWarned.nesting = true;
          }

          return innerRet;
        });
      }

      if (this.props.debug) {
        return React.createElement(View, {
          style: styles.debug
        }, ret, this._renderDebugOverlay());
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props9 = this.props,
          data = _this$props9.data,
          extraData = _this$props9.extraData;

      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._hasDataChangedSinceEndReached = true;

        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }

      var hiPriInProgress = this._hiPriInProgress;

      this._scheduleCellsToRenderUpdate();

      if (hiPriInProgress) {
        this._hiPriInProgress = false;
      }
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state, this._scrollMetrics);
    }
  }, {
    key: "_onCellLayout",
    value: function _onCellLayout(e, cellKey, index) {
      var layout = e.nativeEvent.layout;
      var next = {
        offset: this._selectOffset(layout),
        length: this._selectLength(layout),
        index: index,
        inLayout: true
      };
      var curr = this._frames[cellKey];

      if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {
        this._totalCellLength += next.length - (curr ? curr.length : 0);
        this._totalCellsMeasured += curr ? 0 : 1;
        this._averageCellLength = this._totalCellLength / this._totalCellsMeasured;
        this._frames[cellKey] = next;
        this._highestMeasuredFrameIndex = Math.max(this._highestMeasuredFrameIndex, index);

        this._scheduleCellsToRenderUpdate();
      } else {
        this._frames[cellKey].inLayout = true;
      }

      var childListKeys = this._cellKeysToChildListKeys.get(cellKey);

      if (childListKeys) {
        for (var _iterator2 = childListKeys, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[typeof Symbol === "function" ? Symbol.iterator : "@@iterator"]();;) {
          var _ref7;

          if (_isArray2) {
            if (_i2 >= _iterator2.length) break;
            _ref7 = _iterator2[_i2++];
          } else {
            _i2 = _iterator2.next();
            if (_i2.done) break;
            _ref7 = _i2.value;
          }

          var _childKey2 = _ref7;

          var _childList2 = this._nestedChildLists.get(_childKey2);

          _childList2 && _childList2.ref && _childList2.ref.measureLayoutRelativeToContainingList();
        }
      }

      this._computeBlankness();

      this._updateViewableItems(this.props.data);
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this4 = this;

      try {
        if (!this._scrollRef) {
          return;
        }

        this._scrollRef.measureLayout(this.context.virtualizedList.getOutermostParentListRef().getScrollRef().getNativeScrollRef(), function (x, y, width, height) {
          _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
            x: x,
            y: y
          });
          _this4._scrollMetrics.contentLength = _this4._selectLength({
            width: width,
            height: height
          });

          var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.virtualizedList.getScrollMetrics());

          _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
          _this4._scrollMetrics.offset = scrollMetrics.offset;
        }, function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / (this._scrollMetrics.contentLength || 1);
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);

      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this._getFrameMetricsApprox(ii);

        if (frame.inLayout) {
          framesInLayout.push(frame);
        }
      }

      var windowTop = this._getFrameMetricsApprox(this.state.first).offset;

      var frameLast = this._getFrameMetricsApprox(this.state.last);

      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      return React.createElement(View, {
        style: [styles.debugOverlayBase, styles.debugOverlay]
      }, framesInLayout.map(function (f, ii) {
        return React.createElement(View, {
          key: 'f' + ii,
          style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
            top: f.offset * normalize,
            height: f.length * normalize
          }]
        });
      }), React.createElement(View, {
        style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
          top: windowTop * normalize,
          height: windowLen * normalize
        }]
      }), React.createElement(View, {
        style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
          top: visTop * normalize,
          height: visLen * normalize
        }]
      }));
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !this.props.horizontal ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(metrics) {
      return !this.props.horizontal ? metrics.y : metrics.x;
    }
  }, {
    key: "_maybeCallOnEndReached",
    value: function _maybeCallOnEndReached() {
      var _this$props10 = this.props,
          data = _this$props10.data,
          getItemCount = _this$props10.getItemCount,
          onEndReached = _this$props10.onEndReached,
          onEndReachedThreshold = _this$props10.onEndReachedThreshold;
      var _this$_scrollMetrics2 = this._scrollMetrics,
          contentLength = _this$_scrollMetrics2.contentLength,
          visibleLength = _this$_scrollMetrics2.visibleLength,
          offset = _this$_scrollMetrics2.offset;
      var distanceFromEnd = contentLength - visibleLength - offset;

      if (onEndReached && this.state.last === getItemCount(data) - 1 && distanceFromEnd < onEndReachedThreshold * visibleLength && (this._hasDataChangedSinceEndReached || this._scrollMetrics.contentLength !== this._sentEndForContentLength)) {
        this._hasDataChangedSinceEndReached = false;
        this._sentEndForContentLength = this._scrollMetrics.contentLength;
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      var _this$state2 = this.state,
          first = _this$state2.first,
          last = _this$state2.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
          offset = _this$_scrollMetrics3.offset,
          visibleLength = _this$_scrollMetrics3.visibleLength,
          velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var scrollingThreshold = this.props.onEndReachedThreshold * visibleLength / 2;

      if (first > 0) {
        var distTop = offset - this._getFrameMetricsApprox(first).offset;

        hiPri = hiPri || distTop < 0 || velocity < -2 && distTop < scrollingThreshold;
      }

      if (last < itemCount - 1) {
        var distBottom = this._getFrameMetricsApprox(last).offset - (offset + visibleLength);
        hiPri = hiPri || distBottom < 0 || velocity > 2 && distBottom < scrollingThreshold;
      }

      if (hiPri && (this._averageCellLength || this.props.getItemLayout) && !this._hiPriInProgress) {
        this._hiPriInProgress = true;

        this._updateCellsToRenderBatcher.dispose({
          abort: true
        });

        this._updateCellsToRender();

        return;
      } else {
        this._updateCellsToRenderBatcher.schedule();
      }
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(data) {
      var _this5 = this;

      var getItemCount = this.props.getItemCount;

      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(getItemCount(data), _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._getFrameMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, _this5.state);
      });
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var data = newProps.data,
          getItemCount = newProps.getItemCount,
          maxToRenderPerBatch = newProps.maxToRenderPerBatch;
      return {
        first: Math.max(0, Math.min(prevState.first, getItemCount(data) - 1 - maxToRenderPerBatch)),
        last: Math.max(0, Math.min(prevState.last, getItemCount(data) - 1))
      };
    }
  }]);
  return VirtualizedList;
}(React.PureComponent);

VirtualizedList.defaultProps = {
  disableVirtualization: false,
  horizontal: false,
  initialNumToRender: 10,
  keyExtractor: function keyExtractor(item, index) {
    if (item.key != null) {
      return item.key;
    }

    if (item.id != null) {
      return item.id;
    }

    _usedIndexForKey = true;

    if (item.type && item.type.displayName) {
      _keylessItemComponentName = item.type.displayName;
    }

    return String(index);
  },
  maxToRenderPerBatch: 10,
  onEndReachedThreshold: 2,
  scrollEventThrottle: 50,
  updateCellsBatchingPeriod: 50,
  windowSize: 21
};
VirtualizedList.contextTypes = {
  virtualizedCell: PropTypes.shape({
    cellKey: PropTypes.string
  }),
  virtualizedList: PropTypes.shape({
    getScrollMetrics: PropTypes.func,
    horizontal: PropTypes.bool,
    getOutermostParentListRef: PropTypes.func,
    getNestedChildState: PropTypes.func,
    registerAsNestedChild: PropTypes.func,
    unregisterAsNestedChild: PropTypes.func
  })
};
VirtualizedList.childContextTypes = {
  virtualizedList: PropTypes.shape({
    getScrollMetrics: PropTypes.func,
    horizontal: PropTypes.bool,
    getOutermostParentListRef: PropTypes.func,
    getNestedChildState: PropTypes.func,
    registerAsNestedChild: PropTypes.func,
    unregisterAsNestedChild: PropTypes.func
  })
};

var CellRenderer = function (_React$Component) {
  (0, _inherits2.default)(CellRenderer, _React$Component);

  function CellRenderer() {
    var _getPrototypeOf2;

    var _this6;

    (0, _classCallCheck2.default)(this, CellRenderer);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this6 = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(CellRenderer)).call.apply(_getPrototypeOf2, [this].concat(args)));
    _this6.state = {
      separatorProps: {
        highlighted: false,
        leadingItem: _this6.props.item
      }
    };
    _this6._separators = {
      highlight: function highlight() {
        var _this6$props = _this6.props,
            cellKey = _this6$props.cellKey,
            prevCellKey = _this6$props.prevCellKey;

        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: true
        });
      },
      unhighlight: function unhighlight() {
        var _this6$props2 = _this6.props,
            cellKey = _this6$props2.cellKey,
            prevCellKey = _this6$props2.prevCellKey;

        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: false
        });
      },
      updateProps: function updateProps(select, newProps) {
        var _this6$props3 = _this6.props,
            cellKey = _this6$props3.cellKey,
            prevCellKey = _this6$props3.prevCellKey;

        _this6.props.onUpdateSeparators([select === 'leading' ? prevCellKey : cellKey], newProps);
      }
    };
    return _this6;
  }

  (0, _createClass2.default)(CellRenderer, [{
    key: "getChildContext",
    value: function getChildContext() {
      return {
        virtualizedCell: {
          cellKey: this.props.cellKey
        }
      };
    }
  }, {
    key: "updateSeparatorProps",
    value: function updateSeparatorProps(newProps) {
      this.setState(function (state) {
        return {
          separatorProps: _objectSpread({}, state.separatorProps, {}, newProps)
        };
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.props.onUnmount(this.props.cellKey);
    }
  }, {
    key: "_renderElement",
    value: function _renderElement(renderItem, ListItemComponent, item, index) {
      if (renderItem && ListItemComponent) {
        console.warn('VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take' + ' precedence over renderItem.');
      }

      if (ListItemComponent) {
        return React.createElement(ListItemComponent, {
          item: item,
          index: index,
          separators: this._separators
        });
      }

      if (renderItem) {
        return renderItem({
          item: item,
          index: index,
          separators: this._separators
        });
      }

      invariant(false, 'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.');
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props11 = this.props,
          CellRendererComponent = _this$props11.CellRendererComponent,
          ItemSeparatorComponent = _this$props11.ItemSeparatorComponent,
          fillRateHelper = _this$props11.fillRateHelper,
          horizontal = _this$props11.horizontal,
          item = _this$props11.item,
          index = _this$props11.index,
          inversionStyle = _this$props11.inversionStyle,
          parentProps = _this$props11.parentProps;
      var renderItem = parentProps.renderItem,
          getItemLayout = parentProps.getItemLayout,
          ListItemComponent = parentProps.ListItemComponent;

      var element = this._renderElement(renderItem, ListItemComponent, item, index);

      var onLayout = getItemLayout && !parentProps.debug && !fillRateHelper.enabled() ? undefined : this.props.onLayout;
      var itemSeparator = ItemSeparatorComponent && React.createElement(ItemSeparatorComponent, this.state.separatorProps);
      var cellStyle = inversionStyle ? horizontal ? [styles.rowReverse, inversionStyle] : [styles.columnReverse, inversionStyle] : horizontal ? [styles.row, inversionStyle] : inversionStyle;

      if (!CellRendererComponent) {
        return React.createElement(View, {
          style: cellStyle,
          onLayout: onLayout
        }, element, itemSeparator);
      }

      return React.createElement(CellRendererComponent, (0, _extends2.default)({}, this.props, {
        style: cellStyle,
        onLayout: onLayout
      }), element, itemSeparator);
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, prevState) {
      return {
        separatorProps: _objectSpread({}, prevState.separatorProps, {
          leadingItem: props.item
        })
      };
    }
  }]);
  return CellRenderer;
}(React.Component);

CellRenderer.childContextTypes = {
  virtualizedCell: PropTypes.shape({
    cellKey: PropTypes.string
  })
};

var VirtualizedCellWrapper = function (_React$Component2) {
  (0, _inherits2.default)(VirtualizedCellWrapper, _React$Component2);

  function VirtualizedCellWrapper() {
    (0, _classCallCheck2.default)(this, VirtualizedCellWrapper);
    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf3.default)(VirtualizedCellWrapper).apply(this, arguments));
  }

  (0, _createClass2.default)(VirtualizedCellWrapper, [{
    key: "getChildContext",
    value: function getChildContext() {
      return {
        virtualizedCell: {
          cellKey: this.props.cellKey
        }
      };
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children;
    }
  }]);
  return VirtualizedCellWrapper;
}(React.Component);

VirtualizedCellWrapper.childContextTypes = {
  virtualizedCell: PropTypes.shape({
    cellKey: PropTypes.string
  })
};
var styles = StyleSheet.create({
  verticallyInverted: {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  row: {
    flexDirection: 'row'
  },
  rowReverse: {
    flexDirection: 'row-reverse'
  },
  columnReverse: {
    flexDirection: 'column-reverse'
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
module.exports = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZpcnR1YWxpemVkTGlzdC5qcyJdLCJuYW1lcyI6WyJCYXRjaGluYXRvciIsInJlcXVpcmUiLCJGaWxsUmF0ZUhlbHBlciIsIlByb3BUeXBlcyIsIlJlYWN0IiwiUmVhY3ROYXRpdmUiLCJSZWZyZXNoQ29udHJvbCIsIlNjcm9sbFZpZXciLCJTdHlsZVNoZWV0IiwiVmlldyIsIlZpZXdhYmlsaXR5SGVscGVyIiwiZmxhdHRlblN0eWxlIiwiaW5mb0xvZyIsImludmFyaWFudCIsIndhcm5pbmciLCJjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMiLCJfdXNlZEluZGV4Rm9yS2V5IiwiX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSIsIlZpcnR1YWxpemVkTGlzdCIsInBhcmFtcyIsImFuaW1hdGVkIiwidmVyeUxhc3QiLCJwcm9wcyIsImdldEl0ZW1Db3VudCIsImRhdGEiLCJmcmFtZSIsIl9nZXRGcmFtZU1ldHJpY3NBcHByb3giLCJvZmZzZXQiLCJNYXRoIiwibWF4IiwibGVuZ3RoIiwiX2Zvb3Rlckxlbmd0aCIsIl9zY3JvbGxNZXRyaWNzIiwidmlzaWJsZUxlbmd0aCIsIl9zY3JvbGxSZWYiLCJzY3JvbGxUbyIsImhvcml6b250YWwiLCJ4IiwieSIsImdldEl0ZW1MYXlvdXQiLCJvblNjcm9sbFRvSW5kZXhGYWlsZWQiLCJpbmRleCIsInZpZXdPZmZzZXQiLCJ2aWV3UG9zaXRpb24iLCJfaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCIsImF2ZXJhZ2VJdGVtTGVuZ3RoIiwiX2F2ZXJhZ2VDZWxsTGVuZ3RoIiwiaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCIsIml0ZW0iLCJnZXRJdGVtIiwiaXRlbUNvdW50Iiwic2Nyb2xsVG9JbmRleCIsIl9uZXN0ZWRDaGlsZExpc3RzIiwiZm9yRWFjaCIsImNoaWxkTGlzdCIsInJlZiIsInJlY29yZEludGVyYWN0aW9uIiwiX3ZpZXdhYmlsaXR5VHVwbGVzIiwidCIsInZpZXdhYmlsaXR5SGVscGVyIiwiX3VwZGF0ZVZpZXdhYmxlSXRlbXMiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsImZpbmROb2RlSGFuZGxlIiwiZ2V0U2Nyb2xsUmVmIiwic2V0TmF0aXZlUHJvcHMiLCJ2aXJ0dWFsaXplZExpc3QiLCJnZXRTY3JvbGxNZXRyaWNzIiwiX2dldFNjcm9sbE1ldHJpY3MiLCJnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmIiwiX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYiLCJnZXROZXN0ZWRDaGlsZFN0YXRlIiwiX2dldE5lc3RlZENoaWxkU3RhdGUiLCJyZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJfcmVnaXN0ZXJBc05lc3RlZENoaWxkIiwidW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJfdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJjb250ZXh0IiwidmlydHVhbGl6ZWRDZWxsIiwiY2VsbEtleSIsIl9oYXNNb3JlIiwiX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbiIsImtleSIsImV4aXN0aW5nQ2hpbGREYXRhIiwiZ2V0Iiwic3RhdGUiLCJjaGlsZExpc3RzSW5DZWxsIiwiX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzIiwiU2V0IiwiYWRkIiwic2V0IiwiY29uc29sZSIsImVycm9yIiwiX2hhc0ludGVyYWN0ZWQiLCJfb25VcGRhdGVTZXBhcmF0b3JzIiwia2V5cyIsIm5ld1Byb3BzIiwiX2NlbGxSZWZzIiwidXBkYXRlU2VwYXJhdG9yUHJvcHMiLCJNYXAiLCJfZnJhbWVzIiwiX2hhc0RhdGFDaGFuZ2VkU2luY2VFbmRSZWFjaGVkIiwiX2hhc0RvbmVJbml0aWFsU2Nyb2xsIiwiX2hhc1dhcm5lZCIsIl9oZWFkZXJMZW5ndGgiLCJfaGlQcmlJblByb2dyZXNzIiwiX2luZGljZXNUb0tleXMiLCJfb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCIsIl9wcmV2UGFyZW50T2Zmc2V0IiwiY29udGVudExlbmd0aCIsImRPZmZzZXQiLCJkdCIsInRpbWVzdGFtcCIsInZlbG9jaXR5IiwiX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoIiwiX3RvdGFsQ2VsbExlbmd0aCIsIl90b3RhbENlbGxzTWVhc3VyZWQiLCJfY2FwdHVyZVNjcm9sbFJlZiIsIl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50Iiwib25SZWZyZXNoIiwicmVmcmVzaGluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZWZyZXNoQ29udHJvbCIsInByb2dyZXNzVmlld09mZnNldCIsIl9vbkNlbGxVbm1vdW50IiwiY3VyciIsImluTGF5b3V0IiwiX29uTGF5b3V0IiwiZSIsIm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QiLCJfc2VsZWN0TGVuZ3RoIiwibmF0aXZlRXZlbnQiLCJsYXlvdXQiLCJvbkxheW91dCIsIl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUiLCJfbWF5YmVDYWxsT25FbmRSZWFjaGVkIiwiX29uTGF5b3V0RW1wdHkiLCJfb25MYXlvdXRGb290ZXIiLCJfb25MYXlvdXRIZWFkZXIiLCJfb25Db250ZW50U2l6ZUNoYW5nZSIsIndpZHRoIiwiaGVpZ2h0IiwiaW5pdGlhbFNjcm9sbEluZGV4Iiwib25Db250ZW50U2l6ZUNoYW5nZSIsIl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyIsIm1ldHJpY3MiLCJfb25TY3JvbGwiLCJvblNjcm9sbCIsInRpbWVTdGFtcCIsImxheW91dE1lYXN1cmVtZW50IiwiY29udGVudFNpemUiLCJfc2VsZWN0T2Zmc2V0IiwiY29udGVudE9mZnNldCIsInBlcmYiLCJwcmV2RHQiLCJfZmlsbFJhdGVIZWxwZXIiLCJhY3RpdmF0ZSIsIl9jb21wdXRlQmxhbmtuZXNzIiwiX29uU2Nyb2xsQmVnaW5EcmFnIiwidHVwbGUiLCJvblNjcm9sbEJlZ2luRHJhZyIsIl9vblNjcm9sbEVuZERyYWciLCJvblNjcm9sbEVuZERyYWciLCJfb25Nb21lbnR1bVNjcm9sbEVuZCIsIm9uTW9tZW50dW1TY3JvbGxFbmQiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlciIsIm9uRW5kUmVhY2hlZFRocmVzaG9sZCIsImlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCIsIl9pc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQiLCJzZXRTdGF0ZSIsIm5ld1N0YXRlIiwiZGlzdGFuY2VGcm9tRW5kIiwicmVuZGVyQWhlYWQiLCJtYXhUb1JlbmRlclBlckJhdGNoIiwiZmlyc3QiLCJsYXN0IiwibWluIiwic2l6ZSIsIm5ld0ZpcnN0IiwibmV3TGFzdCIsImlpIiwiY2VsbEtleUZvckluZGV4IiwiY2hpbGRMaXN0S2V5cyIsInNvbWVDaGlsZEhhc01vcmUiLCJjaGlsZEtleSIsImhhc01vcmUiLCJfY3JlYXRlVmlld1Rva2VuIiwiaXNWaWV3YWJsZSIsImtleUV4dHJhY3RvciIsIl9nZXRGcmFtZU1ldHJpY3MiLCJfX0RFVl9fIiwiZnJhbWVUeXBlIiwic2hhcGUiLCJudW1iZXIiLCJpc1JlcXVpcmVkIiwiY2hlY2tQcm9wVHlwZXMiLCJfX2lzTmF0aXZlIiwid2luZG93U2l6ZSIsIl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlciIsInVwZGF0ZUNlbGxzQmF0Y2hpbmdQZXJpb2QiLCJ2aWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcnMiLCJtYXAiLCJwYWlyIiwidmlld2FiaWxpdHlDb25maWciLCJvblZpZXdhYmxlSXRlbXNDaGFuZ2VkIiwicHVzaCIsImluaXRpYWxTdGF0ZSIsImluaXRpYWxOdW1Ub1JlbmRlciIsInN0b3JlZFN0YXRlIiwibGlzdEtleSIsIl9nZXRDZWxsS2V5IiwiZnJhbWVzIiwiZGlzcG9zZSIsImFib3J0IiwiZGVhY3RpdmF0ZUFuZEZsdXNoIiwiY2VsbHMiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwic3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyIsImludmVyc2lvblN0eWxlIiwiQ2VsbFJlbmRlcmVyQ29tcG9uZW50IiwiSXRlbVNlcGFyYXRvckNvbXBvbmVudCIsInN0aWNreU9mZnNldCIsIkxpc3RIZWFkZXJDb21wb25lbnQiLCJlbmQiLCJwcmV2Q2VsbEtleSIsImhhcyIsInVuZGVmaW5lZCIsIl9vbkNlbGxMYXlvdXQiLCJkaXNhYmxlVmlydHVhbGl6YXRpb24iLCJuZXN0ZWRDb250ZXh0IiwiZmxhdFN0eWxlcyIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsImZsZXhXcmFwIiwiTGlzdEVtcHR5Q29tcG9uZW50IiwiTGlzdEZvb3RlckNvbXBvbmVudCIsImludmVydGVkIiwic3R5bGVzIiwiaG9yaXpvbnRhbGx5SW52ZXJ0ZWQiLCJ2ZXJ0aWNhbGx5SW52ZXJ0ZWQiLCJlbGVtZW50IiwiaXNWYWxpZEVsZW1lbnQiLCJjb21wb3NlIiwiTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlIiwic3BhY2VyS2V5IiwibGFzdEluaXRpYWxJbmRleCIsIl9wdXNoQ2VsbHMiLCJmaXJzdEFmdGVySW5pdGlhbCIsImluc2VydGVkU3RpY2t5U3BhY2VyIiwiaW5pdEJsb2NrIiwic3RpY2t5QmxvY2siLCJsZWFkU3BhY2UiLCJ0cmFpbFNwYWNlIiwiZmlyc3RTcGFjZSIsIndhcm4iLCJsYXN0RnJhbWUiLCJlbmRGcmFtZSIsInRhaWxTcGFjZXJMZW5ndGgiLCJjbG9uZUVsZW1lbnQiLCJldmVudCIsInN0eWxlIiwiTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlIiwic2Nyb2xsUHJvcHMiLCJzY3JvbGxFdmVudFRocm90dGxlIiwiaW52ZXJ0U3RpY2t5SGVhZGVycyIsImlubmVyUmV0IiwicmVuZGVyU2Nyb2xsQ29tcG9uZW50IiwicmV0Iiwic2Nyb2xsQ29udGV4dCIsIm5lc3RpbmciLCJkZWJ1ZyIsIl9yZW5kZXJEZWJ1Z092ZXJsYXkiLCJwcmV2UHJvcHMiLCJleHRyYURhdGEiLCJyZXNldFZpZXdhYmxlSW5kaWNlcyIsImhpUHJpSW5Qcm9ncmVzcyIsImNvbXB1dGVCbGFua25lc3MiLCJuZXh0IiwibWVhc3VyZUxheW91dCIsImdldE5hdGl2ZVNjcm9sbFJlZiIsInNjcm9sbE1ldHJpY3MiLCJzdGFjayIsIm5vcm1hbGl6ZSIsImZyYW1lc0luTGF5b3V0Iiwid2luZG93VG9wIiwiZnJhbWVMYXN0Iiwid2luZG93TGVuIiwidmlzVG9wIiwidmlzTGVuIiwiZGVidWdPdmVybGF5QmFzZSIsImRlYnVnT3ZlcmxheSIsImYiLCJkZWJ1Z092ZXJsYXlGcmFtZSIsInRvcCIsImRlYnVnT3ZlcmxheUZyYW1lTGFzdCIsImRlYnVnT3ZlcmxheUZyYW1lVmlzIiwib25FbmRSZWFjaGVkIiwiaGlQcmkiLCJzY3JvbGxpbmdUaHJlc2hvbGQiLCJkaXN0VG9wIiwiZGlzdEJvdHRvbSIsInNjaGVkdWxlIiwib25VcGRhdGUiLCJwcmV2U3RhdGUiLCJQdXJlQ29tcG9uZW50IiwiZGVmYXVsdFByb3BzIiwiaWQiLCJ0eXBlIiwiZGlzcGxheU5hbWUiLCJTdHJpbmciLCJjb250ZXh0VHlwZXMiLCJzdHJpbmciLCJmdW5jIiwiYm9vbCIsImNoaWxkQ29udGV4dFR5cGVzIiwiQ2VsbFJlbmRlcmVyIiwic2VwYXJhdG9yUHJvcHMiLCJoaWdobGlnaHRlZCIsImxlYWRpbmdJdGVtIiwiX3NlcGFyYXRvcnMiLCJoaWdobGlnaHQiLCJvblVwZGF0ZVNlcGFyYXRvcnMiLCJ1bmhpZ2hsaWdodCIsInVwZGF0ZVByb3BzIiwic2VsZWN0Iiwib25Vbm1vdW50IiwicmVuZGVySXRlbSIsIkxpc3RJdGVtQ29tcG9uZW50IiwiY3JlYXRlRWxlbWVudCIsInNlcGFyYXRvcnMiLCJmaWxsUmF0ZUhlbHBlciIsInBhcmVudFByb3BzIiwiX3JlbmRlckVsZW1lbnQiLCJlbmFibGVkIiwiaXRlbVNlcGFyYXRvciIsImNlbGxTdHlsZSIsInJvd1JldmVyc2UiLCJjb2x1bW5SZXZlcnNlIiwicm93IiwiQ29tcG9uZW50IiwiVmlydHVhbGl6ZWRDZWxsV3JhcHBlciIsImNoaWxkcmVuIiwiY3JlYXRlIiwidHJhbnNmb3JtIiwic2NhbGVZIiwic2NhbGVYIiwiZmxleERpcmVjdGlvbiIsImZsZXgiLCJwb3NpdGlvbiIsInJpZ2h0IiwiYm90dG9tIiwiYm9yZGVyQ29sb3IiLCJib3Jk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QSxNQUFNLEVBQUUsQ0FESTtBQUVaak4sSUFBQUEsS0FBSyxFQUFFLEVBRks7QUFHWmtOLElBQUFBLFdBQVcsRUFBRSxNQUhEO0FBSVpDLElBQUFBLFdBQVcsRUFBRTtBQUpELEdBeEJpQjtBQThCL0I1RCxFQUFBQSxpQkFBaUIsRUFBRTtBQUNqQjZELElBQUFBLElBQUksRUFBRSxDQURXO0FBRWpCQyxJQUFBQSxlQUFlLEVBQUU7QUFGQSxHQTlCWTtBQWtDL0I1RCxFQUFBQSxxQkFBcUIsRUFBRTtBQUNyQjJELElBQUFBLElBQUksRUFBRSxDQURlO0FBRXJCRixJQUFBQSxXQUFXLEVBQUUsT0FGUTtBQUdyQkMsSUFBQUEsV0FBVyxFQUFFO0FBSFEsR0FsQ1E7QUF1Qy9CekQsRUFBQUEsb0JBQW9CLEVBQUU7QUFDcEIwRCxJQUFBQSxJQUFJLEVBQUUsQ0FEYztBQUVwQkYsSUFBQUEsV0FBVyxFQUFFLEtBRk87QUFHcEJDLElBQUFBLFdBQVcsRUFBRTtBQUhPO0FBdkNTLENBQWxCLENBQWY7QUE4Q0FHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQm5WLGVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IEJhdGNoaW5hdG9yID0gcmVxdWlyZSgnLi4vSW50ZXJhY3Rpb24vQmF0Y2hpbmF0b3InKTtcbmNvbnN0IEZpbGxSYXRlSGVscGVyID0gcmVxdWlyZSgnLi9GaWxsUmF0ZUhlbHBlcicpO1xuY29uc3QgUHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgUmVhY3ROYXRpdmUgPSByZXF1aXJlKCcuLi9SZW5kZXJlci9zaGltcy9SZWFjdE5hdGl2ZScpO1xuY29uc3QgUmVmcmVzaENvbnRyb2wgPSByZXF1aXJlKCcuLi9Db21wb25lbnRzL1JlZnJlc2hDb250cm9sL1JlZnJlc2hDb250cm9sJyk7XG5jb25zdCBTY3JvbGxWaWV3ID0gcmVxdWlyZSgnLi4vQ29tcG9uZW50cy9TY3JvbGxWaWV3L1Njcm9sbFZpZXcnKTtcbmNvbnN0IFN0eWxlU2hlZXQgPSByZXF1aXJlKCcuLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnKTtcbmNvbnN0IFZpZXcgPSByZXF1aXJlKCcuLi9Db21wb25lbnRzL1ZpZXcvVmlldycpO1xuY29uc3QgVmlld2FiaWxpdHlIZWxwZXIgPSByZXF1aXJlKCcuL1ZpZXdhYmlsaXR5SGVscGVyJyk7XG5cbmNvbnN0IGZsYXR0ZW5TdHlsZSA9IHJlcXVpcmUoJy4uL1N0eWxlU2hlZXQvZmxhdHRlblN0eWxlJyk7XG5jb25zdCBpbmZvTG9nID0gcmVxdWlyZSgnLi4vVXRpbGl0aWVzL2luZm9Mb2cnKTtcbmNvbnN0IGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuY29uc3Qgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxuY29uc3Qge2NvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0c30gPSByZXF1aXJlKCcuL1ZpcnR1YWxpemVVdGlscycpO1xuXG5pbXBvcnQgdHlwZSB7Vmlld1N0eWxlUHJvcH0gZnJvbSAnLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtcbiAgVmlld2FiaWxpdHlDb25maWcsXG4gIFZpZXdUb2tlbixcbiAgVmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXIsXG59IGZyb20gJy4vVmlld2FiaWxpdHlIZWxwZXInO1xuXG50eXBlIEl0ZW0gPSBhbnk7XG5cbmV4cG9ydCB0eXBlIFNlcGFyYXRvcnMgPSB7XG4gIGhpZ2hsaWdodDogKCkgPT4gdm9pZCxcbiAgdW5oaWdobGlnaHQ6ICgpID0+IHZvaWQsXG4gIHVwZGF0ZVByb3BzOiAoc2VsZWN0OiAnbGVhZGluZycgfCAndHJhaWxpbmcnLCBuZXdQcm9wczogT2JqZWN0KSA9PiB2b2lkLFxufTtcblxuZXhwb3J0IHR5cGUgUmVuZGVySXRlbVByb3BzPEl0ZW1UPiA9IHtcbiAgaXRlbTogSXRlbVQsXG4gIGluZGV4OiBudW1iZXIsXG4gIHNlcGFyYXRvcnM6IFNlcGFyYXRvcnMsXG59O1xuXG5leHBvcnQgdHlwZSBSZW5kZXJJdGVtVHlwZTxJdGVtVD4gPSAoXG4gIGluZm86IFJlbmRlckl0ZW1Qcm9wczxJdGVtVD4sXG4pID0+IFJlYWN0Lk5vZGU7XG5cbnR5cGUgVmlld2FiaWxpdHlIZWxwZXJDYWxsYmFja1R1cGxlID0ge1xuICB2aWV3YWJpbGl0eUhlbHBlcjogVmlld2FiaWxpdHlIZWxwZXIsXG4gIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IChpbmZvOiB7XG4gICAgdmlld2FibGVJdGVtczogQXJyYXk8Vmlld1Rva2VuPixcbiAgICBjaGFuZ2VkOiBBcnJheTxWaWV3VG9rZW4+LFxuICB9KSA9PiB2b2lkLFxufTtcblxudHlwZSBSZXF1aXJlZFByb3BzID0ge1xuICAvKipcbiAgICogVGhlIGRlZmF1bHQgYWNjZXNzb3IgZnVuY3Rpb25zIGFzc3VtZSB0aGlzIGlzIGFuIEFycmF5PHtrZXk6IHN0cmluZ30gfCB7aWQ6IHN0cmluZ30+IGJ1dCB5b3UgY2FuIG92ZXJyaWRlXG4gICAqIGdldEl0ZW0sIGdldEl0ZW1Db3VudCwgYW5kIGtleUV4dHJhY3RvciB0byBoYW5kbGUgYW55IHR5cGUgb2YgaW5kZXgtYmFzZWQgZGF0YS5cbiAgICovXG4gIGRhdGE/OiBhbnksXG4gIC8qKlxuICAgKiBBIGdlbmVyaWMgYWNjZXNzb3IgZm9yIGV4dHJhY3RpbmcgYW4gaXRlbSBmcm9tIGFueSBzb3J0IG9mIGRhdGEgYmxvYi5cbiAgICovXG4gIGdldEl0ZW06IChkYXRhOiBhbnksIGluZGV4OiBudW1iZXIpID0+ID9JdGVtLFxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBob3cgbWFueSBpdGVtcyBhcmUgaW4gdGhlIGRhdGEgYmxvYi5cbiAgICovXG4gIGdldEl0ZW1Db3VudDogKGRhdGE6IGFueSkgPT4gbnVtYmVyLFxufTtcbnR5cGUgT3B0aW9uYWxQcm9wcyA9IHtcbiAgLy8gVE9ETzogQ29uZmxpY3RzIHdpdGggdGhlIG9wdGlvbmFsIGByZW5kZXJJdGVtYCBpblxuICAvLyBgVmlydHVhbGl6ZWRTZWN0aW9uTGlzdGAncyBwcm9wcy5cbiAgcmVuZGVySXRlbT86ICRGbG93Rml4TWU8P1JlbmRlckl0ZW1UeXBlPEl0ZW0+PixcbiAgLyoqXG4gICAqIGBkZWJ1Z2Agd2lsbCB0dXJuIG9uIGV4dHJhIGxvZ2dpbmcgYW5kIHZpc3VhbCBvdmVybGF5cyB0byBhaWQgd2l0aCBkZWJ1Z2dpbmcgYm90aCB1c2FnZSBhbmRcbiAgICogaW1wbGVtZW50YXRpb24sIGJ1dCB3aXRoIGEgc2lnbmlmaWNhbnQgcGVyZiBoaXQuXG4gICAqL1xuICBkZWJ1Zz86ID9ib29sZWFuLFxuICAvKipcbiAgICogREVQUkVDQVRFRDogVmlydHVhbGl6YXRpb24gcHJvdmlkZXMgc2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UgYW5kIG1lbW9yeSBvcHRpbWl6YXRpb25zLCBidXQgZnVsbHlcbiAgICogdW5tb3VudHMgcmVhY3QgaW5zdGFuY2VzIHRoYXQgYXJlIG91dHNpZGUgb2YgdGhlIHJlbmRlciB3aW5kb3cuIFlvdSBzaG91bGQgb25seSBuZWVkIHRvIGRpc2FibGVcbiAgICogdGhpcyBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLlxuICAgKi9cbiAgZGlzYWJsZVZpcnR1YWxpemF0aW9uPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIG1hcmtlciBwcm9wZXJ0eSBmb3IgdGVsbGluZyB0aGUgbGlzdCB0byByZS1yZW5kZXIgKHNpbmNlIGl0IGltcGxlbWVudHMgYFB1cmVDb21wb25lbnRgKS4gSWZcbiAgICogYW55IG9mIHlvdXIgYHJlbmRlckl0ZW1gLCBIZWFkZXIsIEZvb3RlciwgZXRjLiBmdW5jdGlvbnMgZGVwZW5kIG9uIGFueXRoaW5nIG91dHNpZGUgb2YgdGhlXG4gICAqIGBkYXRhYCBwcm9wLCBzdGljayBpdCBoZXJlIGFuZCB0cmVhdCBpdCBpbW11dGFibHkuXG4gICAqL1xuICBleHRyYURhdGE/OiBhbnksXG4gIGdldEl0ZW1MYXlvdXQ/OiAoXG4gICAgZGF0YTogYW55LFxuICAgIGluZGV4OiBudW1iZXIsXG4gICkgPT4ge2xlbmd0aDogbnVtYmVyLCBvZmZzZXQ6IG51bWJlciwgaW5kZXg6IG51bWJlcn0sIC8vIGUuZy4gaGVpZ2h0LCB5XG4gIGhvcml6b250YWw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEhvdyBtYW55IGl0ZW1zIHRvIHJlbmRlciBpbiB0aGUgaW5pdGlhbCBiYXRjaC4gVGhpcyBzaG91bGQgYmUgZW5vdWdoIHRvIGZpbGwgdGhlIHNjcmVlbiBidXQgbm90XG4gICAqIG11Y2ggbW9yZS4gTm90ZSB0aGVzZSBpdGVtcyB3aWxsIG5ldmVyIGJlIHVubW91bnRlZCBhcyBwYXJ0IG9mIHRoZSB3aW5kb3dlZCByZW5kZXJpbmcgaW4gb3JkZXJcbiAgICogdG8gaW1wcm92ZSBwZXJjZWl2ZWQgcGVyZm9ybWFuY2Ugb2Ygc2Nyb2xsLXRvLXRvcCBhY3Rpb25zLlxuICAgKi9cbiAgaW5pdGlhbE51bVRvUmVuZGVyOiBudW1iZXIsXG4gIC8qKlxuICAgKiBJbnN0ZWFkIG9mIHN0YXJ0aW5nIGF0IHRoZSB0b3Agd2l0aCB0aGUgZmlyc3QgaXRlbSwgc3RhcnQgYXQgYGluaXRpYWxTY3JvbGxJbmRleGAuIFRoaXNcbiAgICogZGlzYWJsZXMgdGhlIFwic2Nyb2xsIHRvIHRvcFwiIG9wdGltaXphdGlvbiB0aGF0IGtlZXBzIHRoZSBmaXJzdCBgaW5pdGlhbE51bVRvUmVuZGVyYCBpdGVtc1xuICAgKiBhbHdheXMgcmVuZGVyZWQgYW5kIGltbWVkaWF0ZWx5IHJlbmRlcnMgdGhlIGl0ZW1zIHN0YXJ0aW5nIGF0IHRoaXMgaW5pdGlhbCBpbmRleC4gUmVxdWlyZXNcbiAgICogYGdldEl0ZW1MYXlvdXRgIHRvIGJlIGltcGxlbWVudGVkLlxuICAgKi9cbiAgaW5pdGlhbFNjcm9sbEluZGV4PzogP251bWJlcixcbiAgLyoqXG4gICAqIFJldmVyc2VzIHRoZSBkaXJlY3Rpb24gb2Ygc2Nyb2xsLiBVc2VzIHNjYWxlIHRyYW5zZm9ybXMgb2YgLTEuXG4gICAqL1xuICBpbnZlcnRlZD86ID9ib29sZWFuLFxuICBrZXlFeHRyYWN0b3I6IChpdGVtOiBJdGVtLCBpbmRleDogbnVtYmVyKSA9PiBzdHJpbmcsXG4gIC8qKlxuICAgKiBFYWNoIGNlbGwgaXMgcmVuZGVyZWQgdXNpbmcgdGhpcyBlbGVtZW50LiBDYW4gYmUgYSBSZWFjdCBDb21wb25lbnQgQ2xhc3MsXG4gICAqIG9yIGEgcmVuZGVyIGZ1bmN0aW9uLiBEZWZhdWx0cyB0byB1c2luZyBWaWV3LlxuICAgKi9cbiAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50PzogP1JlYWN0LkNvbXBvbmVudFR5cGU8YW55PixcbiAgLyoqXG4gICAqIEVhY2ggZGF0YSBpdGVtIGlzIHJlbmRlcmVkIHVzaW5nIHRoaXMgZWxlbWVudC4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLFxuICAgKiBvciBhIHJlbmRlciBmdW5jdGlvbi5cbiAgICovXG4gIExpc3RJdGVtQ29tcG9uZW50PzogP1JlYWN0LkNvbXBvbmVudFR5cGU8YW55PixcbiAgLyoqXG4gICAqIFJlbmRlcmVkIHdoZW4gdGhlIGxpc3QgaXMgZW1wdHkuIENhbiBiZSBhIFJlYWN0IENvbXBvbmVudCBDbGFzcywgYSByZW5kZXIgZnVuY3Rpb24sIG9yXG4gICAqIGEgcmVuZGVyZWQgZWxlbWVudC5cbiAgICovXG4gIExpc3RFbXB0eUNvbXBvbmVudD86ID8oUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+IHwgUmVhY3QuRWxlbWVudDxhbnk+KSxcbiAgLyoqXG4gICAqIFJlbmRlcmVkIGF0IHRoZSBib3R0b20gb2YgYWxsIHRoZSBpdGVtcy4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLCBhIHJlbmRlciBmdW5jdGlvbiwgb3JcbiAgICogYSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgTGlzdEZvb3RlckNvbXBvbmVudD86ID8oUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+IHwgUmVhY3QuRWxlbWVudDxhbnk+KSxcbiAgLyoqXG4gICAqIFN0eWxpbmcgZm9yIGludGVybmFsIFZpZXcgZm9yIExpc3RGb290ZXJDb21wb25lbnRcbiAgICovXG4gIExpc3RGb290ZXJDb21wb25lbnRTdHlsZT86IFZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBSZW5kZXJlZCBhdCB0aGUgdG9wIG9mIGFsbCB0aGUgaXRlbXMuIENhbiBiZSBhIFJlYWN0IENvbXBvbmVudCBDbGFzcywgYSByZW5kZXIgZnVuY3Rpb24sIG9yXG4gICAqIGEgcmVuZGVyZWQgZWxlbWVudC5cbiAgICovXG4gIExpc3RIZWFkZXJDb21wb25lbnQ/OiA/KFJlYWN0LkNvbXBvbmVudFR5cGU8YW55PiB8IFJlYWN0LkVsZW1lbnQ8YW55PiksXG4gIC8qKlxuICAgKiBTdHlsaW5nIGZvciBpbnRlcm5hbCBWaWV3IGZvciBMaXN0SGVhZGVyQ29tcG9uZW50XG4gICAqL1xuICBMaXN0SGVhZGVyQ29tcG9uZW50U3R5bGU/OiBWaWV3U3R5bGVQcm9wLFxuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBsaXN0LiBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgVmlydHVhbGl6ZWRMaXN0cyBhdCB0aGUgc2FtZSBsZXZlbCBvZlxuICAgKiBuZXN0aW5nIHdpdGhpbiBhbm90aGVyIFZpcnR1YWxpemVkTGlzdCwgdGhpcyBrZXkgaXMgbmVjZXNzYXJ5IGZvciB2aXJ0dWFsaXphdGlvbiB0b1xuICAgKiB3b3JrIHByb3Blcmx5LlxuICAgKi9cbiAgbGlzdEtleT86IHN0cmluZyxcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0byByZW5kZXIgaW4gZWFjaCBpbmNyZW1lbnRhbCByZW5kZXIgYmF0Y2guIFRoZSBtb3JlIHJlbmRlcmVkIGF0XG4gICAqIG9uY2UsIHRoZSBiZXR0ZXIgdGhlIGZpbGwgcmF0ZSwgYnV0IHJlc3BvbnNpdmVuZXNzIG1heSBzdWZmZXIgYmVjYXVzZSByZW5kZXJpbmcgY29udGVudCBtYXlcbiAgICogaW50ZXJmZXJlIHdpdGggcmVzcG9uZGluZyB0byBidXR0b24gdGFwcyBvciBvdGhlciBpbnRlcmFjdGlvbnMuXG4gICAqL1xuICBtYXhUb1JlbmRlclBlckJhdGNoOiBudW1iZXIsXG4gIG9uRW5kUmVhY2hlZD86ID8oaW5mbzoge2Rpc3RhbmNlRnJvbUVuZDogbnVtYmVyfSkgPT4gdm9pZCxcbiAgb25FbmRSZWFjaGVkVGhyZXNob2xkPzogP251bWJlciwgLy8gdW5pdHMgb2YgdmlzaWJsZSBsZW5ndGhcbiAgb25MYXlvdXQ/OiA/RnVuY3Rpb24sXG4gIC8qKlxuICAgKiBJZiBwcm92aWRlZCwgYSBzdGFuZGFyZCBSZWZyZXNoQ29udHJvbCB3aWxsIGJlIGFkZGVkIGZvciBcIlB1bGwgdG8gUmVmcmVzaFwiIGZ1bmN0aW9uYWxpdHkuIE1ha2VcbiAgICogc3VyZSB0byBhbHNvIHNldCB0aGUgYHJlZnJlc2hpbmdgIHByb3AgY29ycmVjdGx5LlxuICAgKi9cbiAgb25SZWZyZXNoPzogP0Z1bmN0aW9uLFxuICAvKipcbiAgICogVXNlZCB0byBoYW5kbGUgZmFpbHVyZXMgd2hlbiBzY3JvbGxpbmcgdG8gYW4gaW5kZXggdGhhdCBoYXMgbm90IGJlZW4gbWVhc3VyZWQgeWV0LiBSZWNvbW1lbmRlZFxuICAgKiBhY3Rpb24gaXMgdG8gZWl0aGVyIGNvbXB1dGUgeW91ciBvd24gb2Zmc2V0IGFuZCBgc2Nyb2xsVG9gIGl0LCBvciBzY3JvbGwgYXMgZmFyIGFzIHBvc3NpYmxlIGFuZFxuICAgKiB0aGVuIHRyeSBhZ2FpbiBhZnRlciBtb3JlIGl0ZW1zIGhhdmUgYmVlbiByZW5kZXJlZC5cbiAgICovXG4gIG9uU2Nyb2xsVG9JbmRleEZhaWxlZD86ID8oaW5mbzoge1xuICAgIGluZGV4OiBudW1iZXIsXG4gICAgaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleDogbnVtYmVyLFxuICAgIGF2ZXJhZ2VJdGVtTGVuZ3RoOiBudW1iZXIsXG4gIH0pID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdmlld2FiaWxpdHkgb2Ygcm93cyBjaGFuZ2VzLCBhcyBkZWZpbmVkIGJ5IHRoZVxuICAgKiBgdmlld2FiaWxpdHlDb25maWdgIHByb3AuXG4gICAqL1xuICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkPzogPyhpbmZvOiB7XG4gICAgdmlld2FibGVJdGVtczogQXJyYXk8Vmlld1Rva2VuPixcbiAgICBjaGFuZ2VkOiBBcnJheTxWaWV3VG9rZW4+LFxuICB9KSA9PiB2b2lkLFxuICBwZXJzaXN0ZW50U2Nyb2xsYmFyPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBTZXQgdGhpcyB3aGVuIG9mZnNldCBpcyBuZWVkZWQgZm9yIHRoZSBsb2FkaW5nIGluZGljYXRvciB0byBzaG93IGNvcnJlY3RseS5cbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIHByb2dyZXNzVmlld09mZnNldD86IG51bWJlcixcbiAgLyoqXG4gICAqIEEgY3VzdG9tIHJlZnJlc2ggY29udHJvbCBlbGVtZW50LiBXaGVuIHNldCwgaXQgb3ZlcnJpZGVzIHRoZSBkZWZhdWx0XG4gICAqIDxSZWZyZXNoQ29udHJvbD4gY29tcG9uZW50IGJ1aWx0IGludGVybmFsbHkuIFRoZSBvblJlZnJlc2ggYW5kIHJlZnJlc2hpbmdcbiAgICogcHJvcHMgYXJlIGFsc28gaWdub3JlZC4gT25seSB3b3JrcyBmb3IgdmVydGljYWwgVmlydHVhbGl6ZWRMaXN0LlxuICAgKi9cbiAgcmVmcmVzaENvbnRyb2w/OiA/UmVhY3QuRWxlbWVudDxhbnk+LFxuICAvKipcbiAgICogU2V0IHRoaXMgdHJ1ZSB3aGlsZSB3YWl0aW5nIGZvciBuZXcgZGF0YSBmcm9tIGEgcmVmcmVzaC5cbiAgICovXG4gIHJlZnJlc2hpbmc/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIE5vdGU6IG1heSBoYXZlIGJ1Z3MgKG1pc3NpbmcgY29udGVudCkgaW4gc29tZSBjaXJjdW1zdGFuY2VzIC0gdXNlIGF0IHlvdXIgb3duIHJpc2suXG4gICAqXG4gICAqIFRoaXMgbWF5IGltcHJvdmUgc2Nyb2xsIHBlcmZvcm1hbmNlIGZvciBsYXJnZSBsaXN0cy5cbiAgICovXG4gIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz86IGJvb2xlYW4sXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBjdXN0b20gc2Nyb2xsIGNvbXBvbmVudCwgZS5nLiB3aXRoIGEgZGlmZmVyZW50bHkgc3R5bGVkIGBSZWZyZXNoQ29udHJvbGAuXG4gICAqL1xuICByZW5kZXJTY3JvbGxDb21wb25lbnQ/OiAocHJvcHM6IE9iamVjdCkgPT4gUmVhY3QuRWxlbWVudDxhbnk+LFxuICAvKipcbiAgICogQW1vdW50IG9mIHRpbWUgYmV0d2VlbiBsb3ctcHJpIGl0ZW0gcmVuZGVyIGJhdGNoZXMsIGUuZy4gZm9yIHJlbmRlcmluZyBpdGVtcyBxdWl0ZSBhIHdheXMgb2ZmXG4gICAqIHNjcmVlbi4gU2ltaWxhciBmaWxsIHJhdGUvcmVzcG9uc2l2ZW5lc3MgdHJhZGVvZmYgYXMgYG1heFRvUmVuZGVyUGVyQmF0Y2hgLlxuICAgKi9cbiAgdXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZDogbnVtYmVyLFxuICB2aWV3YWJpbGl0eUNvbmZpZz86IFZpZXdhYmlsaXR5Q29uZmlnLFxuICAvKipcbiAgICogTGlzdCBvZiBWaWV3YWJpbGl0eUNvbmZpZy9vblZpZXdhYmxlSXRlbXNDaGFuZ2VkIHBhaXJzLiBBIHNwZWNpZmljIG9uVmlld2FibGVJdGVtc0NoYW5nZWRcbiAgICogd2lsbCBiZSBjYWxsZWQgd2hlbiBpdHMgY29ycmVzcG9uZGluZyBWaWV3YWJpbGl0eUNvbmZpZydzIGNvbmRpdGlvbnMgYXJlIG1ldC5cbiAgICovXG4gIHZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycz86IEFycmF5PFZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlyPixcbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhlIHZpc2libGUgYXJlYSwgaW4gdW5pdHMgb2ZcbiAgICogdmlzaWJsZSBsZW5ndGhzLiBTbyBpZiB5b3VyIGxpc3QgZmlsbHMgdGhlIHNjcmVlbiwgdGhlbiBgd2luZG93U2l6ZT17MjF9YCAodGhlIGRlZmF1bHQpIHdpbGxcbiAgICogcmVuZGVyIHRoZSB2aXNpYmxlIHNjcmVlbiBhcmVhIHBsdXMgdXAgdG8gMTAgc2NyZWVucyBhYm92ZSBhbmQgMTAgYmVsb3cgdGhlIHZpZXdwb3J0LiBSZWR1Y2luZ1xuICAgKiB0aGlzIG51bWJlciB3aWxsIHJlZHVjZSBtZW1vcnkgY29uc3VtcHRpb24gYW5kIG1heSBpbXByb3ZlIHBlcmZvcm1hbmNlLCBidXQgd2lsbCBpbmNyZWFzZSB0aGVcbiAgICogY2hhbmNlIHRoYXQgZmFzdCBzY3JvbGxpbmcgbWF5IHJldmVhbCBtb21lbnRhcnkgYmxhbmsgYXJlYXMgb2YgdW5yZW5kZXJlZCBjb250ZW50LlxuICAgKi9cbiAgd2luZG93U2l6ZTogbnVtYmVyLFxufTtcbi8qICRGbG93Rml4TWUgLSB0aGlzIFByb3BzIHNlZW1zIHRvIGJlIG1pc3NpbmcgYSBidW5jaCBvZiBzdHVmZi4gUmVtb3ZlIHRoaXNcbiAqIGNvbW1lbnQgdG8gc2VlIHRoZSBlcnJvcnMgKi9cbmV4cG9ydCB0eXBlIFByb3BzID0gUmVxdWlyZWRQcm9wcyAmIE9wdGlvbmFsUHJvcHM7XG5cbnR5cGUgRGVmYXVsdFByb3BzID0ge3xcbiAgZGlzYWJsZVZpcnR1YWxpemF0aW9uOiBib29sZWFuLFxuICBob3Jpem9udGFsOiBib29sZWFuLFxuICBpbml0aWFsTnVtVG9SZW5kZXI6IG51bWJlcixcbiAga2V5RXh0cmFjdG9yOiAoaXRlbTogSXRlbSwgaW5kZXg6IG51bWJlcikgPT4gc3RyaW5nLFxuICBtYXhUb1JlbmRlclBlckJhdGNoOiBudW1iZXIsXG4gIG9uRW5kUmVhY2hlZFRocmVzaG9sZDogbnVtYmVyLFxuICBzY3JvbGxFdmVudFRocm90dGxlOiBudW1iZXIsXG4gIHVwZGF0ZUNlbGxzQmF0Y2hpbmdQZXJpb2Q6IG51bWJlcixcbiAgd2luZG93U2l6ZTogbnVtYmVyLFxufH07XG5cbmxldCBfdXNlZEluZGV4Rm9yS2V5ID0gZmFsc2U7XG5sZXQgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZTogc3RyaW5nID0gJyc7XG5cbnR5cGUgRnJhbWUgPSB7XG4gIG9mZnNldDogbnVtYmVyLFxuICBsZW5ndGg6IG51bWJlcixcbiAgaW5kZXg6IG51bWJlcixcbiAgaW5MYXlvdXQ6IGJvb2xlYW4sXG59O1xuXG50eXBlIENoaWxkTGlzdFN0YXRlID0ge1xuICBmaXJzdDogbnVtYmVyLFxuICBsYXN0OiBudW1iZXIsXG4gIGZyYW1lczoge1trZXk6IG51bWJlcl06IEZyYW1lfSxcbn07XG5cbnR5cGUgU3RhdGUgPSB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfTtcblxuLyoqXG4gKiBCYXNlIGltcGxlbWVudGF0aW9uIGZvciB0aGUgbW9yZSBjb252ZW5pZW50IFtgPEZsYXRMaXN0PmBdKC9yZWFjdC1uYXRpdmUvZG9jcy9mbGF0bGlzdC5odG1sKVxuICogYW5kIFtgPFNlY3Rpb25MaXN0PmBdKC9yZWFjdC1uYXRpdmUvZG9jcy9zZWN0aW9ubGlzdC5odG1sKSBjb21wb25lbnRzLCB3aGljaCBhcmUgYWxzbyBiZXR0ZXJcbiAqIGRvY3VtZW50ZWQuIEluIGdlbmVyYWwsIHRoaXMgc2hvdWxkIG9ubHkgcmVhbGx5IGJlIHVzZWQgaWYgeW91IG5lZWQgbW9yZSBmbGV4aWJpbGl0eSB0aGFuXG4gKiBgRmxhdExpc3RgIHByb3ZpZGVzLCBlLmcuIGZvciB1c2Ugd2l0aCBpbW11dGFibGUgZGF0YSBpbnN0ZWFkIG9mIHBsYWluIGFycmF5cy5cbiAqXG4gKiBWaXJ0dWFsaXphdGlvbiBtYXNzaXZlbHkgaW1wcm92ZXMgbWVtb3J5IGNvbnN1bXB0aW9uIGFuZCBwZXJmb3JtYW5jZSBvZiBsYXJnZSBsaXN0cyBieVxuICogbWFpbnRhaW5pbmcgYSBmaW5pdGUgcmVuZGVyIHdpbmRvdyBvZiBhY3RpdmUgaXRlbXMgYW5kIHJlcGxhY2luZyBhbGwgaXRlbXMgb3V0c2lkZSBvZiB0aGUgcmVuZGVyXG4gKiB3aW5kb3cgd2l0aCBhcHByb3ByaWF0ZWx5IHNpemVkIGJsYW5rIHNwYWNlLiBUaGUgd2luZG93IGFkYXB0cyB0byBzY3JvbGxpbmcgYmVoYXZpb3IsIGFuZCBpdGVtc1xuICogYXJlIHJlbmRlcmVkIGluY3JlbWVudGFsbHkgd2l0aCBsb3ctcHJpIChhZnRlciBhbnkgcnVubmluZyBpbnRlcmFjdGlvbnMpIGlmIHRoZXkgYXJlIGZhciBmcm9tIHRoZVxuICogdmlzaWJsZSBhcmVhLCBvciB3aXRoIGhpLXByaSBvdGhlcndpc2UgdG8gbWluaW1pemUgdGhlIHBvdGVudGlhbCBvZiBzZWVpbmcgYmxhbmsgc3BhY2UuXG4gKlxuICogU29tZSBjYXZlYXRzOlxuICpcbiAqIC0gSW50ZXJuYWwgc3RhdGUgaXMgbm90IHByZXNlcnZlZCB3aGVuIGNvbnRlbnQgc2Nyb2xscyBvdXQgb2YgdGhlIHJlbmRlciB3aW5kb3cuIE1ha2Ugc3VyZSBhbGxcbiAqICAgeW91ciBkYXRhIGlzIGNhcHR1cmVkIGluIHRoZSBpdGVtIGRhdGEgb3IgZXh0ZXJuYWwgc3RvcmVzIGxpa2UgRmx1eCwgUmVkdXgsIG9yIFJlbGF5LlxuICogLSBUaGlzIGlzIGEgYFB1cmVDb21wb25lbnRgIHdoaWNoIG1lYW5zIHRoYXQgaXQgd2lsbCBub3QgcmUtcmVuZGVyIGlmIGBwcm9wc2AgcmVtYWluIHNoYWxsb3ctXG4gKiAgIGVxdWFsLiBNYWtlIHN1cmUgdGhhdCBldmVyeXRoaW5nIHlvdXIgYHJlbmRlckl0ZW1gIGZ1bmN0aW9uIGRlcGVuZHMgb24gaXMgcGFzc2VkIGFzIGEgcHJvcFxuICogICAoZS5nLiBgZXh0cmFEYXRhYCkgdGhhdCBpcyBub3QgYD09PWAgYWZ0ZXIgdXBkYXRlcywgb3RoZXJ3aXNlIHlvdXIgVUkgbWF5IG5vdCB1cGRhdGUgb25cbiAqICAgY2hhbmdlcy4gVGhpcyBpbmNsdWRlcyB0aGUgYGRhdGFgIHByb3AgYW5kIHBhcmVudCBjb21wb25lbnQgc3RhdGUuXG4gKiAtIEluIG9yZGVyIHRvIGNvbnN0cmFpbiBtZW1vcnkgYW5kIGVuYWJsZSBzbW9vdGggc2Nyb2xsaW5nLCBjb250ZW50IGlzIHJlbmRlcmVkIGFzeW5jaHJvbm91c2x5XG4gKiAgIG9mZnNjcmVlbi4gVGhpcyBtZWFucyBpdCdzIHBvc3NpYmxlIHRvIHNjcm9sbCBmYXN0ZXIgdGhhbiB0aGUgZmlsbCByYXRlIGFuZHMgbW9tZW50YXJpbHkgc2VlXG4gKiAgIGJsYW5rIGNvbnRlbnQuIFRoaXMgaXMgYSB0cmFkZW9mZiB0aGF0IGNhbiBiZSBhZGp1c3RlZCB0byBzdWl0IHRoZSBuZWVkcyBvZiBlYWNoIGFwcGxpY2F0aW9uLFxuICogICBhbmQgd2UgYXJlIHdvcmtpbmcgb24gaW1wcm92aW5nIGl0IGJlaGluZCB0aGUgc2NlbmVzLlxuICogLSBCeSBkZWZhdWx0LCB0aGUgbGlzdCBsb29rcyBmb3IgYSBga2V5YCBvciBgaWRgIHByb3Agb24gZWFjaCBpdGVtIGFuZCB1c2VzIHRoYXQgZm9yIHRoZSBSZWFjdCBrZXkuXG4gKiAgIEFsdGVybmF0aXZlbHksIHlvdSBjYW4gcHJvdmlkZSBhIGN1c3RvbSBga2V5RXh0cmFjdG9yYCBwcm9wLlxuICpcbiAqL1xuY2xhc3MgVmlydHVhbGl6ZWRMaXN0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgcHJvcHM6IFByb3BzO1xuXG4gIC8vIHNjcm9sbFRvRW5kIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0VuZChwYXJhbXM/OiA/e2FuaW1hdGVkPzogP2Jvb2xlYW59KSB7XG4gICAgY29uc3QgYW5pbWF0ZWQgPSBwYXJhbXMgPyBwYXJhbXMuYW5pbWF0ZWQgOiB0cnVlO1xuICAgIGNvbnN0IHZlcnlMYXN0ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSAtIDE7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3godmVyeUxhc3QpO1xuICAgIGNvbnN0IG9mZnNldCA9IE1hdGgubWF4KFxuICAgICAgMCxcbiAgICAgIGZyYW1lLm9mZnNldCArXG4gICAgICAgIGZyYW1lLmxlbmd0aCArXG4gICAgICAgIHRoaXMuX2Zvb3Rlckxlbmd0aCAtXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICApO1xuICAgIC8qICRGbG93Rml4TWUoPj0wLjUzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIscmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50XG4gICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciB3aGVuIHVwZ3JhZGluZyBGbG93J3Mgc3VwcG9ydCBmb3IgUmVhY3QuIFRvIHNlZSB0aGVcbiAgICAgKiBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICB0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8oXG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPyB7eDogb2Zmc2V0LCBhbmltYXRlZH0gOiB7eTogb2Zmc2V0LCBhbmltYXRlZH0sXG4gICAgKTtcbiAgfVxuXG4gIC8vIHNjcm9sbFRvSW5kZXggbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wXG4gIHNjcm9sbFRvSW5kZXgocGFyYW1zOiB7XG4gICAgYW5pbWF0ZWQ/OiA/Ym9vbGVhbixcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHZpZXdPZmZzZXQ/OiBudW1iZXIsXG4gICAgdmlld1Bvc2l0aW9uPzogbnVtYmVyLFxuICB9KSB7XG4gICAgY29uc3Qge1xuICAgICAgZGF0YSxcbiAgICAgIGhvcml6b250YWwsXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBnZXRJdGVtTGF5b3V0LFxuICAgICAgb25TY3JvbGxUb0luZGV4RmFpbGVkLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHthbmltYXRlZCwgaW5kZXgsIHZpZXdPZmZzZXQsIHZpZXdQb3NpdGlvbn0gPSBwYXJhbXM7XG4gICAgaW52YXJpYW50KFxuICAgICAgaW5kZXggPj0gMCAmJiBpbmRleCA8IGdldEl0ZW1Db3VudChkYXRhKSxcbiAgICAgIGBzY3JvbGxUb0luZGV4IG91dCBvZiByYW5nZTogcmVxdWVzdGVkIGluZGV4ICR7aW5kZXh9IGJ1dCBtYXhpbXVtIGlzICR7Z2V0SXRlbUNvdW50KFxuICAgICAgICBkYXRhLFxuICAgICAgKSAtIDF9YCxcbiAgICApO1xuICAgIGlmICghZ2V0SXRlbUxheW91dCAmJiBpbmRleCA+IHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgISFvblNjcm9sbFRvSW5kZXhGYWlsZWQsXG4gICAgICAgICdzY3JvbGxUb0luZGV4IHNob3VsZCBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggZ2V0SXRlbUxheW91dCBvciBvblNjcm9sbFRvSW5kZXhGYWlsZWQsICcgK1xuICAgICAgICAgICdvdGhlcndpc2UgdGhlcmUgaXMgbm8gd2F5IHRvIGtub3cgdGhlIGxvY2F0aW9uIG9mIG9mZnNjcmVlbiBpbmRpY2VzIG9yIGhhbmRsZSBmYWlsdXJlcy4nLFxuICAgICAgKTtcbiAgICAgIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCh7XG4gICAgICAgIGF2ZXJhZ2VJdGVtTGVuZ3RoOiB0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCxcbiAgICAgICAgaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleDogdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgaW5kZXgsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goaW5kZXgpO1xuICAgIGNvbnN0IG9mZnNldCA9XG4gICAgICBNYXRoLm1heChcbiAgICAgICAgMCxcbiAgICAgICAgZnJhbWUub2Zmc2V0IC1cbiAgICAgICAgICAodmlld1Bvc2l0aW9uIHx8IDApICpcbiAgICAgICAgICAgICh0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggLSBmcmFtZS5sZW5ndGgpLFxuICAgICAgKSAtICh2aWV3T2Zmc2V0IHx8IDApO1xuICAgIC8qICRGbG93Rml4TWUoPj0wLjUzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIscmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50XG4gICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciB3aGVuIHVwZ3JhZGluZyBGbG93J3Mgc3VwcG9ydCBmb3IgUmVhY3QuIFRvIHNlZSB0aGVcbiAgICAgKiBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICB0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8oXG4gICAgICBob3Jpem9udGFsID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9IDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0l0ZW0gbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wLiBSZXF1aXJlZCBsaW5lYXIgc2NhbiB0aHJvdWdoIGl0ZW1zIC1cbiAgLy8gdXNlIHNjcm9sbFRvSW5kZXggaW5zdGVhZCBpZiBwb3NzaWJsZS5cbiAgc2Nyb2xsVG9JdGVtKHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaXRlbTogSXRlbSxcbiAgICB2aWV3UG9zaXRpb24/OiBudW1iZXIsXG4gIH0pIHtcbiAgICBjb25zdCB7aXRlbX0gPSBwYXJhbXM7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW0sIGdldEl0ZW1Db3VudH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IGdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaXRlbUNvdW50OyBpbmRleCsrKSB7XG4gICAgICBpZiAoZ2V0SXRlbShkYXRhLCBpbmRleCkgPT09IGl0ZW0pIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KHsuLi5wYXJhbXMsIGluZGV4fSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYSBzcGVjaWZpYyBjb250ZW50IHBpeGVsIG9mZnNldCBpbiB0aGUgbGlzdC5cbiAgICpcbiAgICogUGFyYW0gYG9mZnNldGAgZXhwZWN0cyB0aGUgb2Zmc2V0IHRvIHNjcm9sbCB0by5cbiAgICogSW4gY2FzZSBvZiBgaG9yaXpvbnRhbGAgaXMgdHJ1ZSwgdGhlIG9mZnNldCBpcyB0aGUgeC12YWx1ZSxcbiAgICogaW4gYW55IG90aGVyIGNhc2UgdGhlIG9mZnNldCBpcyB0aGUgeS12YWx1ZS5cbiAgICpcbiAgICogUGFyYW0gYGFuaW1hdGVkYCAoYHRydWVgIGJ5IGRlZmF1bHQpIGRlZmluZXMgd2hldGhlciB0aGUgbGlzdFxuICAgKiBzaG91bGQgZG8gYW4gYW5pbWF0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICovXG4gIHNjcm9sbFRvT2Zmc2V0KHBhcmFtczoge2FuaW1hdGVkPzogP2Jvb2xlYW4sIG9mZnNldDogbnVtYmVyfSkge1xuICAgIGNvbnN0IHthbmltYXRlZCwgb2Zmc2V0fSA9IHBhcmFtcztcbiAgICAvKiAkRmxvd0ZpeE1lKD49MC41My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiLHJlYWN0X25hdGl2ZV9vc3MpIFRoaXMgY29tbWVudFxuICAgICAqIHN1cHByZXNzZXMgYW4gZXJyb3Igd2hlbiB1cGdyYWRpbmcgRmxvdydzIHN1cHBvcnQgZm9yIFJlYWN0LiBUbyBzZWUgdGhlXG4gICAgICogZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKFxuICAgICAgdGhpcy5wcm9wcy5ob3Jpem9udGFsID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9IDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICByZWNvcmRJbnRlcmFjdGlvbigpIHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godCA9PiB7XG4gICAgICB0LnZpZXdhYmlsaXR5SGVscGVyLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLmRhdGEpO1xuICB9XG5cbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzKCkge1xuICAgIC8qICRGbG93Rml4TWUoPj0wLjUzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIscmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50XG4gICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciB3aGVuIHVwZ3JhZGluZyBGbG93J3Mgc3VwcG9ydCBmb3IgUmVhY3QuIFRvIHNlZSB0aGVcbiAgICAgKiBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICB0aGlzLl9zY3JvbGxSZWYuZmxhc2hTY3JvbGxJbmRpY2F0b3JzKCk7XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgYSBoYW5kbGUgdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlci5cbiAgICogTm90ZSB0aGF0IGB0aGlzLl9zY3JvbGxSZWZgIG1pZ2h0IG5vdCBiZSBhIGBTY3JvbGxWaWV3YCwgc28gd2VcbiAgICogbmVlZCB0byBjaGVjayB0aGF0IGl0IHJlc3BvbmRzIHRvIGBnZXRTY3JvbGxSZXNwb25kZXJgIGJlZm9yZSBjYWxsaW5nIGl0LlxuICAgKi9cbiAgZ2V0U2Nyb2xsUmVzcG9uZGVyKCk6IGFueSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlc3BvbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIGdldFNjcm9sbGFibGVOb2RlKCk6IGFueSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsYWJsZU5vZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsYWJsZU5vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKHRoaXMuX3Njcm9sbFJlZik7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Nyb2xsUmVmKCk6IGFueSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVmKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmO1xuICAgIH1cbiAgfVxuXG4gIHNldE5hdGl2ZVByb3BzKHByb3BzOiBPYmplY3QpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmKSB7XG4gICAgICB0aGlzLl9zY3JvbGxSZWYuc2V0TmF0aXZlUHJvcHMocHJvcHMpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHM6IERlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXNhYmxlVmlydHVhbGl6YXRpb246IGZhbHNlLFxuICAgIGhvcml6b250YWw6IGZhbHNlLFxuICAgIGluaXRpYWxOdW1Ub1JlbmRlcjogMTAsXG4gICAga2V5RXh0cmFjdG9yOiAoaXRlbTogSXRlbSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKGl0ZW0ua2V5ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ua2V5O1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW0uaWQgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaXRlbS5pZDtcbiAgICAgIH1cbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSB0cnVlO1xuICAgICAgaWYgKGl0ZW0udHlwZSAmJiBpdGVtLnR5cGUuZGlzcGxheU5hbWUpIHtcbiAgICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9IGl0ZW0udHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBTdHJpbmcoaW5kZXgpO1xuICAgIH0sXG4gICAgbWF4VG9SZW5kZXJQZXJCYXRjaDogMTAsXG4gICAgb25FbmRSZWFjaGVkVGhyZXNob2xkOiAyLCAvLyBtdWx0aXBsZXMgb2YgbGVuZ3RoXG4gICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogNTAsXG4gICAgdXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZDogNTAsXG4gICAgd2luZG93U2l6ZTogMjEsIC8vIG11bHRpcGxlcyBvZiBsZW5ndGhcbiAgfTtcblxuICBzdGF0aWMgY29udGV4dFR5cGVzOlxuICAgIHwgYW55XG4gICAgfCB7fFxuICAgICAgICB2aXJ0dWFsaXplZENlbGw6IHt8XG4gICAgICAgICAgY2VsbEtleTogUmVhY3QkUHJvcFR5cGUkUHJpbWl0aXZlPHN0cmluZz4sXG4gICAgICAgIHx9LFxuICAgICAgICB2aXJ0dWFsaXplZExpc3Q6IHt8XG4gICAgICAgICAgZ2V0U2Nyb2xsTWV0cmljczogUmVhY3QkUHJvcFR5cGUkUHJpbWl0aXZlPEZ1bmN0aW9uPixcbiAgICAgICAgICBob3Jpem9udGFsOiBSZWFjdCRQcm9wVHlwZSRQcmltaXRpdmU8Ym9vbGVhbj4sXG4gICAgICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogUmVhY3QkUHJvcFR5cGUkUHJpbWl0aXZlPEZ1bmN0aW9uPixcbiAgICAgICAgICBnZXROZXN0ZWRDaGlsZFN0YXRlOiBSZWFjdCRQcm9wVHlwZSRQcmltaXRpdmU8RnVuY3Rpb24+LFxuICAgICAgICAgIHJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogUmVhY3QkUHJvcFR5cGUkUHJpbWl0aXZlPEZ1bmN0aW9uPixcbiAgICAgICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogUmVhY3QkUHJvcFR5cGUkUHJpbWl0aXZlPEZ1bmN0aW9uPixcbiAgICAgICAgfH0sXG4gICAgICB8fSA9IHtcbiAgICB2aXJ0dWFsaXplZENlbGw6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBjZWxsS2V5OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIH0pLFxuICAgIHZpcnR1YWxpemVkTGlzdDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGdldFNjcm9sbE1ldHJpY3M6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgaG9yaXpvbnRhbDogUHJvcFR5cGVzLmJvb2wsXG4gICAgICBnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIGdldE5lc3RlZENoaWxkU3RhdGU6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgcmVnaXN0ZXJBc05lc3RlZENoaWxkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIHVucmVnaXN0ZXJBc05lc3RlZENoaWxkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB9KSxcbiAgfTtcblxuICBzdGF0aWMgY2hpbGRDb250ZXh0VHlwZXM6XG4gICAgfCBhbnlcbiAgICB8IHt8XG4gICAgICAgIGdldFNjcm9sbE1ldHJpY3M6IFJlYWN0JFByb3BUeXBlJFByaW1pdGl2ZTxGdW5jdGlvbj4sXG4gICAgICAgIGhvcml6b250YWw6IFJlYWN0JFByb3BUeXBlJFByaW1pdGl2ZTxib29sZWFuPixcbiAgICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogUmVhY3QkUHJvcFR5cGUkUHJpbWl0aXZlPEZ1bmN0aW9uPixcbiAgICAgICAgZ2V0TmVzdGVkQ2hpbGRTdGF0ZTogUmVhY3QkUHJvcFR5cGUkUHJpbWl0aXZlPEZ1bmN0aW9uPixcbiAgICAgICAgcmVnaXN0ZXJBc05lc3RlZENoaWxkOiBSZWFjdCRQcm9wVHlwZSRQcmltaXRpdmU8RnVuY3Rpb24+LFxuICAgICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogUmVhY3QkUHJvcFR5cGUkUHJpbWl0aXZlPEZ1bmN0aW9uPixcbiAgICAgIHx9ID0ge1xuICAgIHZpcnR1YWxpemVkTGlzdDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGdldFNjcm9sbE1ldHJpY3M6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgaG9yaXpvbnRhbDogUHJvcFR5cGVzLmJvb2wsXG4gICAgICBnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIGdldE5lc3RlZENoaWxkU3RhdGU6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgcmVnaXN0ZXJBc05lc3RlZENoaWxkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIHVucmVnaXN0ZXJBc05lc3RlZENoaWxkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB9KSxcbiAgfTtcblxuICBnZXRDaGlsZENvbnRleHQoKToge3xcbiAgICB2aXJ0dWFsaXplZExpc3Q6IHtcbiAgICAgIGdldFNjcm9sbE1ldHJpY3M6ICgpID0+IHtcbiAgICAgICAgY29udGVudExlbmd0aDogbnVtYmVyLFxuICAgICAgICBkT2Zmc2V0OiBudW1iZXIsXG4gICAgICAgIGR0OiBudW1iZXIsXG4gICAgICAgIG9mZnNldDogbnVtYmVyLFxuICAgICAgICB0aW1lc3RhbXA6IG51bWJlcixcbiAgICAgICAgdmVsb2NpdHk6IG51bWJlcixcbiAgICAgICAgdmlzaWJsZUxlbmd0aDogbnVtYmVyLFxuICAgICAgfSxcbiAgICAgIGhvcml6b250YWw6ID9ib29sZWFuLFxuICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogRnVuY3Rpb24sXG4gICAgICBnZXROZXN0ZWRDaGlsZFN0YXRlOiBzdHJpbmcgPT4gP0NoaWxkTGlzdFN0YXRlLFxuICAgICAgcmVnaXN0ZXJBc05lc3RlZENoaWxkOiAoe1xuICAgICAgICBjZWxsS2V5OiBzdHJpbmcsXG4gICAgICAgIGtleTogc3RyaW5nLFxuICAgICAgICByZWY6IFZpcnR1YWxpemVkTGlzdCxcbiAgICAgIH0pID0+ID9DaGlsZExpc3RTdGF0ZSxcbiAgICAgIHVucmVnaXN0ZXJBc05lc3RlZENoaWxkOiAoe1xuICAgICAgICBrZXk6IHN0cmluZyxcbiAgICAgICAgc3RhdGU6IENoaWxkTGlzdFN0YXRlLFxuICAgICAgfSkgPT4gdm9pZCxcbiAgICB9LFxuICB8fSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZpcnR1YWxpemVkTGlzdDoge1xuICAgICAgICBnZXRTY3JvbGxNZXRyaWNzOiB0aGlzLl9nZXRTY3JvbGxNZXRyaWNzLFxuICAgICAgICBob3Jpem9udGFsOiB0aGlzLnByb3BzLmhvcml6b250YWwsXG4gICAgICAgIGdldE91dGVybW9zdFBhcmVudExpc3RSZWY6IHRoaXMuX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYsXG4gICAgICAgIGdldE5lc3RlZENoaWxkU3RhdGU6IHRoaXMuX2dldE5lc3RlZENoaWxkU3RhdGUsXG4gICAgICAgIHJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fcmVnaXN0ZXJBc05lc3RlZENoaWxkLFxuICAgICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBfZ2V0Q2VsbEtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAoXG4gICAgICAodGhpcy5jb250ZXh0LnZpcnR1YWxpemVkQ2VsbCAmJiB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRDZWxsLmNlbGxLZXkpIHx8XG4gICAgICAncm9vdExpc3QnXG4gICAgKTtcbiAgfVxuXG4gIF9nZXRTY3JvbGxNZXRyaWNzID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICB9O1xuXG4gIGhhc01vcmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2hhc01vcmU7XG4gIH1cblxuICBfZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRMaXN0LmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIF9nZXROZXN0ZWRDaGlsZFN0YXRlID0gKGtleTogc3RyaW5nKTogP0NoaWxkTGlzdFN0YXRlID0+IHtcbiAgICBjb25zdCBleGlzdGluZ0NoaWxkRGF0YSA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGtleSk7XG4gICAgcmV0dXJuIGV4aXN0aW5nQ2hpbGREYXRhICYmIGV4aXN0aW5nQ2hpbGREYXRhLnN0YXRlO1xuICB9O1xuXG4gIF9yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSAoY2hpbGRMaXN0OiB7XG4gICAgY2VsbEtleTogc3RyaW5nLFxuICAgIGtleTogc3RyaW5nLFxuICAgIHJlZjogVmlydHVhbGl6ZWRMaXN0LFxuICB9KTogP0NoaWxkTGlzdFN0YXRlID0+IHtcbiAgICAvLyBSZWdpc3RlciB0aGUgbWFwcGluZyBiZXR3ZWVuIHRoaXMgY2hpbGQga2V5IGFuZCB0aGUgY2VsbEtleSBmb3IgaXRzIGNlbGxcbiAgICBjb25zdCBjaGlsZExpc3RzSW5DZWxsID1cbiAgICAgIHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLmdldChjaGlsZExpc3QuY2VsbEtleSkgfHwgbmV3IFNldCgpO1xuICAgIGNoaWxkTGlzdHNJbkNlbGwuYWRkKGNoaWxkTGlzdC5rZXkpO1xuICAgIHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLnNldChjaGlsZExpc3QuY2VsbEtleSwgY2hpbGRMaXN0c0luQ2VsbCk7XG5cbiAgICBjb25zdCBleGlzdGluZ0NoaWxkRGF0YSA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGNoaWxkTGlzdC5rZXkpO1xuICAgIGlmIChleGlzdGluZ0NoaWxkRGF0YSAmJiBleGlzdGluZ0NoaWxkRGF0YS5yZWYgIT09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICdBIFZpcnR1YWxpemVkTGlzdCBjb250YWlucyBhIGNlbGwgd2hpY2ggaXRzZWxmIGNvbnRhaW5zICcgK1xuICAgICAgICAgICdtb3JlIHRoYW4gb25lIFZpcnR1YWxpemVkTGlzdCBvZiB0aGUgc2FtZSBvcmllbnRhdGlvbiBhcyB0aGUgcGFyZW50ICcgK1xuICAgICAgICAgICdsaXN0LiBZb3UgbXVzdCBwYXNzIGEgdW5pcXVlIGxpc3RLZXkgcHJvcCB0byBlYWNoIHNpYmxpbmcgbGlzdC4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5zZXQoY2hpbGRMaXN0LmtleSwge1xuICAgICAgcmVmOiBjaGlsZExpc3QucmVmLFxuICAgICAgc3RhdGU6IG51bGwsXG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5faGFzSW50ZXJhY3RlZCkge1xuICAgICAgY2hpbGRMaXN0LnJlZi5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH1cbiAgfTtcblxuICBfdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSAoY2hpbGRMaXN0OiB7XG4gICAga2V5OiBzdHJpbmcsXG4gICAgc3RhdGU6IENoaWxkTGlzdFN0YXRlLFxuICB9KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5zZXQoY2hpbGRMaXN0LmtleSwge1xuICAgICAgcmVmOiBudWxsLFxuICAgICAgc3RhdGU6IGNoaWxkTGlzdC5zdGF0ZSxcbiAgICB9KTtcbiAgfTtcblxuICBzdGF0ZTogU3RhdGU7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBjb250ZXh0OiBPYmplY3QpIHtcbiAgICBzdXBlcihwcm9wcywgY29udGV4dCk7XG4gICAgaW52YXJpYW50KFxuICAgICAgIXByb3BzLm9uU2Nyb2xsIHx8ICFwcm9wcy5vblNjcm9sbC5fX2lzTmF0aXZlLFxuICAgICAgJ0NvbXBvbmVudHMgYmFzZWQgb24gVmlydHVhbGl6ZWRMaXN0IG11c3QgYmUgd3JhcHBlZCB3aXRoIEFuaW1hdGVkLmNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50ICcgK1xuICAgICAgICAndG8gc3VwcG9ydCBuYXRpdmUgb25TY3JvbGwgZXZlbnRzIHdpdGggdXNlTmF0aXZlRHJpdmVyJyxcbiAgICApO1xuXG4gICAgaW52YXJpYW50KFxuICAgICAgcHJvcHMud2luZG93U2l6ZSA+IDAsXG4gICAgICAnVmlydHVhbGl6ZWRMaXN0OiBUaGUgd2luZG93U2l6ZSBwcm9wIG11c3QgYmUgcHJlc2VudCBhbmQgc2V0IHRvIGEgdmFsdWUgZ3JlYXRlciB0aGFuIDAuJyxcbiAgICApO1xuXG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIgPSBuZXcgRmlsbFJhdGVIZWxwZXIodGhpcy5fZ2V0RnJhbWVNZXRyaWNzKTtcbiAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlciA9IG5ldyBCYXRjaGluYXRvcihcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIsXG4gICAgICB0aGlzLnByb3BzLnVwZGF0ZUNlbGxzQmF0Y2hpbmdQZXJpb2QsXG4gICAgKTtcblxuICAgIGlmICh0aGlzLnByb3BzLnZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycykge1xuICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMgPSB0aGlzLnByb3BzLnZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycy5tYXAoXG4gICAgICAgIHBhaXIgPT4gKHtcbiAgICAgICAgICB2aWV3YWJpbGl0eUhlbHBlcjogbmV3IFZpZXdhYmlsaXR5SGVscGVyKHBhaXIudmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICAgIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IHBhaXIub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkKSB7XG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5wdXNoKHtcbiAgICAgICAgdmlld2FiaWxpdHlIZWxwZXI6IG5ldyBWaWV3YWJpbGl0eUhlbHBlcih0aGlzLnByb3BzLnZpZXdhYmlsaXR5Q29uZmlnKSxcbiAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogdGhpcy5wcm9wcy5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGV0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGZpcnN0OiB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCB8fCAwLFxuICAgICAgbGFzdDpcbiAgICAgICAgTWF0aC5taW4oXG4gICAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSxcbiAgICAgICAgICAodGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggfHwgMCkgKyB0aGlzLnByb3BzLmluaXRpYWxOdW1Ub1JlbmRlcixcbiAgICAgICAgKSAtIDEsXG4gICAgfTtcblxuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgY29uc3Qgc3RvcmVkU3RhdGUgPSB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRMaXN0LmdldE5lc3RlZENoaWxkU3RhdGUoXG4gICAgICAgIHRoaXMucHJvcHMubGlzdEtleSB8fCB0aGlzLl9nZXRDZWxsS2V5KCksXG4gICAgICApO1xuICAgICAgaWYgKHN0b3JlZFN0YXRlKSB7XG4gICAgICAgIGluaXRpYWxTdGF0ZSA9IHN0b3JlZFN0YXRlO1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RvcmVkU3RhdGU7XG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IHN0b3JlZFN0YXRlLmZyYW1lcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRMaXN0LnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIGNlbGxLZXk6IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgICAga2V5OiB0aGlzLnByb3BzLmxpc3RLZXkgfHwgdGhpcy5fZ2V0Q2VsbEtleSgpLFxuICAgICAgICByZWY6IHRoaXMsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3QudW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQoe1xuICAgICAgICBrZXk6IHRoaXMucHJvcHMubGlzdEtleSB8fCB0aGlzLl9nZXRDZWxsS2V5KCksXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgZmlyc3Q6IHRoaXMuc3RhdGUuZmlyc3QsXG4gICAgICAgICAgbGFzdDogdGhpcy5zdGF0ZS5sYXN0LFxuICAgICAgICAgIGZyYW1lczogdGhpcy5fZnJhbWVzLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXMobnVsbCk7XG4gICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuZGlzcG9zZSh7YWJvcnQ6IHRydWV9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLmRpc3Bvc2UoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5kZWFjdGl2YXRlQW5kRmx1c2goKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV3UHJvcHM6IFByb3BzLCBwcmV2U3RhdGU6IFN0YXRlKTogU3RhdGUge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtQ291bnQsIG1heFRvUmVuZGVyUGVyQmF0Y2h9ID0gbmV3UHJvcHM7XG4gICAgLy8gZmlyc3QgYW5kIGxhc3QgY291bGQgYmUgc3RhbGUgKGUuZy4gaWYgYSBuZXcsIHNob3J0ZXIgaXRlbXMgcHJvcHMgaXMgcGFzc2VkIGluKSwgc28gd2UgbWFrZVxuICAgIC8vIHN1cmUgd2UncmUgcmVuZGVyaW5nIGEgcmVhc29uYWJsZSByYW5nZSBoZXJlLlxuICAgIHJldHVybiB7XG4gICAgICBmaXJzdDogTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIE1hdGgubWluKHByZXZTdGF0ZS5maXJzdCwgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSAtIG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgICAgKSxcbiAgICAgIGxhc3Q6IE1hdGgubWF4KDAsIE1hdGgubWluKHByZXZTdGF0ZS5sYXN0LCBnZXRJdGVtQ291bnQoZGF0YSkgLSAxKSksXG4gICAgfTtcbiAgfVxuXG4gIF9wdXNoQ2VsbHMoXG4gICAgY2VsbHM6IEFycmF5PE9iamVjdD4sXG4gICAgc3RpY2t5SGVhZGVySW5kaWNlczogQXJyYXk8bnVtYmVyPixcbiAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzOiBTZXQ8bnVtYmVyPixcbiAgICBmaXJzdDogbnVtYmVyLFxuICAgIGxhc3Q6IG51bWJlcixcbiAgICBpbnZlcnNpb25TdHlsZTogVmlld1N0eWxlUHJvcCxcbiAgKSB7XG4gICAgY29uc3Qge1xuICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50LFxuICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudCxcbiAgICAgIGRhdGEsXG4gICAgICBnZXRJdGVtLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgaG9yaXpvbnRhbCxcbiAgICAgIGtleUV4dHJhY3RvcixcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBzdGlja3lPZmZzZXQgPSB0aGlzLnByb3BzLkxpc3RIZWFkZXJDb21wb25lbnQgPyAxIDogMDtcbiAgICBjb25zdCBlbmQgPSBnZXRJdGVtQ291bnQoZGF0YSkgLSAxO1xuICAgIGxldCBwcmV2Q2VsbEtleTtcbiAgICBsYXN0ID0gTWF0aC5taW4oZW5kLCBsYXN0KTtcbiAgICBmb3IgKGxldCBpaSA9IGZpcnN0OyBpaSA8PSBsYXN0OyBpaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpaSk7XG4gICAgICBjb25zdCBrZXkgPSBrZXlFeHRyYWN0b3IoaXRlbSwgaWkpO1xuICAgICAgdGhpcy5faW5kaWNlc1RvS2V5cy5zZXQoaWksIGtleSk7XG4gICAgICBpZiAoc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcy5oYXMoaWkgKyBzdGlja3lPZmZzZXQpKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaChjZWxscy5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPENlbGxSZW5kZXJlclxuICAgICAgICAgIENlbGxSZW5kZXJlckNvbXBvbmVudD17Q2VsbFJlbmRlcmVyQ29tcG9uZW50fVxuICAgICAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQ9e2lpIDwgZW5kID8gSXRlbVNlcGFyYXRvckNvbXBvbmVudCA6IHVuZGVmaW5lZH1cbiAgICAgICAgICBjZWxsS2V5PXtrZXl9XG4gICAgICAgICAgZmlsbFJhdGVIZWxwZXI9e3RoaXMuX2ZpbGxSYXRlSGVscGVyfVxuICAgICAgICAgIGhvcml6b250YWw9e2hvcml6b250YWx9XG4gICAgICAgICAgaW5kZXg9e2lpfVxuICAgICAgICAgIGludmVyc2lvblN0eWxlPXtpbnZlcnNpb25TdHlsZX1cbiAgICAgICAgICBpdGVtPXtpdGVtfVxuICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgIHByZXZDZWxsS2V5PXtwcmV2Q2VsbEtleX1cbiAgICAgICAgICBvblVwZGF0ZVNlcGFyYXRvcnM9e3RoaXMuX29uVXBkYXRlU2VwYXJhdG9yc31cbiAgICAgICAgICBvbkxheW91dD17ZSA9PiB0aGlzLl9vbkNlbGxMYXlvdXQoZSwga2V5LCBpaSl9XG4gICAgICAgICAgb25Vbm1vdW50PXt0aGlzLl9vbkNlbGxVbm1vdW50fVxuICAgICAgICAgIHBhcmVudFByb3BzPXt0aGlzLnByb3BzfVxuICAgICAgICAgIHJlZj17cmVmID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NlbGxSZWZzW2tleV0gPSByZWY7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz4sXG4gICAgICApO1xuICAgICAgcHJldkNlbGxLZXkgPSBrZXk7XG4gICAgfVxuICB9XG5cbiAgX29uVXBkYXRlU2VwYXJhdG9ycyA9IChrZXlzOiBBcnJheTw/c3RyaW5nPiwgbmV3UHJvcHM6IE9iamVjdCkgPT4ge1xuICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29uc3QgcmVmID0ga2V5ICE9IG51bGwgJiYgdGhpcy5fY2VsbFJlZnNba2V5XTtcbiAgICAgIHJlZiAmJiByZWYudXBkYXRlU2VwYXJhdG9yUHJvcHMobmV3UHJvcHMpO1xuICAgIH0pO1xuICB9O1xuXG4gIF9pc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGlzYWJsZVZpcnR1YWxpemF0aW9uIHx8IGZhbHNlO1xuICB9XG5cbiAgX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpOiBib29sZWFuIHtcbiAgICBjb25zdCBuZXN0ZWRDb250ZXh0ID0gdGhpcy5jb250ZXh0LnZpcnR1YWxpemVkTGlzdDtcbiAgICByZXR1cm4gISEoXG4gICAgICBuZXN0ZWRDb250ZXh0ICYmICEhbmVzdGVkQ29udGV4dC5ob3Jpem9udGFsID09PSAhIXRoaXMucHJvcHMuaG9yaXpvbnRhbFxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKTogUmVhY3QuTm9kZSB7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIGNvbnN0IGZsYXRTdHlsZXMgPSBmbGF0dGVuU3R5bGUodGhpcy5wcm9wcy5jb250ZW50Q29udGFpbmVyU3R5bGUpO1xuICAgICAgd2FybmluZyhcbiAgICAgICAgZmxhdFN0eWxlcyA9PSBudWxsIHx8IGZsYXRTdHlsZXMuZmxleFdyYXAgIT09ICd3cmFwJyxcbiAgICAgICAgJ2BmbGV4V3JhcDogYHdyYXBgYCBpcyBub3Qgc3VwcG9ydGVkIHdpdGggdGhlIGBWaXJ0dWFsaXplZExpc3RgIGNvbXBvbmVudHMuJyArXG4gICAgICAgICAgJ0NvbnNpZGVyIHVzaW5nIGBudW1Db2x1bW5zYCB3aXRoIGBGbGF0TGlzdGAgaW5zdGVhZC4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgTGlzdEVtcHR5Q29tcG9uZW50LFxuICAgICAgTGlzdEZvb3RlckNvbXBvbmVudCxcbiAgICAgIExpc3RIZWFkZXJDb21wb25lbnQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge2RhdGEsIGhvcml6b250YWx9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQgPSB0aGlzLl9pc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQoKTtcbiAgICBjb25zdCBpbnZlcnNpb25TdHlsZSA9IHRoaXMucHJvcHMuaW52ZXJ0ZWRcbiAgICAgID8gdGhpcy5wcm9wcy5ob3Jpem9udGFsXG4gICAgICAgID8gc3R5bGVzLmhvcml6b250YWxseUludmVydGVkXG4gICAgICAgIDogc3R5bGVzLnZlcnRpY2FsbHlJbnZlcnRlZFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGNlbGxzID0gW107XG4gICAgY29uc3Qgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyA9IG5ldyBTZXQodGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzKTtcbiAgICBjb25zdCBzdGlja3lIZWFkZXJJbmRpY2VzID0gW107XG4gICAgaWYgKExpc3RIZWFkZXJDb21wb25lbnQpIHtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcygwKSkge1xuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLnB1c2goMCk7XG4gICAgICB9XG4gICAgICBjb25zdCBlbGVtZW50ID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQoTGlzdEhlYWRlckNvbXBvbmVudCkgPyAoXG4gICAgICAgIExpc3RIZWFkZXJDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgPExpc3RIZWFkZXJDb21wb25lbnQgLz5cbiAgICAgICk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8VmlydHVhbGl6ZWRDZWxsV3JhcHBlclxuICAgICAgICAgIGNlbGxLZXk9e3RoaXMuX2dldENlbGxLZXkoKSArICctaGVhZGVyJ31cbiAgICAgICAgICBrZXk9XCIkaGVhZGVyXCI+XG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIG9uTGF5b3V0PXt0aGlzLl9vbkxheW91dEhlYWRlcn1cbiAgICAgICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmNvbXBvc2UoXG4gICAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLkxpc3RIZWFkZXJDb21wb25lbnRTdHlsZSxcbiAgICAgICAgICAgICl9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICA8L1ZpcnR1YWxpemVkQ2VsbFdyYXBwZXI+LFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQoZGF0YSk7XG4gICAgaWYgKGl0ZW1Db3VudCA+IDApIHtcbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbiAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUgPSAnJztcbiAgICAgIGNvbnN0IHNwYWNlcktleSA9ICFob3Jpem9udGFsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICAgICAgY29uc3QgbGFzdEluaXRpYWxJbmRleCA9IHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4XG4gICAgICAgID8gLTFcbiAgICAgICAgOiB0aGlzLnByb3BzLmluaXRpYWxOdW1Ub1JlbmRlciAtIDE7XG4gICAgICBjb25zdCB7Zmlyc3QsIGxhc3R9ID0gdGhpcy5zdGF0ZTtcbiAgICAgIHRoaXMuX3B1c2hDZWxscyhcbiAgICAgICAgY2VsbHMsXG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgICAgIHN0aWNreUluZGljZXNGcm9tUHJvcHMsXG4gICAgICAgIDAsXG4gICAgICAgIGxhc3RJbml0aWFsSW5kZXgsXG4gICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGZpcnN0QWZ0ZXJJbml0aWFsID0gTWF0aC5tYXgobGFzdEluaXRpYWxJbmRleCArIDEsIGZpcnN0KTtcbiAgICAgIGlmICghaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkICYmIGZpcnN0ID4gbGFzdEluaXRpYWxJbmRleCArIDEpIHtcbiAgICAgICAgbGV0IGluc2VydGVkU3RpY2t5U3BhY2VyID0gZmFsc2U7XG4gICAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLnNpemUgPiAwKSB7XG4gICAgICAgICAgY29uc3Qgc3RpY2t5T2Zmc2V0ID0gTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwO1xuICAgICAgICAgIC8vIFNlZSBpZiB0aGVyZSBhcmUgYW55IHN0aWNreSBoZWFkZXJzIGluIHRoZSB2aXJ0dWFsaXplZCBzcGFjZSB0aGF0IHdlIG5lZWQgdG8gcmVuZGVyLlxuICAgICAgICAgIGZvciAobGV0IGlpID0gZmlyc3RBZnRlckluaXRpYWwgLSAxOyBpaSA+IGxhc3RJbml0aWFsSW5kZXg7IGlpLS0pIHtcbiAgICAgICAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcyhpaSArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgaW5pdEJsb2NrID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3RJbml0aWFsSW5kZXgpO1xuICAgICAgICAgICAgICBjb25zdCBzdGlja3lCbG9jayA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChpaSk7XG4gICAgICAgICAgICAgIGNvbnN0IGxlYWRTcGFjZSA9XG4gICAgICAgICAgICAgICAgc3RpY2t5QmxvY2sub2Zmc2V0IC1cbiAgICAgICAgICAgICAgICBpbml0QmxvY2sub2Zmc2V0IC1cbiAgICAgICAgICAgICAgICAodGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPyAwIDogaW5pdEJsb2NrLmxlbmd0aCk7XG4gICAgICAgICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgICAgICAgPFZpZXcga2V5PVwiJHN0aWNreV9sZWFkXCIgc3R5bGU9e3tbc3BhY2VyS2V5XTogbGVhZFNwYWNlfX0gLz4sXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRoaXMuX3B1c2hDZWxscyhcbiAgICAgICAgICAgICAgICBjZWxscyxcbiAgICAgICAgICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgICAgICAgICAgIHN0aWNreUluZGljZXNGcm9tUHJvcHMsXG4gICAgICAgICAgICAgICAgaWksXG4gICAgICAgICAgICAgICAgaWksXG4gICAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGNvbnN0IHRyYWlsU3BhY2UgPVxuICAgICAgICAgICAgICAgIHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChmaXJzdCkub2Zmc2V0IC1cbiAgICAgICAgICAgICAgICAoc3RpY2t5QmxvY2sub2Zmc2V0ICsgc3RpY2t5QmxvY2subGVuZ3RoKTtcbiAgICAgICAgICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgICAgICAgICA8VmlldyBrZXk9XCIkc3RpY2t5X3RyYWlsXCIgc3R5bGU9e3tbc3BhY2VyS2V5XTogdHJhaWxTcGFjZX19IC8+LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBpbnNlcnRlZFN0aWNreVNwYWNlciA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWluc2VydGVkU3RpY2t5U3BhY2VyKSB7XG4gICAgICAgICAgY29uc3QgaW5pdEJsb2NrID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3RJbml0aWFsSW5kZXgpO1xuICAgICAgICAgIGNvbnN0IGZpcnN0U3BhY2UgPVxuICAgICAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGZpcnN0KS5vZmZzZXQgLVxuICAgICAgICAgICAgKGluaXRCbG9jay5vZmZzZXQgKyBpbml0QmxvY2subGVuZ3RoKTtcbiAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgICAgPFZpZXcga2V5PVwiJGxlYWRfc3BhY2VyXCIgc3R5bGU9e3tbc3BhY2VyS2V5XTogZmlyc3RTcGFjZX19IC8+LFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX3B1c2hDZWxscyhcbiAgICAgICAgY2VsbHMsXG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgICAgIHN0aWNreUluZGljZXNGcm9tUHJvcHMsXG4gICAgICAgIGZpcnN0QWZ0ZXJJbml0aWFsLFxuICAgICAgICBsYXN0LFxuICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICk7XG4gICAgICBpZiAoIXRoaXMuX2hhc1dhcm5lZC5rZXlzICYmIF91c2VkSW5kZXhGb3JLZXkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdWaXJ0dWFsaXplZExpc3Q6IG1pc3Npbmcga2V5cyBmb3IgaXRlbXMsIG1ha2Ugc3VyZSB0byBzcGVjaWZ5IGEga2V5IG9yIGlkIHByb3BlcnR5IG9uIGVhY2ggJyArXG4gICAgICAgICAgICAnaXRlbSBvciBwcm92aWRlIGEgY3VzdG9tIGtleUV4dHJhY3Rvci4nLFxuICAgICAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2hhc1dhcm5lZC5rZXlzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkICYmIGxhc3QgPCBpdGVtQ291bnQgLSAxKSB7XG4gICAgICAgIGNvbnN0IGxhc3RGcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0KTtcbiAgICAgICAgLy8gV2l0aG91dCBnZXRJdGVtTGF5b3V0LCB3ZSBsaW1pdCBvdXIgdGFpbCBzcGFjZXIgdG8gdGhlIF9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IHRvXG4gICAgICAgIC8vIHByZXZlbnQgdGhlIHVzZXIgZm9yIGh5cGVyc2Nyb2xsaW5nIGludG8gdW4tbWVhc3VyZWQgYXJlYSBiZWNhdXNlIG90aGVyd2lzZSBjb250ZW50IHdpbGxcbiAgICAgICAgLy8gbGlrZWx5IGp1bXAgYXJvdW5kIGFzIGl0IHJlbmRlcnMgaW4gYWJvdmUgdGhlIHZpZXdwb3J0LlxuICAgICAgICBjb25zdCBlbmQgPSB0aGlzLnByb3BzLmdldEl0ZW1MYXlvdXRcbiAgICAgICAgICA/IGl0ZW1Db3VudCAtIDFcbiAgICAgICAgICA6IE1hdGgubWluKGl0ZW1Db3VudCAtIDEsIHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgpO1xuICAgICAgICBjb25zdCBlbmRGcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChlbmQpO1xuICAgICAgICBjb25zdCB0YWlsU3BhY2VyTGVuZ3RoID1cbiAgICAgICAgICBlbmRGcmFtZS5vZmZzZXQgK1xuICAgICAgICAgIGVuZEZyYW1lLmxlbmd0aCAtXG4gICAgICAgICAgKGxhc3RGcmFtZS5vZmZzZXQgKyBsYXN0RnJhbWUubGVuZ3RoKTtcbiAgICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgICA8VmlldyBrZXk9XCIkdGFpbF9zcGFjZXJcIiBzdHlsZT17e1tzcGFjZXJLZXldOiB0YWlsU3BhY2VyTGVuZ3RofX0gLz4sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChMaXN0RW1wdHlDb21wb25lbnQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQ6IFJlYWN0LkVsZW1lbnQ8YW55PiA9ICgoUmVhY3QuaXNWYWxpZEVsZW1lbnQoXG4gICAgICAgIExpc3RFbXB0eUNvbXBvbmVudCxcbiAgICAgICkgPyAoXG4gICAgICAgIExpc3RFbXB0eUNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICA8TGlzdEVtcHR5Q29tcG9uZW50IC8+XG4gICAgICApKTogYW55KTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIFJlYWN0LmNsb25lRWxlbWVudChlbGVtZW50LCB7XG4gICAgICAgICAga2V5OiAnJGVtcHR5JyxcbiAgICAgICAgICBvbkxheW91dDogZXZlbnQgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25MYXlvdXRFbXB0eShldmVudCk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5wcm9wcy5vbkxheW91dCkge1xuICAgICAgICAgICAgICBlbGVtZW50LnByb3BzLm9uTGF5b3V0KGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0eWxlOiBTdHlsZVNoZWV0LmNvbXBvc2UoXG4gICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICAgIGVsZW1lbnQucHJvcHMuc3R5bGUsXG4gICAgICAgICAgKSxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoTGlzdEZvb3RlckNvbXBvbmVudCkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IFJlYWN0LmlzVmFsaWRFbGVtZW50KExpc3RGb290ZXJDb21wb25lbnQpID8gKFxuICAgICAgICBMaXN0Rm9vdGVyQ29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIDxMaXN0Rm9vdGVyQ29tcG9uZW50IC8+XG4gICAgICApO1xuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPFZpcnR1YWxpemVkQ2VsbFdyYXBwZXJcbiAgICAgICAgICBjZWxsS2V5PXt0aGlzLl9nZXRDZWxsS2V5KCkgKyAnLWZvb3Rlcid9XG4gICAgICAgICAga2V5PVwiJGZvb3RlclwiPlxuICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICBvbkxheW91dD17dGhpcy5fb25MYXlvdXRGb290ZXJ9XG4gICAgICAgICAgICBzdHlsZT17U3R5bGVTaGVldC5jb21wb3NlKFxuICAgICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5MaXN0Rm9vdGVyQ29tcG9uZW50U3R5bGUsXG4gICAgICAgICAgICApfT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgPC9WaXJ0dWFsaXplZENlbGxXcmFwcGVyPixcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHNjcm9sbFByb3BzID0ge1xuICAgICAgLi4udGhpcy5wcm9wcyxcbiAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U6IHRoaXMuX29uQ29udGVudFNpemVDaGFuZ2UsXG4gICAgICBvbkxheW91dDogdGhpcy5fb25MYXlvdXQsXG4gICAgICBvblNjcm9sbDogdGhpcy5fb25TY3JvbGwsXG4gICAgICBvblNjcm9sbEJlZ2luRHJhZzogdGhpcy5fb25TY3JvbGxCZWdpbkRyYWcsXG4gICAgICBvblNjcm9sbEVuZERyYWc6IHRoaXMuX29uU2Nyb2xsRW5kRHJhZyxcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxFbmQ6IHRoaXMuX29uTW9tZW50dW1TY3JvbGxFbmQsXG4gICAgICBzY3JvbGxFdmVudFRocm90dGxlOiB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUsIC8vIFRPRE86IEFuZHJvaWQgc3VwcG9ydFxuICAgICAgaW52ZXJ0U3RpY2t5SGVhZGVyczpcbiAgICAgICAgdGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVyc1xuICAgICAgICAgIDogdGhpcy5wcm9wcy5pbnZlcnRlZCxcbiAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgfTtcbiAgICBpZiAoaW52ZXJzaW9uU3R5bGUpIHtcbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjcwLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNzAgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZVxuICAgICAgICogdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIHNjcm9sbFByb3BzLnN0eWxlID0gW2ludmVyc2lvblN0eWxlLCB0aGlzLnByb3BzLnN0eWxlXTtcbiAgICB9XG5cbiAgICB0aGlzLl9oYXNNb3JlID1cbiAgICAgIHRoaXMuc3RhdGUubGFzdCA8IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSkgLSAxO1xuXG4gICAgY29uc3QgaW5uZXJSZXQgPSBSZWFjdC5jbG9uZUVsZW1lbnQoXG4gICAgICAodGhpcy5wcm9wcy5yZW5kZXJTY3JvbGxDb21wb25lbnQgfHwgdGhpcy5fZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCkoXG4gICAgICAgIHNjcm9sbFByb3BzLFxuICAgICAgKSxcbiAgICAgIHtcbiAgICAgICAgcmVmOiB0aGlzLl9jYXB0dXJlU2Nyb2xsUmVmLFxuICAgICAgfSxcbiAgICAgIGNlbGxzLFxuICAgICk7XG4gICAgbGV0IHJldCA9IGlubmVyUmV0O1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICByZXQgPSAoXG4gICAgICAgIDxTY3JvbGxWaWV3LkNvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgICAge3Njcm9sbENvbnRleHQgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzY3JvbGxDb250ZXh0ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgIXNjcm9sbENvbnRleHQuaG9yaXpvbnRhbCA9PT0gIXRoaXMucHJvcHMuaG9yaXpvbnRhbCAmJlxuICAgICAgICAgICAgICAhdGhpcy5faGFzV2FybmVkLm5lc3RpbmcgJiZcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnZpcnR1YWxpemVkTGlzdCA9PSBudWxsXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLy8gVE9ETyAoVDQ2NTQ3MDQ0KTogdXNlIFJlYWN0Lndhcm4gb25jZSAxNi45IGlzIHN5bmMnZDogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvMTUxNzBcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICdWaXJ0dWFsaXplZExpc3RzIHNob3VsZCBuZXZlciBiZSBuZXN0ZWQgaW5zaWRlIHBsYWluIFNjcm9sbFZpZXdzIHdpdGggdGhlIHNhbWUgJyArXG4gICAgICAgICAgICAgICAgICAnb3JpZW50YXRpb24gLSB1c2UgYW5vdGhlciBWaXJ0dWFsaXplZExpc3QtYmFja2VkIGNvbnRhaW5lciBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRoaXMuX2hhc1dhcm5lZC5uZXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbm5lclJldDtcbiAgICAgICAgICB9fVxuICAgICAgICA8L1Njcm9sbFZpZXcuQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmRlYnVnKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmRlYnVnfT5cbiAgICAgICAgICB7cmV0fVxuICAgICAgICAgIHt0aGlzLl9yZW5kZXJEZWJ1Z092ZXJsYXkoKX1cbiAgICAgICAgPC9WaWV3PlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBQcm9wcykge1xuICAgIGNvbnN0IHtkYXRhLCBleHRyYURhdGF9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZGF0YSAhPT0gcHJldlByb3BzLmRhdGEgfHwgZXh0cmFEYXRhICE9PSBwcmV2UHJvcHMuZXh0cmFEYXRhKSB7XG4gICAgICB0aGlzLl9oYXNEYXRhQ2hhbmdlZFNpbmNlRW5kUmVhY2hlZCA9IHRydWU7XG5cbiAgICAgIC8vIGNsZWFyIHRoZSB2aWV3YWJsZUluZGljZXMgY2FjaGUgdG8gYWxzbyB0cmlnZ2VyXG4gICAgICAvLyB0aGUgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCBjYWxsYmFjayB3aXRoIHRoZSBuZXcgZGF0YVxuICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLnJlc2V0Vmlld2FibGVJbmRpY2VzKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gVGhlIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3NgIGlzIGd1YXJhbnRlZWluZyBhIGhpUHJpIGNlbGwgdXBkYXRlIHdpbGwgb25seSBoYXBwZW5cbiAgICAvLyBvbmNlIHBlciBmaWJlciB1cGRhdGUuIFRoZSBgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZWAgd2lsbCBzZXQgaXQgdG8gdHJ1ZVxuICAgIC8vIGlmIGEgaGlQcmkgdXBkYXRlIG5lZWRzIHRvIHBlcmZvcm0uIElmIGBjb21wb25lbnREaWRVcGRhdGVgIGlzIHRyaWdnZXJlZCB3aXRoXG4gICAgLy8gYHRoaXMuX2hpUHJpSW5Qcm9ncmVzcz10cnVlYCwgbWVhbnMgaXQncyB0cmlnZ2VyZWQgYnkgdGhlIGhpUHJpIHVwZGF0ZS4gVGhlXG4gICAgLy8gYF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGVgIHdpbGwgY2hlY2sgdGhpcyBjb25kaXRpb24gYW5kIG5vdCBwZXJmb3JtXG4gICAgLy8gYW5vdGhlciBoaVByaSB1cGRhdGUuXG4gICAgY29uc3QgaGlQcmlJblByb2dyZXNzID0gdGhpcy5faGlQcmlJblByb2dyZXNzO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIC8vIE1ha2Ugc3VyZSBzZXR0aW5nIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3NgIGJhY2sgdG8gZmFsc2UgYWZ0ZXIgYGNvbXBvbmVudERpZFVwZGF0ZWBcbiAgICAvLyBpcyB0cmlnZ2VyZWQgd2l0aCBgdGhpcy5faGlQcmlJblByb2dyZXNzID0gdHJ1ZWBcbiAgICBpZiAoaGlQcmlJblByb2dyZXNzKSB7XG4gICAgICB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBfYXZlcmFnZUNlbGxMZW5ndGggPSAwO1xuICAvLyBNYXBzIGEgY2VsbCBrZXkgdG8gdGhlIHNldCBvZiBrZXlzIGZvciBhbGwgb3V0ZXJtb3N0IGNoaWxkIGxpc3RzIHdpdGhpbiB0aGF0IGNlbGxcbiAgX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzOiBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj4gPSBuZXcgTWFwKCk7XG4gIF9jZWxsUmVmcyA9IHt9O1xuICBfZmlsbFJhdGVIZWxwZXI6IEZpbGxSYXRlSGVscGVyO1xuICBfZnJhbWVzID0ge307XG4gIF9mb290ZXJMZW5ndGggPSAwO1xuICBfaGFzRGF0YUNoYW5nZWRTaW5jZUVuZFJlYWNoZWQgPSB0cnVlO1xuICBfaGFzRG9uZUluaXRpYWxTY3JvbGwgPSBmYWxzZTtcbiAgX2hhc0ludGVyYWN0ZWQgPSBmYWxzZTtcbiAgX2hhc01vcmUgPSBmYWxzZTtcbiAgX2hhc1dhcm5lZCA9IHt9O1xuICBfaGVhZGVyTGVuZ3RoID0gMDtcbiAgX2hpUHJpSW5Qcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlOyAvLyBmbGFnIHRvIHByZXZlbnQgaW5maW5pdGUgaGlQcmkgY2VsbCBsaW1pdCB1cGRhdGVcbiAgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSAwO1xuICBfaW5kaWNlc1RvS2V5czogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXAoKTtcbiAgX25lc3RlZENoaWxkTGlzdHM6IE1hcDxcbiAgICBzdHJpbmcsXG4gICAge3JlZjogP1ZpcnR1YWxpemVkTGlzdCwgc3RhdGU6ID9DaGlsZExpc3RTdGF0ZX0sXG4gID4gPSBuZXcgTWFwKCk7XG4gIF9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0OiBudW1iZXIgPSAwO1xuICBfcHJldlBhcmVudE9mZnNldDogbnVtYmVyID0gMDtcbiAgX3Njcm9sbE1ldHJpY3MgPSB7XG4gICAgY29udGVudExlbmd0aDogMCxcbiAgICBkT2Zmc2V0OiAwLFxuICAgIGR0OiAxMCxcbiAgICBvZmZzZXQ6IDAsXG4gICAgdGltZXN0YW1wOiAwLFxuICAgIHZlbG9jaXR5OiAwLFxuICAgIHZpc2libGVMZW5ndGg6IDAsXG4gIH07XG4gIF9zY3JvbGxSZWY6ID9SZWFjdC5FbGVtZW50UmVmPGFueT4gPSBudWxsO1xuICBfc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSAwO1xuICBfdG90YWxDZWxsTGVuZ3RoID0gMDtcbiAgX3RvdGFsQ2VsbHNNZWFzdXJlZCA9IDA7XG4gIF91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlcjogQmF0Y2hpbmF0b3I7XG4gIF92aWV3YWJpbGl0eVR1cGxlczogQXJyYXk8Vmlld2FiaWxpdHlIZWxwZXJDYWxsYmFja1R1cGxlPiA9IFtdO1xuXG4gIF9jYXB0dXJlU2Nyb2xsUmVmID0gcmVmID0+IHtcbiAgICB0aGlzLl9zY3JvbGxSZWYgPSByZWY7XG4gIH07XG5cbiAgX2NvbXB1dGVCbGFua25lc3MoKSB7XG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuY29tcHV0ZUJsYW5rbmVzcyhcbiAgICAgIHRoaXMucHJvcHMsXG4gICAgICB0aGlzLnN0YXRlLFxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICApO1xuICB9XG5cbiAgX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQgPSBwcm9wcyA9PiB7XG4gICAgY29uc3Qgb25SZWZyZXNoID0gcHJvcHMub25SZWZyZXNoO1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgLy8gJEZsb3dGaXhNZSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgIHJldHVybiA8VmlldyB7Li4ucHJvcHN9IC8+O1xuICAgIH0gZWxzZSBpZiAob25SZWZyZXNoKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIHR5cGVvZiBwcm9wcy5yZWZyZXNoaW5nID09PSAnYm9vbGVhbicsXG4gICAgICAgICdgcmVmcmVzaGluZ2AgcHJvcCBtdXN0IGJlIHNldCBhcyBhIGJvb2xlYW4gaW4gb3JkZXIgdG8gdXNlIGBvblJlZnJlc2hgLCBidXQgZ290IGAnICtcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9wcy5yZWZyZXNoaW5nKSArXG4gICAgICAgICAgJ2AnLFxuICAgICAgKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIC8vICRGbG93Rml4TWUgSW52YWxpZCBwcm9wIHVzYWdlXG4gICAgICAgIDxTY3JvbGxWaWV3XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIHJlZnJlc2hDb250cm9sPXtcbiAgICAgICAgICAgIHByb3BzLnJlZnJlc2hDb250cm9sID09IG51bGwgPyAoXG4gICAgICAgICAgICAgIDxSZWZyZXNoQ29udHJvbFxuICAgICAgICAgICAgICAgIHJlZnJlc2hpbmc9e3Byb3BzLnJlZnJlc2hpbmd9XG4gICAgICAgICAgICAgICAgb25SZWZyZXNoPXtvblJlZnJlc2h9XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NWaWV3T2Zmc2V0PXtwcm9wcy5wcm9ncmVzc1ZpZXdPZmZzZXR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICBwcm9wcy5yZWZyZXNoQ29udHJvbFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vICRGbG93Rml4TWUgSW52YWxpZCBwcm9wIHVzYWdlXG4gICAgICByZXR1cm4gPFNjcm9sbFZpZXcgey4uLnByb3BzfSAvPjtcbiAgICB9XG4gIH07XG5cbiAgX29uQ2VsbExheW91dChlLCBjZWxsS2V5LCBpbmRleCkge1xuICAgIGNvbnN0IGxheW91dCA9IGUubmF0aXZlRXZlbnQubGF5b3V0O1xuICAgIGNvbnN0IG5leHQgPSB7XG4gICAgICBvZmZzZXQ6IHRoaXMuX3NlbGVjdE9mZnNldChsYXlvdXQpLFxuICAgICAgbGVuZ3RoOiB0aGlzLl9zZWxlY3RMZW5ndGgobGF5b3V0KSxcbiAgICAgIGluZGV4LFxuICAgICAgaW5MYXlvdXQ6IHRydWUsXG4gICAgfTtcbiAgICBjb25zdCBjdXJyID0gdGhpcy5fZnJhbWVzW2NlbGxLZXldO1xuICAgIGlmIChcbiAgICAgICFjdXJyIHx8XG4gICAgICBuZXh0Lm9mZnNldCAhPT0gY3Vyci5vZmZzZXQgfHxcbiAgICAgIG5leHQubGVuZ3RoICE9PSBjdXJyLmxlbmd0aCB8fFxuICAgICAgaW5kZXggIT09IGN1cnIuaW5kZXhcbiAgICApIHtcbiAgICAgIHRoaXMuX3RvdGFsQ2VsbExlbmd0aCArPSBuZXh0Lmxlbmd0aCAtIChjdXJyID8gY3Vyci5sZW5ndGggOiAwKTtcbiAgICAgIHRoaXMuX3RvdGFsQ2VsbHNNZWFzdXJlZCArPSBjdXJyID8gMCA6IDE7XG4gICAgICB0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCA9XG4gICAgICAgIHRoaXMuX3RvdGFsQ2VsbExlbmd0aCAvIHRoaXMuX3RvdGFsQ2VsbHNNZWFzdXJlZDtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XSA9IG5leHQ7XG4gICAgICB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4ID0gTWF0aC5tYXgoXG4gICAgICAgIHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgsXG4gICAgICAgIGluZGV4LFxuICAgICAgKTtcbiAgICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9mcmFtZXNbY2VsbEtleV0uaW5MYXlvdXQgPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGNoaWxkTGlzdEtleXMgPSB0aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5nZXQoY2VsbEtleSk7XG4gICAgaWYgKGNoaWxkTGlzdEtleXMpIHtcbiAgICAgIGZvciAobGV0IGNoaWxkS2V5IG9mIGNoaWxkTGlzdEtleXMpIHtcbiAgICAgICAgY29uc3QgY2hpbGRMaXN0ID0gdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoY2hpbGRLZXkpO1xuICAgICAgICBjaGlsZExpc3QgJiZcbiAgICAgICAgICBjaGlsZExpc3QucmVmICYmXG4gICAgICAgICAgY2hpbGRMaXN0LnJlZi5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcy5kYXRhKTtcbiAgfVxuXG4gIF9vbkNlbGxVbm1vdW50ID0gKGNlbGxLZXk6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGN1cnIgPSB0aGlzLl9mcmFtZXNbY2VsbEtleV07XG4gICAgaWYgKGN1cnIpIHtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XSA9IHsuLi5jdXJyLCBpbkxheW91dDogZmFsc2V9O1xuICAgIH1cbiAgfTtcblxuICBtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk6IHZvaWQge1xuICAgIC8vIFRPRE8gKFQzNTU3NDUzOCk6IGZpbmROb2RlSGFuZGxlIHNvbWV0aW1lcyBjcmFzaGVzIHdpdGggXCJVbmFibGUgdG8gZmluZFxuICAgIC8vIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudFwiIGR1cmluZyBzY3JvbGxpbmdcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gV2UgYXJlIGFzc3VtaW5nIHRoYXQgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpXG4gICAgICAvLyBpcyBhIG5vbi1udWxsIHJlZmVyZW5jZSB0byBhIFNjcm9sbFZpZXdcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5tZWFzdXJlTGF5b3V0KFxuICAgICAgICB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRMaXN0XG4gICAgICAgICAgLmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKVxuICAgICAgICAgIC5nZXRTY3JvbGxSZWYoKVxuICAgICAgICAgIC5nZXROYXRpdmVTY3JvbGxSZWYoKSxcbiAgICAgICAgKHgsIHksIHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgICAgICAgICB0aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KHt4LCB5fSk7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKHtcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHNjcm9sbE1ldHJpY3MgPSB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyhcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3QuZ2V0U2Nyb2xsTWV0cmljcygpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0ID0gc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIlZpcnR1YWxpemVkTGlzdDogRW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgbWVhc3VyaW5nIGEgbGlzdCdzXCIgK1xuICAgICAgICAgICAgICAnIG9mZnNldCBmcm9tIGl0cyBjb250YWluaW5nIFZpcnR1YWxpemVkTGlzdC4nLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0IHRocmV3IGFuIGVycm9yJyxcbiAgICAgICAgZXJyb3Iuc3RhY2ssXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIF9vbkxheW91dCA9IChlOiBPYmplY3QpID0+IHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIC8vIE5lZWQgdG8gYWRqdXN0IG91ciBzY3JvbGwgbWV0cmljcyB0byBiZSByZWxhdGl2ZSB0byBvdXIgY29udGFpbmluZ1xuICAgICAgLy8gVmlydHVhbGl6ZWRMaXN0IGJlZm9yZSB3ZSBjYW4gbWFrZSBjbGFpbXMgYWJvdXQgbGlzdCBpdGVtIHZpZXdhYmlsaXR5XG4gICAgICB0aGlzLm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKFxuICAgICAgICBlLm5hdGl2ZUV2ZW50LmxheW91dCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25MYXlvdXQgJiYgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVuZFJlYWNoZWQoKTtcbiAgfTtcblxuICBfb25MYXlvdXRFbXB0eSA9IGUgPT4ge1xuICAgIHRoaXMucHJvcHMub25MYXlvdXQgJiYgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgfTtcblxuICBfb25MYXlvdXRGb290ZXIgPSBlID0+IHtcbiAgICB0aGlzLl9mb290ZXJMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICB9O1xuXG4gIF9vbkxheW91dEhlYWRlciA9IGUgPT4ge1xuICAgIHRoaXMuX2hlYWRlckxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gIH07XG5cbiAgX3JlbmRlckRlYnVnT3ZlcmxheSgpIHtcbiAgICBjb25zdCBub3JtYWxpemUgPVxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC9cbiAgICAgICh0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggfHwgMSk7XG4gICAgY29uc3QgZnJhbWVzSW5MYXlvdXQgPSBbXTtcbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBpdGVtQ291bnQ7IGlpKyspIHtcbiAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGlpKTtcbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjY4LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjggd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZSB0aGlzXG4gICAgICAgKiBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIGlmIChmcmFtZS5pbkxheW91dCkge1xuICAgICAgICBmcmFtZXNJbkxheW91dC5wdXNoKGZyYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgd2luZG93VG9wID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KHRoaXMuc3RhdGUuZmlyc3QpLm9mZnNldDtcbiAgICBjb25zdCBmcmFtZUxhc3QgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3godGhpcy5zdGF0ZS5sYXN0KTtcbiAgICBjb25zdCB3aW5kb3dMZW4gPSBmcmFtZUxhc3Qub2Zmc2V0ICsgZnJhbWVMYXN0Lmxlbmd0aCAtIHdpbmRvd1RvcDtcbiAgICBjb25zdCB2aXNUb3AgPSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICBjb25zdCB2aXNMZW4gPSB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFZpZXcgc3R5bGU9e1tzdHlsZXMuZGVidWdPdmVybGF5QmFzZSwgc3R5bGVzLmRlYnVnT3ZlcmxheV19PlxuICAgICAgICB7ZnJhbWVzSW5MYXlvdXQubWFwKChmLCBpaSkgPT4gKFxuICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICBrZXk9eydmJyArIGlpfVxuICAgICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsXG4gICAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRvcDogZi5vZmZzZXQgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBmLmxlbmd0aCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF19XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLFxuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lTGFzdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9wOiB3aW5kb3dUb3AgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGhlaWdodDogd2luZG93TGVuICogbm9ybWFsaXplLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAvPlxuICAgICAgICA8Vmlld1xuICAgICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5QmFzZSxcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZVZpcyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9wOiB2aXNUb3AgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGhlaWdodDogdmlzTGVuICogbm9ybWFsaXplLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAvPlxuICAgICAgPC9WaWV3PlxuICAgICk7XG4gIH1cblxuICBfc2VsZWN0TGVuZ3RoKG1ldHJpY3M6ICRSZWFkT25seTx7aGVpZ2h0OiBudW1iZXIsIHdpZHRoOiBudW1iZXJ9Pik6IG51bWJlciB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLmhvcml6b250YWwgPyBtZXRyaWNzLmhlaWdodCA6IG1ldHJpY3Mud2lkdGg7XG4gIH1cblxuICBfc2VsZWN0T2Zmc2V0KG1ldHJpY3M6ICRSZWFkT25seTx7eDogbnVtYmVyLCB5OiBudW1iZXJ9Pik6IG51bWJlciB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLmhvcml6b250YWwgPyBtZXRyaWNzLnkgOiBtZXRyaWNzLng7XG4gIH1cblxuICBfbWF5YmVDYWxsT25FbmRSZWFjaGVkKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBvbkVuZFJlYWNoZWQsXG4gICAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge2NvbnRlbnRMZW5ndGgsIHZpc2libGVMZW5ndGgsIG9mZnNldH0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIGNvbnN0IGRpc3RhbmNlRnJvbUVuZCA9IGNvbnRlbnRMZW5ndGggLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuICAgIGlmIChcbiAgICAgIG9uRW5kUmVhY2hlZCAmJlxuICAgICAgdGhpcy5zdGF0ZS5sYXN0ID09PSBnZXRJdGVtQ291bnQoZGF0YSkgLSAxICYmXG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC42My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjYzIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgICAgICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICBkaXN0YW5jZUZyb21FbmQgPCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoICYmXG4gICAgICAodGhpcy5faGFzRGF0YUNoYW5nZWRTaW5jZUVuZFJlYWNoZWQgfHxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoICE9PSB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aClcbiAgICApIHtcbiAgICAgIC8vIE9ubHkgY2FsbCBvbkVuZFJlYWNoZWQgb25jZSBmb3IgYSBnaXZlbiBkYXRhc2V0ICsgY29udGVudCBsZW5ndGguXG4gICAgICB0aGlzLl9oYXNEYXRhQ2hhbmdlZFNpbmNlRW5kUmVhY2hlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGg7XG4gICAgICBvbkVuZFJlYWNoZWQoe2Rpc3RhbmNlRnJvbUVuZH0pO1xuICAgIH1cbiAgfVxuXG4gIF9vbkNvbnRlbnRTaXplQ2hhbmdlID0gKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKFxuICAgICAgd2lkdGggPiAwICYmXG4gICAgICBoZWlnaHQgPiAwICYmXG4gICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCAhPSBudWxsICYmXG4gICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA+IDAgJiZcbiAgICAgICF0aGlzLl9oYXNEb25lSW5pdGlhbFNjcm9sbFxuICAgICkge1xuICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KHtcbiAgICAgICAgYW5pbWF0ZWQ6IGZhbHNlLFxuICAgICAgICBpbmRleDogdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXgsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2hhc0RvbmVJbml0aWFsU2Nyb2xsID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoe2hlaWdodCwgd2lkdGh9KTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVuZFJlYWNoZWQoKTtcbiAgfTtcblxuICAvKiBUcmFuc2xhdGVzIG1ldHJpY3MgZnJvbSBhIHNjcm9sbCBldmVudCBpbiBhIHBhcmVudCBWaXJ0dWFsaXplZExpc3QgaW50b1xuICAgKiBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGUgY2hpbGQgbGlzdC5cbiAgICovXG4gIF9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyA9IChtZXRyaWNzOiB7XG4gICAgdmlzaWJsZUxlbmd0aDogbnVtYmVyLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICB9KSA9PiB7XG4gICAgLy8gT2Zmc2V0IG9mIHRoZSB0b3Agb2YgdGhlIG5lc3RlZCBsaXN0IHJlbGF0aXZlIHRvIHRoZSB0b3Agb2YgaXRzIHBhcmVudCdzIHZpZXdwb3J0XG4gICAgY29uc3Qgb2Zmc2V0ID0gbWV0cmljcy5vZmZzZXQgLSB0aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0O1xuICAgIC8vIENoaWxkJ3MgdmlzaWJsZSBsZW5ndGggaXMgdGhlIHNhbWUgYXMgaXRzIHBhcmVudCdzXG4gICAgY29uc3QgdmlzaWJsZUxlbmd0aCA9IG1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICBjb25zdCBkT2Zmc2V0ID0gb2Zmc2V0IC0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG4gICAgY29uc3QgY29udGVudExlbmd0aCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aDtcblxuICAgIHJldHVybiB7XG4gICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgICAgY29udGVudExlbmd0aCxcbiAgICAgIG9mZnNldCxcbiAgICAgIGRPZmZzZXQsXG4gICAgfTtcbiAgfTtcblxuICBfb25TY3JvbGwgPSAoZTogT2JqZWN0KSA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QucmVmICYmIGNoaWxkTGlzdC5yZWYuX29uU2Nyb2xsKGUpO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLnByb3BzLm9uU2Nyb2xsKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2Nyb2xsKGUpO1xuICAgIH1cbiAgICBjb25zdCB0aW1lc3RhbXAgPSBlLnRpbWVTdGFtcDtcbiAgICBsZXQgdmlzaWJsZUxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dE1lYXN1cmVtZW50KTtcbiAgICBsZXQgY29udGVudExlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmNvbnRlbnRTaXplKTtcbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KGUubmF0aXZlRXZlbnQuY29udGVudE9mZnNldCk7XG4gICAgbGV0IGRPZmZzZXQgPSBvZmZzZXQgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcblxuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgaWYgKHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBJZ25vcmUgc2Nyb2xsIGV2ZW50cyB1bnRpbCBvbkxheW91dCBoYXMgYmVlbiBjYWxsZWQgYW5kIHdlXG4gICAgICAgIC8vIGtub3cgb3VyIG9mZnNldCBmcm9tIG91ciBvZmZzZXQgZnJvbSBvdXIgcGFyZW50XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgICh7XG4gICAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgZE9mZnNldCxcbiAgICAgIH0gPSB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyh7XG4gICAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICAgIG9mZnNldCxcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBjb25zdCBkdCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wXG4gICAgICA/IE1hdGgubWF4KDEsIHRpbWVzdGFtcCAtIHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wKVxuICAgICAgOiAxO1xuICAgIGNvbnN0IHZlbG9jaXR5ID0gZE9mZnNldCAvIGR0O1xuXG4gICAgaWYgKFxuICAgICAgZHQgPiA1MDAgJiZcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuZHQgPiA1MDAgJiZcbiAgICAgIGNvbnRlbnRMZW5ndGggPiA1ICogdmlzaWJsZUxlbmd0aCAmJlxuICAgICAgIXRoaXMuX2hhc1dhcm5lZC5wZXJmXG4gICAgKSB7XG4gICAgICBpbmZvTG9nKFxuICAgICAgICAnVmlydHVhbGl6ZWRMaXN0OiBZb3UgaGF2ZSBhIGxhcmdlIGxpc3QgdGhhdCBpcyBzbG93IHRvIHVwZGF0ZSAtIG1ha2Ugc3VyZSB5b3VyICcgK1xuICAgICAgICAgICdyZW5kZXJJdGVtIGZ1bmN0aW9uIHJlbmRlcnMgY29tcG9uZW50cyB0aGF0IGZvbGxvdyBSZWFjdCBwZXJmb3JtYW5jZSBiZXN0IHByYWN0aWNlcyAnICtcbiAgICAgICAgICAnbGlrZSBQdXJlQ29tcG9uZW50LCBzaG91bGRDb21wb25lbnRVcGRhdGUsIGV0Yy4nLFxuICAgICAgICB7ZHQsIHByZXZEdDogdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCwgY29udGVudExlbmd0aH0sXG4gICAgICApO1xuICAgICAgdGhpcy5faGFzV2FybmVkLnBlcmYgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzID0ge1xuICAgICAgY29udGVudExlbmd0aCxcbiAgICAgIGR0LFxuICAgICAgZE9mZnNldCxcbiAgICAgIG9mZnNldCxcbiAgICAgIHRpbWVzdGFtcCxcbiAgICAgIHZlbG9jaXR5LFxuICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICB9O1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcy5kYXRhKTtcbiAgICBpZiAoIXRoaXMucHJvcHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG4gICAgaWYgKHZlbG9jaXR5ICE9PSAwKSB7XG4gICAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5hY3RpdmF0ZSgpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gIH07XG5cbiAgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpIHtcbiAgICBjb25zdCB7Zmlyc3QsIGxhc3R9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7b2Zmc2V0LCB2aXNpYmxlTGVuZ3RoLCB2ZWxvY2l0eX0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgbGV0IGhpUHJpID0gZmFsc2U7XG4gICAgY29uc3Qgc2Nyb2xsaW5nVGhyZXNob2xkID1cbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjYzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjMgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZVxuICAgICAgICogdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgICh0aGlzLnByb3BzLm9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGgpIC8gMjtcbiAgICAvLyBNYXJrIGFzIGhpZ2ggcHJpb3JpdHkgaWYgd2UncmUgY2xvc2UgdG8gdGhlIHN0YXJ0IG9mIHRoZSBmaXJzdCBpdGVtXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhlcmUgYXJlIGl0ZW1zIGJlZm9yZSB0aGUgZmlyc3QgcmVuZGVyZWQgaXRlbVxuICAgIGlmIChmaXJzdCA+IDApIHtcbiAgICAgIGNvbnN0IGRpc3RUb3AgPSBvZmZzZXQgLSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZmlyc3QpLm9mZnNldDtcbiAgICAgIGhpUHJpID1cbiAgICAgICAgaGlQcmkgfHwgZGlzdFRvcCA8IDAgfHwgKHZlbG9jaXR5IDwgLTIgJiYgZGlzdFRvcCA8IHNjcm9sbGluZ1RocmVzaG9sZCk7XG4gICAgfVxuICAgIC8vIE1hcmsgYXMgaGlnaCBwcmlvcml0eSBpZiB3ZSdyZSBjbG9zZSB0byB0aGUgZW5kIG9mIHRoZSBsYXN0IGl0ZW1cbiAgICAvLyBCdXQgb25seSBpZiB0aGVyZSBhcmUgaXRlbXMgYWZ0ZXIgdGhlIGxhc3QgcmVuZGVyZWQgaXRlbVxuICAgIGlmIChsYXN0IDwgaXRlbUNvdW50IC0gMSkge1xuICAgICAgY29uc3QgZGlzdEJvdHRvbSA9XG4gICAgICAgIHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0KS5vZmZzZXQgLSAob2Zmc2V0ICsgdmlzaWJsZUxlbmd0aCk7XG4gICAgICBoaVByaSA9XG4gICAgICAgIGhpUHJpIHx8XG4gICAgICAgIGRpc3RCb3R0b20gPCAwIHx8XG4gICAgICAgICh2ZWxvY2l0eSA+IDIgJiYgZGlzdEJvdHRvbSA8IHNjcm9sbGluZ1RocmVzaG9sZCk7XG4gICAgfVxuICAgIC8vIE9ubHkgdHJpZ2dlciBoaWdoLXByaW9yaXR5IHVwZGF0ZXMgaWYgd2UndmUgYWN0dWFsbHkgcmVuZGVyZWQgY2VsbHMsXG4gICAgLy8gYW5kIHdpdGggdGhhdCBzaXplIGVzdGltYXRlLCBhY2N1cmF0ZWx5IGNvbXB1dGUgaG93IG1hbnkgY2VsbHMgd2Ugc2hvdWxkIHJlbmRlci5cbiAgICAvLyBPdGhlcndpc2UsIGl0IHdvdWxkIGp1c3QgcmVuZGVyIGFzIG1hbnkgY2VsbHMgYXMgaXQgY2FuIChvZiB6ZXJvIGRpbWVuc2lvbiksXG4gICAgLy8gZWFjaCB0aW1lIHRocm91Z2ggYXR0ZW1wdGluZyB0byByZW5kZXIgbW9yZSAobGltaXRlZCBieSBtYXhUb1JlbmRlclBlckJhdGNoKSxcbiAgICAvLyBzdGFydmluZyB0aGUgcmVuZGVyZXIgZnJvbSBhY3R1YWxseSBsYXlpbmcgb3V0IHRoZSBvYmplY3RzIGFuZCBjb21wdXRpbmcgX2F2ZXJhZ2VDZWxsTGVuZ3RoLlxuICAgIC8vIElmIHRoaXMgaXMgdHJpZ2dlcmVkIGluIGFuIGBjb21wb25lbnREaWRVcGRhdGVgIGZvbGxvd2VkIGJ5IGEgaGlQcmkgY2VsbFRvUmVuZGVyVXBkYXRlXG4gICAgLy8gV2Ugc2hvdWxkbid0IGRvIGFub3RoZXIgaGlwcmkgY2VsbFRvUmVuZGVyVXBkYXRlXG4gICAgaWYgKFxuICAgICAgaGlQcmkgJiZcbiAgICAgICh0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCB8fCB0aGlzLnByb3BzLmdldEl0ZW1MYXlvdXQpICYmXG4gICAgICAhdGhpcy5faGlQcmlJblByb2dyZXNzXG4gICAgKSB7XG4gICAgICB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgLy8gRG9uJ3Qgd29ycnkgYWJvdXQgaW50ZXJhY3Rpb25zIHdoZW4gc2Nyb2xsaW5nIHF1aWNrbHk7IGZvY3VzIG9uIGZpbGxpbmcgY29udGVudCBhcyBmYXN0XG4gICAgICAvLyBhcyBwb3NzaWJsZS5cbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLmRpc3Bvc2Uoe2Fib3J0OiB0cnVlfSk7XG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLnNjaGVkdWxlKCk7XG4gICAgfVxuICB9XG5cbiAgX29uU2Nyb2xsQmVnaW5EcmFnID0gKGUpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5fb25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gICAgfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX2hhc0ludGVyYWN0ZWQgPSB0cnVlO1xuICAgIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgfTtcblxuICBfb25TY3JvbGxFbmREcmFnID0gKGUpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7dmVsb2NpdHl9ID0gZS5uYXRpdmVFdmVudDtcbiAgICBpZiAodmVsb2NpdHkpIHtcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmVsb2NpdHkgPSB0aGlzLl9zZWxlY3RPZmZzZXQodmVsb2NpdHkpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcoZSk7XG4gIH07XG5cbiAgX29uTW9tZW50dW1TY3JvbGxFbmQgPSAoZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmVsb2NpdHkgPSAwO1xuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQgJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICB9O1xuXG4gIF91cGRhdGVDZWxsc1RvUmVuZGVyID0gKCkgPT4ge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtQ291bnQsIG9uRW5kUmVhY2hlZFRocmVzaG9sZH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCA9IHRoaXMuX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXMoZGF0YSk7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUgPT4ge1xuICAgICAgbGV0IG5ld1N0YXRlO1xuICAgICAgaWYgKCFpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQpIHtcbiAgICAgICAgLy8gSWYgd2UgcnVuIHRoaXMgd2l0aCBib2d1cyBkYXRhLCB3ZSdsbCBmb3JjZS1yZW5kZXIgd2luZG93IHtmaXJzdDogMCwgbGFzdDogMH0sXG4gICAgICAgIC8vIGFuZCB3aXBlIG91dCB0aGUgaW5pdGlhbE51bVRvUmVuZGVyIHJlbmRlcmVkIGVsZW1lbnRzLlxuICAgICAgICAvLyBTbyBsZXQncyB3YWl0IHVudGlsIHRoZSBzY3JvbGwgdmlldyBtZXRyaWNzIGhhdmUgYmVlbiBzZXQgdXAuIEFuZCB1bnRpbCB0aGVuLFxuICAgICAgICAvLyB3ZSB3aWxsIHRydXN0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgc3VnZ2VzdGlvblxuICAgICAgICBpZiAodGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoKSB7XG4gICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIG5vbi16ZXJvIGluaXRpYWxTY3JvbGxJbmRleCBhbmQgcnVuIHRoaXMgYmVmb3JlIHdlJ3ZlIHNjcm9sbGVkLFxuICAgICAgICAgIC8vIHdlJ2xsIHdpcGUgb3V0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgcmVuZGVyZWQgZWxlbWVudHMgc3RhcnRpbmcgYXQgaW5pdGlhbFNjcm9sbEluZGV4LlxuICAgICAgICAgIC8vIFNvIGxldCdzIHdhaXQgdW50aWwgd2UndmUgc2Nyb2xsZWQgdGhlIHZpZXcgdG8gdGhlIHJpZ2h0IHBsYWNlLiBBbmQgdW50aWwgdGhlbixcbiAgICAgICAgICAvLyB3ZSB3aWxsIHRydXN0IHRoZSBpbml0aWFsU2Nyb2xsSW5kZXggc3VnZ2VzdGlvbi5cbiAgICAgICAgICBpZiAoIXRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IHx8IHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0KSB7XG4gICAgICAgICAgICBuZXdTdGF0ZSA9IGNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyhcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgIHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveCxcbiAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB7Y29udGVudExlbmd0aCwgb2Zmc2V0LCB2aXNpYmxlTGVuZ3RofSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlRnJvbUVuZCA9IGNvbnRlbnRMZW5ndGggLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuICAgICAgICBjb25zdCByZW5kZXJBaGVhZCA9XG4gICAgICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNjMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXNcbiAgICAgICAgICAgKiBhbiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjMgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yXG4gICAgICAgICAgICogZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICAgICAgZGlzdGFuY2VGcm9tRW5kIDwgb25FbmRSZWFjaGVkVGhyZXNob2xkICogdmlzaWJsZUxlbmd0aFxuICAgICAgICAgICAgPyB0aGlzLnByb3BzLm1heFRvUmVuZGVyUGVyQmF0Y2hcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgZmlyc3Q6IDAsXG4gICAgICAgICAgbGFzdDogTWF0aC5taW4oc3RhdGUubGFzdCArIHJlbmRlckFoZWFkLCBnZXRJdGVtQ291bnQoZGF0YSkgLSAxKSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChuZXdTdGF0ZSAmJiB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNpemUgPiAwKSB7XG4gICAgICAgIGNvbnN0IG5ld0ZpcnN0ID0gbmV3U3RhdGUuZmlyc3Q7XG4gICAgICAgIGNvbnN0IG5ld0xhc3QgPSBuZXdTdGF0ZS5sYXN0O1xuICAgICAgICAvLyBJZiBzb21lIGNlbGwgaW4gdGhlIG5ldyBzdGF0ZSBoYXMgYSBjaGlsZCBsaXN0IGluIGl0LCB3ZSBzaG91bGQgb25seSByZW5kZXJcbiAgICAgICAgLy8gdXAgdGhyb3VnaCB0aGF0IGl0ZW0sIHNvIHRoYXQgd2UgZ2l2ZSB0aGF0IGxpc3QgYSBjaGFuY2UgdG8gcmVuZGVyLlxuICAgICAgICAvLyBPdGhlcndpc2UgdGhlcmUncyBjaHVybiBmcm9tIG11bHRpcGxlIGNoaWxkIGxpc3RzIG1vdW50aW5nIGFuZCB1bi1tb3VudGluZ1xuICAgICAgICAvLyB0aGVpciBpdGVtcy5cbiAgICAgICAgZm9yIChsZXQgaWkgPSBuZXdGaXJzdDsgaWkgPD0gbmV3TGFzdDsgaWkrKykge1xuICAgICAgICAgIGNvbnN0IGNlbGxLZXlGb3JJbmRleCA9IHRoaXMuX2luZGljZXNUb0tleXMuZ2V0KGlpKTtcbiAgICAgICAgICBjb25zdCBjaGlsZExpc3RLZXlzID1cbiAgICAgICAgICAgIGNlbGxLZXlGb3JJbmRleCAmJlxuICAgICAgICAgICAgdGhpcy5fY2VsbEtleXNUb0NoaWxkTGlzdEtleXMuZ2V0KGNlbGxLZXlGb3JJbmRleCk7XG4gICAgICAgICAgaWYgKCFjaGlsZExpc3RLZXlzKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHNvbWVDaGlsZEhhc01vcmUgPSBmYWxzZTtcbiAgICAgICAgICAvLyBGb3IgZWFjaCBjZWxsLCBuZWVkIHRvIGNoZWNrIHdoZXRoZXIgYW55IGNoaWxkIGxpc3QgaW4gaXQgaGFzIG1vcmUgZWxlbWVudHMgdG8gcmVuZGVyXG4gICAgICAgICAgZm9yIChsZXQgY2hpbGRLZXkgb2YgY2hpbGRMaXN0S2V5cykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRMaXN0ID0gdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoY2hpbGRLZXkpO1xuICAgICAgICAgICAgaWYgKGNoaWxkTGlzdCAmJiBjaGlsZExpc3QucmVmICYmIGNoaWxkTGlzdC5yZWYuaGFzTW9yZSgpKSB7XG4gICAgICAgICAgICAgIHNvbWVDaGlsZEhhc01vcmUgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNvbWVDaGlsZEhhc01vcmUpIHtcbiAgICAgICAgICAgIG5ld1N0YXRlLmxhc3QgPSBpaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH0pO1xuICB9O1xuXG4gIF9jcmVhdGVWaWV3VG9rZW4gPSAoaW5kZXg6IG51bWJlciwgaXNWaWV3YWJsZTogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtLCBrZXlFeHRyYWN0b3J9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpbmRleCk7XG4gICAgcmV0dXJuIHtpbmRleCwgaXRlbSwga2V5OiBrZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpLCBpc1ZpZXdhYmxlfTtcbiAgfTtcblxuICBfZ2V0RnJhbWVNZXRyaWNzQXBwcm94ID0gKFxuICAgIGluZGV4OiBudW1iZXIsXG4gICk6IHtsZW5ndGg6IG51bWJlciwgb2Zmc2V0OiBudW1iZXJ9ID0+IHtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljcyhpbmRleCk7XG4gICAgaWYgKGZyYW1lICYmIGZyYW1lLmluZGV4ID09PSBpbmRleCkge1xuICAgICAgLy8gY2hlY2sgZm9yIGludmFsaWQgZnJhbWVzIGR1ZSB0byByb3cgcmUtb3JkZXJpbmdcbiAgICAgIHJldHVybiBmcmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qge2dldEl0ZW1MYXlvdXR9ID0gdGhpcy5wcm9wcztcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgIWdldEl0ZW1MYXlvdXQsXG4gICAgICAgICdTaG91bGQgbm90IGhhdmUgdG8gZXN0aW1hdGUgZnJhbWVzIHdoZW4gYSBtZWFzdXJlbWVudCBtZXRyaWNzIGZ1bmN0aW9uIGlzIHByb3ZpZGVkJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZW5ndGg6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoLFxuICAgICAgICBvZmZzZXQ6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoICogaW5kZXgsXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICBfZ2V0RnJhbWVNZXRyaWNzID0gKFxuICAgIGluZGV4OiBudW1iZXIsXG4gICk6ID97XG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBpbkxheW91dD86IGJvb2xlYW4sXG4gIH0gPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBnZXRJdGVtLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgZ2V0SXRlbUxheW91dCxcbiAgICAgIGtleUV4dHJhY3RvcixcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBpbnZhcmlhbnQoXG4gICAgICBnZXRJdGVtQ291bnQoZGF0YSkgPiBpbmRleCxcbiAgICAgICdUcmllZCB0byBnZXQgZnJhbWUgZm9yIG91dCBvZiByYW5nZSBpbmRleCAnICsgaW5kZXgsXG4gICAgKTtcbiAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpbmRleCk7XG4gICAgbGV0IGZyYW1lID0gaXRlbSAmJiB0aGlzLl9mcmFtZXNba2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KV07XG4gICAgaWYgKCFmcmFtZSB8fCBmcmFtZS5pbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgIGlmIChnZXRJdGVtTGF5b3V0KSB7XG4gICAgICAgIGZyYW1lID0gZ2V0SXRlbUxheW91dChkYXRhLCBpbmRleCk7XG4gICAgICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICAgICAgY29uc3QgZnJhbWVUeXBlID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgIGxlbmd0aDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb2Zmc2V0OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBpbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgIH0pLmlzUmVxdWlyZWQ7XG4gICAgICAgICAgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKFxuICAgICAgICAgICAge2ZyYW1lOiBmcmFtZVR5cGV9LFxuICAgICAgICAgICAge2ZyYW1lfSxcbiAgICAgICAgICAgICdmcmFtZScsXG4gICAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0LmdldEl0ZW1MYXlvdXQnLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyogJEZsb3dGaXhNZSg+PTAuNjMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjMgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZSB0aGlzXG4gICAgICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgcmV0dXJuIGZyYW1lO1xuICB9O1xuXG4gIF91cGRhdGVWaWV3YWJsZUl0ZW1zKGRhdGE6IGFueSkge1xuICAgIGNvbnN0IHtnZXRJdGVtQ291bnR9ID0gdGhpcy5wcm9wcztcblxuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIub25VcGRhdGUoXG4gICAgICAgIGdldEl0ZW1Db3VudChkYXRhKSxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQsXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzLFxuICAgICAgICB0aGlzLl9jcmVhdGVWaWV3VG9rZW4sXG4gICAgICAgIHR1cGxlLm9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICAgIHRoaXMuc3RhdGUsXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59XG5cbnR5cGUgQ2VsbFJlbmRlcmVyUHJvcHMgPSB7XG4gIENlbGxSZW5kZXJlckNvbXBvbmVudD86ID9SZWFjdC5Db21wb25lbnRUeXBlPGFueT4sXG4gIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQ6ID9SZWFjdC5Db21wb25lbnRUeXBlPCo+LFxuICBjZWxsS2V5OiBzdHJpbmcsXG4gIGZpbGxSYXRlSGVscGVyOiBGaWxsUmF0ZUhlbHBlcixcbiAgaG9yaXpvbnRhbDogP2Jvb2xlYW4sXG4gIGluZGV4OiBudW1iZXIsXG4gIGludmVyc2lvblN0eWxlOiBWaWV3U3R5bGVQcm9wLFxuICBpdGVtOiBJdGVtLFxuICBvbkxheW91dDogKGV2ZW50OiBPYmplY3QpID0+IHZvaWQsIC8vIFRoaXMgaXMgZXh0cmFjdGVkIGJ5IFNjcm9sbFZpZXdTdGlja3lIZWFkZXJcbiAgb25Vbm1vdW50OiAoY2VsbEtleTogc3RyaW5nKSA9PiB2b2lkLFxuICBvblVwZGF0ZVNlcGFyYXRvcnM6IChjZWxsS2V5czogQXJyYXk8P3N0cmluZz4sIHByb3BzOiBPYmplY3QpID0+IHZvaWQsXG4gIHBhcmVudFByb3BzOiB7XG4gICAgZ2V0SXRlbUxheW91dD86ID9GdW5jdGlvbixcbiAgICByZW5kZXJJdGVtPzogP1JlbmRlckl0ZW1UeXBlPEl0ZW0+LFxuICAgIExpc3RJdGVtQ29tcG9uZW50PzogPyhSZWFjdC5Db21wb25lbnRUeXBlPGFueT4gfCBSZWFjdC5FbGVtZW50PGFueT4pLFxuICB9LFxuICBwcmV2Q2VsbEtleTogP3N0cmluZyxcbn07XG5cbnR5cGUgQ2VsbFJlbmRlcmVyU3RhdGUgPSB7XG4gIHNlcGFyYXRvclByb3BzOiAkUmVhZE9ubHk8e3xcbiAgICBoaWdobGlnaHRlZDogYm9vbGVhbixcbiAgICBsZWFkaW5nSXRlbTogP0l0ZW0sXG4gIHx9Pixcbn07XG5cbmNsYXNzIENlbGxSZW5kZXJlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxcbiAgQ2VsbFJlbmRlcmVyUHJvcHMsXG4gIENlbGxSZW5kZXJlclN0YXRlLFxuPiB7XG4gIHN0YXRlID0ge1xuICAgIHNlcGFyYXRvclByb3BzOiB7XG4gICAgICBoaWdobGlnaHRlZDogZmFsc2UsXG4gICAgICBsZWFkaW5nSXRlbTogdGhpcy5wcm9wcy5pdGVtLFxuICAgIH0sXG4gIH07XG5cbiAgc3RhdGljIGNoaWxkQ29udGV4dFR5cGVzID0ge1xuICAgIHZpcnR1YWxpemVkQ2VsbDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGNlbGxLZXk6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgfSksXG4gIH07XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhcbiAgICBwcm9wczogQ2VsbFJlbmRlcmVyUHJvcHMsXG4gICAgcHJldlN0YXRlOiBDZWxsUmVuZGVyZXJTdGF0ZSxcbiAgKTogP0NlbGxSZW5kZXJlclN0YXRlIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2VwYXJhdG9yUHJvcHM6IHtcbiAgICAgICAgLi4ucHJldlN0YXRlLnNlcGFyYXRvclByb3BzLFxuICAgICAgICBsZWFkaW5nSXRlbTogcHJvcHMuaXRlbSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmlydHVhbGl6ZWRDZWxsOiB7XG4gICAgICAgIGNlbGxLZXk6IHRoaXMucHJvcHMuY2VsbEtleSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIC8vIFRPRE86IGNvbnNpZGVyIGZhY3RvcmluZyBzZXBhcmF0b3Igc3R1ZmYgb3V0IG9mIFZpcnR1YWxpemVkTGlzdCBpbnRvIEZsYXRMaXN0IHNpbmNlIGl0J3Mgbm90XG4gIC8vIHJldXNlZCBieSBTZWN0aW9uTGlzdCBhbmQgd2UgY2FuIGtlZXAgVmlydHVhbGl6ZWRMaXN0IHNpbXBsZXIuXG4gIF9zZXBhcmF0b3JzID0ge1xuICAgIGhpZ2hsaWdodDogKCkgPT4ge1xuICAgICAgY29uc3Qge2NlbGxLZXksIHByZXZDZWxsS2V5fSA9IHRoaXMucHJvcHM7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlU2VwYXJhdG9ycyhbY2VsbEtleSwgcHJldkNlbGxLZXldLCB7XG4gICAgICAgIGhpZ2hsaWdodGVkOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1bmhpZ2hsaWdodDogKCkgPT4ge1xuICAgICAgY29uc3Qge2NlbGxLZXksIHByZXZDZWxsS2V5fSA9IHRoaXMucHJvcHM7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlU2VwYXJhdG9ycyhbY2VsbEtleSwgcHJldkNlbGxLZXldLCB7XG4gICAgICAgIGhpZ2hsaWdodGVkOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdXBkYXRlUHJvcHM6IChzZWxlY3Q6ICdsZWFkaW5nJyB8ICd0cmFpbGluZycsIG5ld1Byb3BzOiBPYmplY3QpID0+IHtcbiAgICAgIGNvbnN0IHtjZWxsS2V5LCBwcmV2Q2VsbEtleX0gPSB0aGlzLnByb3BzO1xuICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZVNlcGFyYXRvcnMoXG4gICAgICAgIFtzZWxlY3QgPT09ICdsZWFkaW5nJyA/IHByZXZDZWxsS2V5IDogY2VsbEtleV0sXG4gICAgICAgIG5ld1Byb3BzLFxuICAgICAgKTtcbiAgICB9LFxuICB9O1xuXG4gIHVwZGF0ZVNlcGFyYXRvclByb3BzKG5ld1Byb3BzOiBPYmplY3QpIHtcbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlID0+ICh7XG4gICAgICBzZXBhcmF0b3JQcm9wczogey4uLnN0YXRlLnNlcGFyYXRvclByb3BzLCAuLi5uZXdQcm9wc30sXG4gICAgfSkpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5wcm9wcy5jZWxsS2V5KTtcbiAgfVxuXG4gIF9yZW5kZXJFbGVtZW50KHJlbmRlckl0ZW0sIExpc3RJdGVtQ29tcG9uZW50LCBpdGVtLCBpbmRleCkge1xuICAgIGlmIChyZW5kZXJJdGVtICYmIExpc3RJdGVtQ29tcG9uZW50KSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdWaXJ0dWFsaXplZExpc3Q6IEJvdGggTGlzdEl0ZW1Db21wb25lbnQgYW5kIHJlbmRlckl0ZW0gcHJvcHMgYXJlIHByZXNlbnQuIExpc3RJdGVtQ29tcG9uZW50IHdpbGwgdGFrZScgK1xuICAgICAgICAgICcgcHJlY2VkZW5jZSBvdmVyIHJlbmRlckl0ZW0uJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKExpc3RJdGVtQ29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbUNvbXBvbmVudCwge1xuICAgICAgICBpdGVtLFxuICAgICAgICBpbmRleCxcbiAgICAgICAgc2VwYXJhdG9yczogdGhpcy5fc2VwYXJhdG9ycyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZW5kZXJJdGVtKSB7XG4gICAgICByZXR1cm4gcmVuZGVySXRlbSh7XG4gICAgICAgIGl0ZW0sXG4gICAgICAgIGluZGV4LFxuICAgICAgICBzZXBhcmF0b3JzOiB0aGlzLl9zZXBhcmF0b3JzLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW52YXJpYW50KFxuICAgICAgZmFsc2UsXG4gICAgICAnVmlydHVhbGl6ZWRMaXN0OiBFaXRoZXIgTGlzdEl0ZW1Db21wb25lbnQgb3IgcmVuZGVySXRlbSBwcm9wcyBhcmUgcmVxdWlyZWQgYnV0IG5vbmUgd2VyZSBmb3VuZC4nLFxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50LFxuICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudCxcbiAgICAgIGZpbGxSYXRlSGVscGVyLFxuICAgICAgaG9yaXpvbnRhbCxcbiAgICAgIGl0ZW0sXG4gICAgICBpbmRleCxcbiAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgcGFyZW50UHJvcHMsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge3JlbmRlckl0ZW0sIGdldEl0ZW1MYXlvdXQsIExpc3RJdGVtQ29tcG9uZW50fSA9IHBhcmVudFByb3BzO1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9yZW5kZXJFbGVtZW50KFxuICAgICAgcmVuZGVySXRlbSxcbiAgICAgIExpc3RJdGVtQ29tcG9uZW50LFxuICAgICAgaXRlbSxcbiAgICAgIGluZGV4LFxuICAgICk7XG5cbiAgICBjb25zdCBvbkxheW91dCA9XG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC42OC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjY4IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgICAgICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICBnZXRJdGVtTGF5b3V0ICYmICFwYXJlbnRQcm9wcy5kZWJ1ZyAmJiAhZmlsbFJhdGVIZWxwZXIuZW5hYmxlZCgpXG4gICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgIDogdGhpcy5wcm9wcy5vbkxheW91dDtcbiAgICAvLyBOT1RFOiB0aGF0IHdoZW4gdGhpcyBpcyBhIHN0aWNreSBoZWFkZXIsIGBvbkxheW91dGAgd2lsbCBnZXQgYXV0b21hdGljYWxseSBleHRyYWN0ZWQgYW5kXG4gICAgLy8gY2FsbGVkIGV4cGxpY2l0bHkgYnkgYFNjcm9sbFZpZXdTdGlja3lIZWFkZXJgLlxuICAgIGNvbnN0IGl0ZW1TZXBhcmF0b3IgPSBJdGVtU2VwYXJhdG9yQ29tcG9uZW50ICYmIChcbiAgICAgIDxJdGVtU2VwYXJhdG9yQ29tcG9uZW50IHsuLi50aGlzLnN0YXRlLnNlcGFyYXRvclByb3BzfSAvPlxuICAgICk7XG4gICAgY29uc3QgY2VsbFN0eWxlID0gaW52ZXJzaW9uU3R5bGVcbiAgICAgID8gaG9yaXpvbnRhbFxuICAgICAgICA/IFtzdHlsZXMucm93UmV2ZXJzZSwgaW52ZXJzaW9uU3R5bGVdXG4gICAgICAgIDogW3N0eWxlcy5jb2x1bW5SZXZlcnNlLCBpbnZlcnNpb25TdHlsZV1cbiAgICAgIDogaG9yaXpvbnRhbFxuICAgICAgPyBbc3R5bGVzLnJvdywgaW52ZXJzaW9uU3R5bGVdXG4gICAgICA6IGludmVyc2lvblN0eWxlO1xuICAgIGlmICghQ2VsbFJlbmRlcmVyQ29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAvKiAkRmxvd0ZpeE1lKD49MC44OS4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuODkgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLCBkZWxldGVcbiAgICAgICAgICogdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgICAgPFZpZXcgc3R5bGU9e2NlbGxTdHlsZX0gb25MYXlvdXQ9e29uTGF5b3V0fT5cbiAgICAgICAgICB7ZWxlbWVudH1cbiAgICAgICAgICB7aXRlbVNlcGFyYXRvcn1cbiAgICAgICAgPC9WaWV3PlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxDZWxsUmVuZGVyZXJDb21wb25lbnRcbiAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIHN0eWxlPXtjZWxsU3R5bGV9XG4gICAgICAgIG9uTGF5b3V0PXtvbkxheW91dH0+XG4gICAgICAgIHtlbGVtZW50fVxuICAgICAgICB7aXRlbVNlcGFyYXRvcn1cbiAgICAgIDwvQ2VsbFJlbmRlcmVyQ29tcG9uZW50PlxuICAgICk7XG4gIH1cbn1cblxuY2xhc3MgVmlydHVhbGl6ZWRDZWxsV3JhcHBlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDx7XG4gIGNlbGxLZXk6IHN0cmluZyxcbiAgY2hpbGRyZW46IFJlYWN0Lk5vZGUsXG59PiB7XG4gIHN0YXRpYyBjaGlsZENvbnRleHRUeXBlcyA9IHtcbiAgICB2aXJ0dWFsaXplZENlbGw6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBjZWxsS2V5OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIH0pLFxuICB9O1xuXG4gIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmlydHVhbGl6ZWRDZWxsOiB7XG4gICAgICAgIGNlbGxLZXk6IHRoaXMucHJvcHMuY2VsbEtleSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgfVxufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIHZlcnRpY2FsbHlJbnZlcnRlZDoge1xuICAgIHRyYW5zZm9ybTogW3tzY2FsZVk6IC0xfV0sXG4gIH0sXG4gIGhvcml6b250YWxseUludmVydGVkOiB7XG4gICAgdHJhbnNmb3JtOiBbe3NjYWxlWDogLTF9XSxcbiAgfSxcbiAgcm93OiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gIH0sXG4gIHJvd1JldmVyc2U6IHtcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93LXJldmVyc2UnLFxuICB9LFxuICBjb2x1bW5SZXZlcnNlOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbi1yZXZlcnNlJyxcbiAgfSxcbiAgZGVidWc6IHtcbiAgICBmbGV4OiAxLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlCYXNlOiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAwLFxuICAgIHJpZ2h0OiAwLFxuICB9LFxuICBkZWJ1Z092ZXJsYXk6IHtcbiAgICBib3R0b206IDAsXG4gICAgd2lkdGg6IDIwLFxuICAgIGJvcmRlckNvbG9yOiAnYmx1ZScsXG4gICAgYm9yZGVyV2lkdGg6IDEsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheUZyYW1lOiB7XG4gICAgbGVmdDogMCxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICdvcmFuZ2UnLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZUxhc3Q6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJvcmRlckNvbG9yOiAnZ3JlZW4nLFxuICAgIGJvcmRlcldpZHRoOiAyLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZVZpczoge1xuICAgIGxlZnQ6IDAsXG4gICAgYm9yZGVyQ29sb3I6ICdyZWQnLFxuICAgIGJvcmRlcldpZHRoOiAyLFxuICB9LFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmlydHVhbGl6ZWRMaXN0O1xuIl19