3c7571bf5f909db6f56f8bb33741cc25
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.forUIKit = forUIKit;
exports.forFade = forFade;
exports.forSlideLeft = forSlideLeft;
exports.forSlideRight = forSlideRight;
exports.forSlideUp = forSlideUp;
exports.forNoAnimation = forNoAnimation;

var _reactNative = require("react-native");

var add = _reactNative.Animated.add;

function forUIKit(_ref) {
  var current = _ref.current,
      next = _ref.next,
      layouts = _ref.layouts;
  var defaultOffset = 100;
  var leftSpacing = 27;
  var leftLabelOffset = layouts.leftLabel ? (layouts.screen.width - layouts.leftLabel.width) / 2 - leftSpacing : defaultOffset;
  var titleLeftOffset = layouts.title ? (layouts.screen.width - layouts.title.width) / 2 - leftSpacing : defaultOffset;
  var rightOffset = layouts.screen.width / 4;
  var progress = add(current.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }), next ? next.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }) : 0);
  return {
    leftButtonStyle: {
      opacity: progress.interpolate({
        inputRange: [0.3, 1, 1.5],
        outputRange: [0, 1, 0]
      })
    },
    leftLabelStyle: {
      transform: [{
        translateX: progress.interpolate({
          inputRange: [0, 1, 2],
          outputRange: _reactNative.I18nManager.isRTL ? [-rightOffset, 0, leftLabelOffset] : [leftLabelOffset, 0, -rightOffset]
        })
      }]
    },
    rightButtonStyle: {
      opacity: progress.interpolate({
        inputRange: [0.3, 1, 1.5],
        outputRange: [0, 1, 0]
      })
    },
    titleStyle: {
      opacity: progress.interpolate({
        inputRange: [0, 0.4, 1, 1.5],
        outputRange: [0, 0.1, 1, 0]
      }),
      transform: [{
        translateX: progress.interpolate({
          inputRange: [0.5, 1, 2],
          outputRange: _reactNative.I18nManager.isRTL ? [-titleLeftOffset, 0, rightOffset] : [rightOffset, 0, -titleLeftOffset]
        })
      }]
    },
    backgroundStyle: {
      transform: [{
        translateX: progress.interpolate({
          inputRange: [0, 1, 2],
          outputRange: _reactNative.I18nManager.isRTL ? [-layouts.screen.width, 0, layouts.screen.width] : [layouts.screen.width, 0, -layouts.screen.width]
        })
      }]
    }
  };
}

function forFade(_ref2) {
  var current = _ref2.current,
      next = _ref2.next;
  var progress = add(current.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }), next ? next.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }) : 0);
  var opacity = progress.interpolate({
    inputRange: [0, 1, 2],
    outputRange: [0, 1, 0]
  });
  return {
    leftButtonStyle: {
      opacity: opacity
    },
    rightButtonStyle: {
      opacity: opacity
    },
    titleStyle: {
      opacity: opacity
    },
    backgroundStyle: {
      opacity: progress.interpolate({
        inputRange: [0, 1, 1.9, 2],
        outputRange: [0, 1, 1, 0]
      })
    }
  };
}

function forSlideLeft(_ref3) {
  var current = _ref3.current,
      next = _ref3.next,
      screen = _ref3.layouts.screen;
  var progress = add(current.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }), next ? next.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }) : 0);
  var translateX = progress.interpolate({
    inputRange: [0, 1, 2],
    outputRange: _reactNative.I18nManager.isRTL ? [-screen.width, 0, screen.width] : [screen.width, 0, -screen.width]
  });
  var transform = [{
    translateX: translateX
  }];
  return {
    leftButtonStyle: {
      transform: transform
    },
    rightButtonStyle: {
      transform: transform
    },
    titleStyle: {
      transform: transform
    },
    backgroundStyle: {
      transform: transform
    }
  };
}

function forSlideRight(_ref4) {
  var current = _ref4.current,
      next = _ref4.next,
      screen = _ref4.layouts.screen;
  var progress = add(current.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }), next ? next.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }) : 0);
  var translateX = progress.interpolate({
    inputRange: [0, 1, 2],
    outputRange: _reactNative.I18nManager.isRTL ? [screen.width, 0, -screen.width] : [-screen.width, 0, screen.width]
  });
  var transform = [{
    translateX: translateX
  }];
  return {
    leftButtonStyle: {
      transform: transform
    },
    rightButtonStyle: {
      transform: transform
    },
    titleStyle: {
      transform: transform
    },
    backgroundStyle: {
      transform: transform
    }
  };
}

function forSlideUp(_ref5) {
  var current = _ref5.current,
      next = _ref5.next,
      header = _ref5.layouts.header;
  var progress = add(current.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }), next ? next.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }) : 0);
  var translateY = progress.interpolate({
    inputRange: [0, 1, 2],
    outputRange: [-header.height, 0, -header.height]
  });
  var transform = [{
    translateY: translateY
  }];
  return {
    leftButtonStyle: {
      transform: transform
    },
    rightButtonStyle: {
      transform: transform
    },
    titleStyle: {
      transform: transform
    },
    backgroundStyle: {
      transform: transform
    }
  };
}

function forNoAnimation() {
  return {};
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhlYWRlclN0eWxlSW50ZXJwb2xhdG9ycy50c3giXSwibmFtZXMiOlsiYWRkIiwiQW5pbWF0ZWQiLCJsYXlvdXRzIiwiZGVmYXVsdE9mZnNldCIsImxlZnRTcGFjaW5nIiwibGVmdExhYmVsT2Zmc2V0IiwidGl0bGVMZWZ0T2Zmc2V0IiwicmlnaHRPZmZzZXQiLCJwcm9ncmVzcyIsImlucHV0UmFuZ2UiLCJvdXRwdXRSYW5nZSIsImV4dHJhcG9sYXRlIiwibmV4dCIsImxlZnRCdXR0b25TdHlsZSIsIm9wYWNpdHkiLCJsZWZ0TGFiZWxTdHlsZSIsInRyYW5zZm9ybSIsInRyYW5zbGF0ZVgiLCJJMThuTWFuYWdlciIsInJpZ2h0QnV0dG9uU3R5bGUiLCJ0aXRsZVN0eWxlIiwiYmFja2dyb3VuZFN0eWxlIiwic2NyZWVuIiwiaGVhZGVyIiwidHJhbnNsYXRlWSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsSUFBQSxZQUFBLEdBQUEsT0FBQSxDQUFBLGNBQUEsQ0FBQTs7SUFNUUEsRyxHQUFRQyxZQUFBQSxDQUFoQixRLENBQVFELEc7O0FBS0QsU0FBQSxRQUFBLENBQUEsSUFBQSxFQUl5RDtBQUFBLE1BSnZDLE9BSXVDLEdBQUEsSUFBQSxDQUp2QyxPQUl1QztBQUFBLE1BSnZDLElBSXVDLEdBQUEsSUFBQSxDQUp2QyxJQUl1QztBQUFBLE1BRDlERSxPQUM4RCxHQUFBLElBQUEsQ0FEOURBLE9BQzhEO0FBQzlELE1BQU1DLGFBQWEsR0FBbkIsR0FBQTtBQUNBLE1BQU1DLFdBQVcsR0FGNkMsRUFFOUQ7QUFPQSxNQUFNQyxlQUFlLEdBQUdILE9BQU8sQ0FBUEEsU0FBQUEsR0FDcEIsQ0FBQ0EsT0FBTyxDQUFQQSxNQUFBQSxDQUFBQSxLQUFBQSxHQUF1QkEsT0FBTyxDQUFQQSxTQUFBQSxDQUF4QixLQUFBLElBQUEsQ0FBQSxHQURvQkEsV0FBQUEsR0FBeEIsYUFBQTtBQUdBLE1BQU1JLGVBQWUsR0FBR0osT0FBTyxDQUFQQSxLQUFBQSxHQUNwQixD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Q0FBb0IsQ0FBcEI7QUFlQSxNQUFNYSxVQUFVLEdBQUcsUUFBUSxDQUFSLFdBQUEsQ0FBcUI7QUFDdENmLElBQUFBLFVBQVUsRUFBRSxDQUFBLENBQUEsRUFBQSxDQUFBLEVBRDBCLENBQzFCLENBRDBCO0FBRXRDQyxJQUFBQSxXQUFXLEVBQUUsQ0FBQyxDQUFDYSxNQUFNLENBQVIsTUFBQSxFQUFBLENBQUEsRUFBb0IsQ0FBQ0EsTUFBTSxDQUEzQixNQUFBO0FBRnlCLEdBQXJCLENBQW5CO0FBS0EsTUFBTVAsU0FBUyxHQUFHLENBQUM7QUFBRVEsSUFBQUEsVUFBQUEsRUFBQUE7QUFBRixHQUFELENBQWxCO0FBRUEsU0FBTztBQUNMWCxJQUFBQSxlQUFlLEVBQUU7QUFBRUcsTUFBQUEsU0FBQUEsRUFBQUE7QUFBRixLQURaO0FBRUxHLElBQUFBLGdCQUFnQixFQUFFO0FBQUVILE1BQUFBLFNBQUFBLEVBQUFBO0FBQUYsS0FGYjtBQUdMSSxJQUFBQSxVQUFVLEVBQUU7QUFBRUosTUFBQUEsU0FBQUEsRUFBQUE7QUFBRixLQUhQO0FBSUxLLElBQUFBLGVBQWUsRUFBRTtBQUFFTCxNQUFBQSxTQUFBQSxFQUFBQTtBQUFGO0FBSlosR0FBUDtBQU1EOztBQUVNLFNBQUEsY0FBQSxHQUF3RDtBQUM3RCxTQUFBLEVBQUE7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFuaW1hdGVkLCBJMThuTWFuYWdlciB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQge1xuICBTdGFja0hlYWRlckludGVycG9sYXRpb25Qcm9wcyxcbiAgU3RhY2tIZWFkZXJJbnRlcnBvbGF0ZWRTdHlsZSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jb25zdCB7IGFkZCB9ID0gQW5pbWF0ZWQ7XG5cbi8qKlxuICogU3RhbmRhcmQgVUlLaXQgc3R5bGUgYW5pbWF0aW9uIGZvciB0aGUgaGVhZGVyIHdoZXJlIHRoZSB0aXRsZSBmYWRlcyBpbnRvIHRoZSBiYWNrIGJ1dHRvbiBsYWJlbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvclVJS2l0KHtcbiAgY3VycmVudCxcbiAgbmV4dCxcbiAgbGF5b3V0cyxcbn06IFN0YWNrSGVhZGVySW50ZXJwb2xhdGlvblByb3BzKTogU3RhY2tIZWFkZXJJbnRlcnBvbGF0ZWRTdHlsZSB7XG4gIGNvbnN0IGRlZmF1bHRPZmZzZXQgPSAxMDA7XG4gIGNvbnN0IGxlZnRTcGFjaW5nID0gMjc7XG5cbiAgLy8gVGhlIHRpdGxlIGFuZCBiYWNrIGJ1dHRvbiB0aXRsZSBzaG91bGQgY3Jvc3MtZmFkZSB0byBlYWNoIG90aGVyXG4gIC8vIFdoZW4gc2NyZWVuIGlzIGZ1bGx5IG9wZW4sIHRoZSB0aXRsZSBzaG91bGQgYmUgaW4gY2VudGVyLCBhbmQgYmFjayB0aXRsZSBzaG91bGQgYmUgb24gbGVmdFxuICAvLyBXaGVuIHNjcmVlbiBpcyBjbG9zaW5nLCB0aGUgcHJldmlvdXMgdGl0bGUgd2lsbCBhbmltYXRlIHRvIGJhY2sgdGl0bGUncyBwb3NpdGlvblxuICAvLyBBbmQgYmFjayB0aXRsZSB3aWxsIGFuaW1hdGUgdG8gdGl0bGUncyBwb3NpdGlvblxuICAvLyBXZSBhY2hpZXZlIHRoaXMgYnkgY2FsY3VsYXRpbmcgdGhlIG9mZnNldHMgbmVlZGVkIHRvIHRyYW5zbGF0ZSB0aXRsZSB0byBiYWNrIHRpdGxlJ3MgcG9zaXRpb24gYW5kIHZpY2UtdmVyc2FcbiAgY29uc3QgbGVmdExhYmVsT2Zmc2V0ID0gbGF5b3V0cy5sZWZ0TGFiZWxcbiAgICA/IChsYXlvdXRzLnNjcmVlbi53aWR0aCAtIGxheW91dHMubGVmdExhYmVsLndpZHRoKSAvIDIgLSBsZWZ0U3BhY2luZ1xuICAgIDogZGVmYXVsdE9mZnNldDtcbiAgY29uc3QgdGl0bGVMZWZ0T2Zmc2V0ID0gbGF5b3V0cy50aXRsZVxuICAgID8gKGxheW91dHMuc2NyZWVuLndpZHRoIC0gbGF5b3V0cy50aXRsZS53aWR0aCkgLyAyIC0gbGVmdFNwYWNpbmdcbiAgICA6IGRlZmF1bHRPZmZzZXQ7XG5cbiAgLy8gV2hlbiB0aGUgY3VycmVudCB0aXRsZSBpcyBhbmltYXRpbmcgdG8gcmlnaHQsIGl0IGlzIGNlbnRlcmVkIGluIHRoZSByaWdodCBoYWxmIG9mIHNjcmVlbiBpbiBtaWRkbGUgb2YgdHJhbnNpdGlvblxuICAvLyBUaGUgYmFjayB0aXRsZSBhbHNvIGFuaW1hdGVzIGluIGZyb20gdGhpcyBwb3NpdGlvblxuICBjb25zdCByaWdodE9mZnNldCA9IGxheW91dHMuc2NyZWVuLndpZHRoIC8gNDtcblxuICBjb25zdCBwcm9ncmVzcyA9IGFkZChcbiAgICBjdXJyZW50LnByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgIG91dHB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICBleHRyYXBvbGF0ZTogJ2NsYW1wJyxcbiAgICB9KSxcbiAgICBuZXh0XG4gICAgICA/IG5leHQucHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICBvdXRwdXRSYW5nZTogWzAsIDFdLFxuICAgICAgICAgIGV4dHJhcG9sYXRlOiAnY2xhbXAnLFxuICAgICAgICB9KVxuICAgICAgOiAwXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBsZWZ0QnV0dG9uU3R5bGU6IHtcbiAgICAgIG9wYWNpdHk6IHByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgICAgaW5wdXRSYW5nZTogWzAuMywgMSwgMS41XSxcbiAgICAgICAgb3V0cHV0UmFuZ2U6IFswLCAxLCAwXSxcbiAgICAgIH0pLFxuICAgIH0sXG4gICAgbGVmdExhYmVsU3R5bGU6IHtcbiAgICAgIHRyYW5zZm9ybTogW1xuICAgICAgICB7XG4gICAgICAgICAgdHJhbnNsYXRlWDogcHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgaW5wdXRSYW5nZTogWzAsIDEsIDJdLFxuICAgICAgICAgICAgb3V0cHV0UmFuZ2U6IEkxOG5NYW5hZ2VyLmlzUlRMXG4gICAgICAgICAgICAgID8gWy1yaWdodE9mZnNldCwgMCwgbGVmdExhYmVsT2Zmc2V0XVxuICAgICAgICAgICAgICA6IFtsZWZ0TGFiZWxPZmZzZXQsIDAsIC1yaWdodE9mZnNldF0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAgcmlnaHRCdXR0b25TdHlsZToge1xuICAgICAgb3BhY2l0eTogcHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICBpbnB1dFJhbmdlOiBbMC4zLCAxLCAxLjVdLFxuICAgICAgICBvdXRwdXRSYW5nZTogWzAsIDEsIDBdLFxuICAgICAgfSksXG4gICAgfSxcbiAgICB0aXRsZVN0eWxlOiB7XG4gICAgICBvcGFjaXR5OiBwcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgICAgIGlucHV0UmFuZ2U6IFswLCAwLjQsIDEsIDEuNV0sXG4gICAgICAgIG91dHB1dFJhbmdlOiBbMCwgMC4xLCAxLCAwXSxcbiAgICAgIH0pLFxuICAgICAgdHJhbnNmb3JtOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0cmFuc2xhdGVYOiBwcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgICBpbnB1dFJhbmdlOiBbMC41LCAxLCAyXSxcbiAgICAgICAgICAgIG91dHB1dFJhbmdlOiBJMThuTWFuYWdlci5pc1JUTFxuICAgICAgICAgICAgICA/IFstdGl0bGVMZWZ0T2Zmc2V0LCAwLCByaWdodE9mZnNldF1cbiAgICAgICAgICAgICAgOiBbcmlnaHRPZmZzZXQsIDAsIC10aXRsZUxlZnRPZmZzZXRdLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICAgIGJhY2tncm91bmRTdHlsZToge1xuICAgICAgdHJhbnNmb3JtOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0cmFuc2xhdGVYOiBwcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMSwgMl0sXG4gICAgICAgICAgICBvdXRwdXRSYW5nZTogSTE4bk1hbmFnZXIuaXNSVExcbiAgICAgICAgICAgICAgPyBbLWxheW91dHMuc2NyZWVuLndpZHRoLCAwLCBsYXlvdXRzLnNjcmVlbi53aWR0aF1cbiAgICAgICAgICAgICAgOiBbbGF5b3V0cy5zY3JlZW4ud2lkdGgsIDAsIC1sYXlvdXRzLnNjcmVlbi53aWR0aF0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIH07XG59XG5cbi8qKlxuICogU2ltcGxlIGZhZGUgYW5pbWF0aW9uIGZvciB0aGUgaGVhZGVyIGVsZW1lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yRmFkZSh7XG4gIGN1cnJlbnQsXG4gIG5leHQsXG59OiBTdGFja0hlYWRlckludGVycG9sYXRpb25Qcm9wcyk6IFN0YWNrSGVhZGVySW50ZXJwb2xhdGVkU3R5bGUge1xuICBjb25zdCBwcm9ncmVzcyA9IGFkZChcbiAgICBjdXJyZW50LnByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgIG91dHB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICBleHRyYXBvbGF0ZTogJ2NsYW1wJyxcbiAgICB9KSxcbiAgICBuZXh0XG4gICAgICA/IG5leHQucHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICBvdXRwdXRSYW5nZTogWzAsIDFdLFxuICAgICAgICAgIGV4dHJhcG9sYXRlOiAnY2xhbXAnLFxuICAgICAgICB9KVxuICAgICAgOiAwXG4gICk7XG5cbiAgY29uc3Qgb3BhY2l0eSA9IHByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICBpbnB1dFJhbmdlOiBbMCwgMSwgMl0sXG4gICAgb3V0cHV0UmFuZ2U6IFswLCAxLCAwXSxcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBsZWZ0QnV0dG9uU3R5bGU6IHsgb3BhY2l0eSB9LFxuICAgIHJpZ2h0QnV0dG9uU3R5bGU6IHsgb3BhY2l0eSB9LFxuICAgIHRpdGxlU3R5bGU6IHsgb3BhY2l0eSB9LFxuICAgIGJhY2tncm91bmRTdHlsZToge1xuICAgICAgb3BhY2l0eTogcHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMSwgMS45LCAyXSxcbiAgICAgICAgb3V0cHV0UmFuZ2U6IFswLCAxLCAxLCAwXSxcbiAgICAgIH0pLFxuICAgIH0sXG4gIH07XG59XG5cbi8qKlxuICogU2ltcGxlIHRyYW5zbGF0ZSBhbmltYXRpb24gdG8gdHJhbnNsYXRlIHRoZSBoZWFkZXIgdG8gbGVmdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvclNsaWRlTGVmdCh7XG4gIGN1cnJlbnQsXG4gIG5leHQsXG4gIGxheW91dHM6IHsgc2NyZWVuIH0sXG59OiBTdGFja0hlYWRlckludGVycG9sYXRpb25Qcm9wcyk6IFN0YWNrSGVhZGVySW50ZXJwb2xhdGVkU3R5bGUge1xuICBjb25zdCBwcm9ncmVzcyA9IGFkZChcbiAgICBjdXJyZW50LnByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgIG91dHB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICBleHRyYXBvbGF0ZTogJ2NsYW1wJyxcbiAgICB9KSxcbiAgICBuZXh0XG4gICAgICA/IG5leHQucHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICBvdXRwdXRSYW5nZTogWzAsIDFdLFxuICAgICAgICAgIGV4dHJhcG9sYXRlOiAnY2xhbXAnLFxuICAgICAgICB9KVxuICAgICAgOiAwXG4gICk7XG5cbiAgY29uc3QgdHJhbnNsYXRlWCA9IHByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICBpbnB1dFJhbmdlOiBbMCwgMSwgMl0sXG4gICAgb3V0cHV0UmFuZ2U6IEkxOG5NYW5hZ2VyLmlzUlRMXG4gICAgICA/IFstc2NyZWVuLndpZHRoLCAwLCBzY3JlZW4ud2lkdGhdXG4gICAgICA6IFtzY3JlZW4ud2lkdGgsIDAsIC1zY3JlZW4ud2lkdGhdLFxuICB9KTtcblxuICBjb25zdCB0cmFuc2Zvcm0gPSBbeyB0cmFuc2xhdGVYIH1dO1xuXG4gIHJldHVybiB7XG4gICAgbGVmdEJ1dHRvblN0eWxlOiB7IHRyYW5zZm9ybSB9LFxuICAgIHJpZ2h0QnV0dG9uU3R5bGU6IHsgdHJhbnNmb3JtIH0sXG4gICAgdGl0bGVTdHlsZTogeyB0cmFuc2Zvcm0gfSxcbiAgICBiYWNrZ3JvdW5kU3R5bGU6IHsgdHJhbnNmb3JtIH0sXG4gIH07XG59XG5cbi8qKlxuICogU2ltcGxlIHRyYW5zbGF0ZSBhbmltYXRpb24gdG8gdHJhbnNsYXRlIHRoZSBoZWFkZXIgdG8gcmlnaHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JTbGlkZVJpZ2h0KHtcbiAgY3VycmVudCxcbiAgbmV4dCxcbiAgbGF5b3V0czogeyBzY3JlZW4gfSxcbn06IFN0YWNrSGVhZGVySW50ZXJwb2xhdGlvblByb3BzKTogU3RhY2tIZWFkZXJJbnRlcnBvbGF0ZWRTdHlsZSB7XG4gIGNvbnN0IHByb2dyZXNzID0gYWRkKFxuICAgIGN1cnJlbnQucHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgaW5wdXRSYW5nZTogWzAsIDFdLFxuICAgICAgb3V0cHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgIGV4dHJhcG9sYXRlOiAnY2xhbXAnLFxuICAgIH0pLFxuICAgIG5leHRcbiAgICAgID8gbmV4dC5wcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgaW5wdXRSYW5nZTogWzAsIDFdLFxuICAgICAgICAgIG91dHB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICAgICAgZXh0cmFwb2xhdGU6ICdjbGFtcCcsXG4gICAgICAgIH0pXG4gICAgICA6IDBcbiAgKTtcblxuICBjb25zdCB0cmFuc2xhdGVYID0gcHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgIGlucHV0UmFuZ2U6IFswLCAxLCAyXSxcbiAgICBvdXRwdXRSYW5nZTogSTE4bk1hbmFnZXIuaXNSVExcbiAgICAgID8gW3NjcmVlbi53aWR0aCwgMCwgLXNjcmVlbi53aWR0aF1cbiAgICAgIDogWy1zY3JlZW4ud2lkdGgsIDAsIHNjcmVlbi53aWR0aF0sXG4gIH0pO1xuXG4gIGNvbnN0IHRyYW5zZm9ybSA9IFt7IHRyYW5zbGF0ZVggfV07XG5cbiAgcmV0dXJuIHtcbiAgICBsZWZ0QnV0dG9uU3R5bGU6IHsgdHJhbnNmb3JtIH0sXG4gICAgcmlnaHRCdXR0b25TdHlsZTogeyB0cmFuc2Zvcm0gfSxcbiAgICB0aXRsZVN0eWxlOiB7IHRyYW5zZm9ybSB9LFxuICAgIGJhY2tncm91bmRTdHlsZTogeyB0cmFuc2Zvcm0gfSxcbiAgfTtcbn1cblxuLyoqXG4gKiBTaW1wbGUgdHJhbnNsYXRlIGFuaW1hdGlvbiB0byB0cmFuc2xhdGUgdGhlIGhlYWRlciB0byBzbGlkZSB1cC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvclNsaWRlVXAoe1xuICBjdXJyZW50LFxuICBuZXh0LFxuICBsYXlvdXRzOiB7IGhlYWRlciB9LFxufTogU3RhY2tIZWFkZXJJbnRlcnBvbGF0aW9uUHJvcHMpOiBTdGFja0hlYWRlckludGVycG9sYXRlZFN0eWxlIHtcbiAgY29uc3QgcHJvZ3Jlc3MgPSBhZGQoXG4gICAgY3VycmVudC5wcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICBvdXRwdXRSYW5nZTogWzAsIDFdLFxuICAgICAgZXh0cmFwb2xhdGU6ICdjbGFtcCcsXG4gICAgfSksXG4gICAgbmV4dFxuICAgICAgPyBuZXh0LnByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICAgICAgb3V0cHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICBleHRyYXBvbGF0ZTogJ2NsYW1wJyxcbiAgICAgICAgfSlcbiAgICAgIDogMFxuICApO1xuXG4gIGNvbnN0IHRyYW5zbGF0ZVkgPSBwcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgaW5wdXRSYW5nZTogWzAsIDEsIDJdLFxuICAgIG91dHB1dFJhbmdlOiBbLWhlYWRlci5oZWlnaHQsIDAsIC1oZWFkZXIuaGVpZ2h0XSxcbiAgfSk7XG5cbiAgY29uc3QgdHJhbnNmb3JtID0gW3sgdHJhbnNsYXRlWSB9XTtcblxuICByZXR1cm4ge1xuICAgIGxlZnRCdXR0b25TdHlsZTogeyB0cmFuc2Zvcm0gfSxcbiAgICByaWdodEJ1dHRvblN0eWxlOiB7IHRyYW5zZm9ybSB9LFxuICAgIHRpdGxlU3R5bGU6IHsgdHJhbnNmb3JtIH0sXG4gICAgYmFja2dyb3VuZFN0eWxlOiB7IHRyYW5zZm9ybSB9LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9yTm9BbmltYXRpb24oKTogU3RhY2tIZWFkZXJJbnRlcnBvbGF0ZWRTdHlsZSB7XG4gIHJldHVybiB7fTtcbn1cbiJdfQ==