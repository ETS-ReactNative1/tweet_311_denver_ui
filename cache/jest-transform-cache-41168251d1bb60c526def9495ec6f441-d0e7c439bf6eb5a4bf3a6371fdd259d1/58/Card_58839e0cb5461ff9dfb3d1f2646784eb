7290ca9dd6522498d3272ec6bdfcbd14
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");

var _classCallCheck2 = _interopRequireDefault2(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault2(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault2(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault2(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault2(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault2(require("@babel/runtime/helpers/inherits"));

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _reactNativeGestureHandler = require("react-native-gesture-handler");

var _color = _interopRequireDefault(require("color"));

var _GestureHandlerRefContext = _interopRequireDefault(require("../../utils/GestureHandlerRefContext"));

var _CardAnimationContext = _interopRequireDefault(require("../../utils/CardAnimationContext"));

var _getDistanceForDirection = _interopRequireDefault(require("../../utils/getDistanceForDirection"));

var _getInvertedMultiplier = _interopRequireDefault(require("../../utils/getInvertedMultiplier"));

var _memoize = _interopRequireDefault(require("../../utils/memoize"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }

  return keys;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

var GESTURE_VELOCITY_IMPACT = 0.3;
var TRUE = 1;
var FALSE = 0;
var GESTURE_RESPONSE_DISTANCE_HORIZONTAL = 50;
var GESTURE_RESPONSE_DISTANCE_VERTICAL = 135;
var useNativeDriver = _reactNative.Platform.OS !== 'web';

var Card = function (_React$Component) {
  (0, _inherits2.default)(Card, _React$Component);

  function Card() {
    var _this;

    (0, _classCallCheck2.default)(this, Card);
    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Card).apply(this, arguments));

    _defineProperty((0, _assertThisInitialized2.default)(_this), "isClosing", new _reactNative.Animated.Value(FALSE));

    _defineProperty((0, _assertThisInitialized2.default)(_this), "inverted", new _reactNative.Animated.Value((0, _getInvertedMultiplier.default)(_this.props.gestureDirection)));

    _defineProperty((0, _assertThisInitialized2.default)(_this), "layout", {
      width: new _reactNative.Animated.Value(_this.props.layout.width),
      height: new _reactNative.Animated.Value(_this.props.layout.height)
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "isSwiping", new _reactNative.Animated.Value(FALSE));

    _defineProperty((0, _assertThisInitialized2.default)(_this), "interactionHandle", void 0);

    _defineProperty((0, _assertThisInitialized2.default)(_this), "pendingGestureCallback", void 0);

    _defineProperty((0, _assertThisInitialized2.default)(_this), "animate", function (_ref) {
      var closing = _ref.closing,
          velocity = _ref.velocity;
      var _this$props2 = _this.props,
          gesture = _this$props2.gesture,
          transitionSpec = _this$props2.transitionSpec,
          onOpen = _this$props2.onOpen,
          onClose = _this$props2.onClose,
          onTransitionStart = _this$props2.onTransitionStart;

      var toValue = _this.getAnimateToValue(_objectSpread({}, _this.props, {
        closing: closing
      }));

      var spec = closing ? transitionSpec.close : transitionSpec.open;
      var animation = spec.animation === 'spring' ? _reactNative.Animated.spring : _reactNative.Animated.timing;

      _this.setPointerEventsEnabled(!closing);

      _this.handleStartInteraction();

      clearTimeout(_this.pendingGestureCallback);
      onTransitionStart === null || onTransitionStart === void 0 ? void 0 : onTransitionStart({
        closing: closing
      });
      animation(gesture, _objectSpread({}, spec.config, {
        velocity: velocity,
        toValue: toValue,
        useNativeDriver: useNativeDriver,
        isInteraction: false
      })).start(function (_ref2) {
        var finished = _ref2.finished;

        _this.handleEndInteraction();

        clearTimeout(_this.pendingGestureCallback);

        if (finished) {
          if (closing) {
            onClose();
          } else {
            onOpen();
          }
        }
      });
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "getAnimateToValue", function (_ref3) {
      var closing = _ref3.closing,
          layout = _ref3.layout,
          gestureDirection = _ref3.gestureDirection;

      if (!closing) {
        return 0;
      }

      return (0, _getDistanceForDirection.default)(layout, gestureDirection);
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "setPointerEventsEnabled", function (enabled) {
      var _this$contentRef$curr;

      var pointerEvents = enabled ? 'box-none' : 'none';
      (_this$contentRef$curr = _this.contentRef.current) === null || _this$contentRef$curr === void 0 ? void 0 : _this$contentRef$curr.setNativeProps({
        pointerEvents: pointerEvents
      });
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "handleStartInteraction", function () {
      if (_this.interactionHandle === undefined) {
        _this.interactionHandle = _reactNative.InteractionManager.createInteractionHandle();
      }
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "handleEndInteraction", function () {
      if (_this.interactionHandle !== undefined) {
        _reactNative.InteractionManager.clearInteractionHandle(_this.interactionHandle);

        _this.interactionHandle = undefined;
      }
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "handleGestureStateChange", function (_ref4) {
      var nativeEvent = _ref4.nativeEvent;
      var _this$props3 = _this.props,
          layout = _this$props3.layout,
          onClose = _this$props3.onClose,
          onGestureBegin = _this$props3.onGestureBegin,
          onGestureCanceled = _this$props3.onGestureCanceled,
          onGestureEnd = _this$props3.onGestureEnd,
          gestureDirection = _this$props3.gestureDirection,
          gestureVelocityImpact = _this$props3.gestureVelocityImpact;

      switch (nativeEvent.state) {
        case _reactNativeGestureHandler.State.BEGAN:
          _this.isSwiping.setValue(TRUE);

          _this.handleStartInteraction();

          onGestureBegin === null || onGestureBegin === void 0 ? void 0 : onGestureBegin();
          break;

        case _reactNativeGestureHandler.State.CANCELLED:
          _this.isSwiping.setValue(FALSE);

          _this.handleEndInteraction();

          onGestureCanceled === null || onGestureCanceled === void 0 ? void 0 : onGestureCanceled();
          break;

        case _reactNativeGestureHandler.State.END:
          {
            _this.isSwiping.setValue(FALSE);

            var distance;
            var translation;
            var velocity;

            if (gestureDirection === 'vertical' || gestureDirection === 'vertical-inverted') {
              distance = layout.height;
              translation = nativeEvent.translationY;
              velocity = nativeEvent.velocityY;
            } else {
              distance = layout.width;
              translation = nativeEvent.translationX;
              velocity = nativeEvent.velocityX;
            }

            var closing = Math.abs(translation + velocity * gestureVelocityImpact) > distance / 2 ? velocity !== 0 || translation !== 0 : false;

            _this.animate({
              closing: closing,
              velocity: velocity
            });

            if (closing) {
              _this.pendingGestureCallback = setTimeout(onClose, 32);
            }

            onGestureEnd === null || onGestureEnd === void 0 ? void 0 : onGestureEnd();
            break;
          }
      }
    });

    _defineProperty((0, _assertThisInitialized2.default)(_this), "getInterpolatedStyle", (0, _memoize.default)(function (styleInterpolator, index, current, next, layout, insetTop, insetRight, insetBottom, insetLeft) {
      return styleInterpolator({
        index: index,
        current: {
          progress: current
        },
        next: next && {
          progress: next
        },
        closing: _this.isClosing,
        swiping: _this.isSwiping,
        inverted: _this.inverted,
        layouts: {
          screen: layout
        },
        insets: {
          top: insetTop,
          right: insetRight,
          bottom: insetBottom,
          left: insetLeft
        }
      });
    }));

    _defineProperty((0, _assertThisInitialized2.default)(_this), "getCardAnimationContext", (0, _memoize.default)(function (index, current, next, layout, insetTop, insetRight, insetBottom, insetLeft) {
      return {
        index: index,
        current: {
          progress: current
        },
        next: next && {
          progress: next
        },
        closing: _this.isClosing,
        swiping: _this.isSwiping,
        inverted: _this.inverted,
        layouts: {
          screen: layout
        },
        insets: {
          top: insetTop,
          right: insetRight,
          bottom: insetBottom,
          left: insetLeft
        }
      };
    }));

    _defineProperty((0, _assertThisInitialized2.default)(_this), "gestureRef", React.createRef());

    _defineProperty((0, _assertThisInitialized2.default)(_this), "contentRef", React.createRef());

    return _this;
  }

  (0, _createClass2.default)(Card, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.animate({
        closing: this.props.closing
      });
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props4 = this.props,
          layout = _this$props4.layout,
          gestureDirection = _this$props4.gestureDirection,
          closing = _this$props4.closing;
      var width = layout.width,
          height = layout.height;

      if (width !== prevProps.layout.width) {
        this.layout.width.setValue(width);
      }

      if (height !== prevProps.layout.height) {
        this.layout.height.setValue(height);
      }

      if (gestureDirection !== prevProps.gestureDirection) {
        this.inverted.setValue((0, _getInvertedMultiplier.default)(gestureDirection));
      }

      if (this.getAnimateToValue(this.props) !== this.getAnimateToValue(prevProps)) {
        this.animate({
          closing: closing
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.handleEndInteraction();
    }
  }, {
    key: "gestureActivationCriteria",
    value: function gestureActivationCriteria() {
      var _this$props5 = this.props,
          layout = _this$props5.layout,
          gestureDirection = _this$props5.gestureDirection,
          gestureResponseDistance = _this$props5.gestureResponseDistance;
      var distance = gestureDirection === 'vertical' || gestureDirection === 'vertical-inverted' ? (gestureResponseDistance === null || gestureResponseDistance === void 0 ? void 0 : gestureResponseDistance.vertical) !== undefined ? gestureResponseDistance.vertical : GESTURE_RESPONSE_DISTANCE_VERTICAL : (gestureResponseDistance === null || gestureResponseDistance === void 0 ? void 0 : gestureResponseDistance.horizontal) !== undefined ? gestureResponseDistance.horizontal : GESTURE_RESPONSE_DISTANCE_HORIZONTAL;

      if (gestureDirection === 'vertical') {
        return {
          maxDeltaX: 15,
          minOffsetY: 5,
          hitSlop: {
            bottom: -layout.height + distance
          }
        };
      } else if (gestureDirection === 'vertical-inverted') {
        return {
          maxDeltaX: 15,
          minOffsetY: -5,
          hitSlop: {
            top: -layout.height + distance
          }
        };
      } else {
        var hitSlop = -layout.width + distance;
        var invertedMultiplier = (0, _getInvertedMultiplier.default)(gestureDirection);

        if (invertedMultiplier === 1) {
          return {
            minOffsetX: 5,
            maxDeltaY: 20,
            hitSlop: {
              right: hitSlop
            }
          };
        } else {
          return {
            minOffsetX: -5,
            maxDeltaY: 20,
            hitSlop: {
              left: hitSlop
            }
          };
        }
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          styleInterpolator = _this$props.styleInterpolator,
          index = _this$props.index,
          current = _this$props.current,
          gesture = _this$props.gesture,
          next = _this$props.next,
          layout = _this$props.layout,
          insets = _this$props.insets,
          overlayEnabled = _this$props.overlayEnabled,
          shadowEnabled = _this$props.shadowEnabled,
          gestureEnabled = _this$props.gestureEnabled,
          gestureDirection = _this$props.gestureDirection,
          children = _this$props.children,
          customContainerStyle = _this$props.containerStyle,
          contentStyle = _this$props.contentStyle,
          rest = _objectWithoutProperties(_this$props, ["styleInterpolator", "index", "current", "gesture", "next", "layout", "insets", "overlayEnabled", "shadowEnabled", "gestureEnabled", "gestureDirection", "children", "containerStyle", "contentStyle"]);

      var interpolatedStyle = this.getInterpolatedStyle(styleInterpolator, index, current, next, layout, insets.top, insets.right, insets.bottom, insets.left);
      var animationContext = this.getCardAnimationContext(index, current, next, layout, insets.top, insets.right, insets.bottom, insets.left);
      var containerStyle = interpolatedStyle.containerStyle,
          cardStyle = interpolatedStyle.cardStyle,
          overlayStyle = interpolatedStyle.overlayStyle,
          shadowStyle = interpolatedStyle.shadowStyle;
      var handleGestureEvent = gestureEnabled ? _reactNative.Animated.event([{
        nativeEvent: gestureDirection === 'vertical' || gestureDirection === 'vertical-inverted' ? {
          translationY: gesture
        } : {
          translationX: gesture
        }
      }], {
        useNativeDriver: useNativeDriver
      }) : undefined;

      var _reactNative$StyleShe = _reactNative.StyleSheet.flatten(contentStyle || {}),
          backgroundColor = _reactNative$StyleShe.backgroundColor;

      var isTransparent = backgroundColor ? (0, _color.default)(backgroundColor).alpha() === 0 : false;
      return React.createElement(_reactNative.View, _extends({
        pointerEvents: "box-none"
      }, rest), overlayEnabled && overlayStyle ? React.createElement(_reactNative.Animated.View, {
        pointerEvents: "none",
        style: [styles.overlay, overlayStyle]
      }) : null, React.createElement(_reactNative.Animated.View, {
        style: [styles.container, containerStyle, customContainerStyle],
        pointerEvents: "box-none"
      }, React.createElement(_reactNativeGestureHandler.PanGestureHandler, _extends({
        ref: this.gestureRef,
        enabled: layout.width !== 0 && gestureEnabled,
        onGestureEvent: handleGestureEvent,
        onHandlerStateChange: this.handleGestureStateChange
      }, this.gestureActivationCriteria()), React.createElement(_reactNative.Animated.View, {
        style: [styles.container, cardStyle]
      }, shadowEnabled && shadowStyle && !isTransparent ? React.createElement(_reactNative.Animated.View, {
        style: [styles.shadow, gestureDirection === 'horizontal' ? [styles.shadowHorizontal, styles.shadowLeft] : gestureDirection === 'horizontal-inverted' ? [styles.shadowHorizontal, styles.shadowRight] : gestureDirection === 'vertical' ? [styles.shadowVertical, styles.shadowTop] : [styles.shadowVertical, styles.shadowBottom], shadowStyle],
        pointerEvents: "none"
      }) : null, React.createElement(_reactNative.View, {
        ref: this.contentRef,
        style: [styles.content, contentStyle]
      }, React.createElement(_GestureHandlerRefContext.default.Provider, {
        value: this.gestureRef
      }, React.createElement(_CardAnimationContext.default.Provider, {
        value: animationContext
      }, children)))))));
    }
  }]);
  return Card;
}(React.Component);

exports.default = Card;

_defineProperty(Card, "defaultProps", {
  overlayEnabled: _reactNative.Platform.OS !== 'ios',
  shadowEnabled: true,
  gestureEnabled: true,
  gestureVelocityImpact: GESTURE_VELOCITY_IMPACT
});

var styles = _reactNative.StyleSheet.create({
  container: {
    flex: 1
  },
  content: {
    flex: 1,
    overflow: 'hidden'
  },
  overlay: _objectSpread({}, _reactNative.StyleSheet.absoluteFillObject, {
    backgroundColor: '#000'
  }),
  shadow: {
    position: 'absolute',
    backgroundColor: '#fff',
    shadowRadius: 5,
    shadowColor: '#000',
    shadowOpacity: 0.3
  },
  shadowHorizontal: {
    top: 0,
    bottom: 0,
    width: 3,
    shadowOffset: {
      width: -1,
      height: 1
    }
  },
  shadowLeft: {
    left: 0
  },
  shadowRight: {
    right: 0
  },
  shadowVertical: {
    left: 0,
    right: 0,
    height: 3,
    shadowOffset: {
      width: 1,
      height: -1
    }
  },
  shadowTop: {
    top: 0
  },
  shadowBottom: {
    bottom: 0
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNhcmQudHN4Il0sIm5hbWVzIjpbIkdFU1RVUkVfVkVMT0NJVFlfSU1QQUNUIiwiVFJVRSIsIkZBTFNFIiwiR0VTVFVSRV9SRVNQT05TRV9ESVNUQU5DRV9IT1JJWk9OVEFMIiwiR0VTVFVSRV9SRVNQT05TRV9ESVNUQU5DRV9WRVJUSUNBTCIsInVzZU5hdGl2ZURyaXZlciIsIlBsYXRmb3JtIiwiQ2FyZCIsIlJlYWN0Iiwib3ZlcmxheUVuYWJsZWQiLCJzaGFkb3dFbmFibGVkIiwiZ2VzdHVyZUVuYWJsZWQiLCJnZXN0dXJlVmVsb2NpdHlJbXBhY3QiLCJjbG9zaW5nIiwiaGVpZ2h0Iiwid2lkdGgiLCJwcmV2UHJvcHMiLCJnZXN0dXJlRGlyZWN0aW9uIiwiQW5pbWF0ZWQiLCJ2ZWxvY2l0eSIsIm9uVHJhbnNpdGlvblN0YXJ0IiwidG9WYWx1ZSIsInNwZWMiLCJ0cmFuc2l0aW9uU3BlYyIsImFuaW1hdGlvbiIsImNsZWFyVGltZW91dCIsImlzSW50ZXJhY3Rpb24iLCJmaW5pc2hlZCIsIm9uQ2xvc2UiLCJvbk9wZW4iLCJlbmFibGVkIiwicG9pbnRlckV2ZW50cyIsIkludGVyYWN0aW9uTWFuYWdlciIsIm5hdGl2ZUV2ZW50IiwiR2VzdHVyZVN0YXRlIiwib25HZXN0dXJlQmVnaW4iLCJvbkdlc3R1cmVDYW5jZWxlZCIsImRpc3RhbmNlIiwibGF5b3V0IiwidHJhbnNsYXRpb24iLCJNYXRoIiwic2V0VGltZW91dCIsIm9uR2VzdHVyZUVuZCIsInN0eWxlSW50ZXJwb2xhdG9yIiwiaW5kZXgiLCJjdXJyZW50IiwicHJvZ3Jlc3MiLCJuZXh0Iiwic3dpcGluZyIsImludmVydGVkIiwibGF5b3V0cyIsInNjcmVlbiIsImluc2V0cyIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsImluc2V0TGVmdCIsImdlc3R1cmVSZXNwb25zZURpc3RhbmNlIiwibWF4RGVsdGFYIiwibWluT2Zmc2V0WSIsImhpdFNsb3AiLCJpbnZlcnRlZE11bHRpcGxpZXIiLCJtaW5PZmZzZXRYIiwibWF4RGVsdGFZIiwiY29udGFpbmVyU3R5bGUiLCJjb250ZW50U3R5bGUiLCJpbnRlcnBvbGF0ZWRTdHlsZSIsImFuaW1hdGlvbkNvbnRleHQiLCJzaGFkb3dTdHlsZSIsImhhbmRsZUdlc3R1cmVFdmVudCIsInRyYW5zbGF0aW9uWSIsImdlc3R1cmUiLCJ0cmFuc2xhdGlvblgiLCJiYWNrZ3JvdW5kQ29sb3IiLCJTdHlsZVNoZWV0IiwiaXNUcmFuc3BhcmVudCIsInN0eWxlcyIsImhhbmRsZUdlc3R1cmVTdGF0ZUNoYW5nZSIsImdlc3R1cmVSZWYiLCJjb250YWluZXIiLCJmbGV4IiwiY29udGVudCIsIm92ZXJmbG93Iiwib3ZlcmxheSIsInNoYWRvdyIsInBvc2l0aW9uIiwic2hhZG93UmFkaXVzIiwic2hhZG93Q29sb3IiLCJzaGFkb3dPcGFjaXR5Iiwic2hhZG93SG9yaXpvbnRhbCIsInNoYWRvd09mZnNldCIsInNoYWRvd0xlZnQiLCJzaGFkb3dSaWdodCIsInNoYWRvd1ZlcnRpY2FsIiwic2hhZG93VG9wIiwic2hhZG93Qm90dG9tIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFBLEtBQUEsR0FBQSx1QkFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLFlBQUEsR0FBQSxPQUFBLENBQUEsY0FBQSxDQUFBOztBQVVBLElBQUEsMEJBQUEsR0FBQSxPQUFBLENBQUEsOEJBQUEsQ0FBQTs7QUFNQSxJQUFBLE1BQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLHlCQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLHdDQUFBLENBQUE7O0FBQ0EsSUFBQSxxQkFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSxvQ0FBQSxDQUFBOztBQUNBLElBQUEsd0JBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsdUNBQUEsQ0FBQTs7QUFDQSxJQUFBLHNCQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFB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QUFBLE1BQU0sRUFBRTtBQUNOQyxJQUFBQSxRQUFRLEVBREYsVUFBQTtBQUVOWixJQUFBQSxlQUFlLEVBRlQsTUFBQTtBQUdOYSxJQUFBQSxZQUFZLEVBSE4sQ0FBQTtBQUlOQyxJQUFBQSxXQUFXLEVBSkwsTUFBQTtBQUtOQyxJQUFBQSxhQUFhLEVBQUU7QUFMVCxHQVp1QjtBQW1CL0JDLEVBQUFBLGdCQUFnQixFQUFFO0FBQ2hCckMsSUFBQUEsR0FBRyxFQURhLENBQUE7QUFFaEJFLElBQUFBLE1BQU0sRUFGVSxDQUFBO0FBR2hCeEMsSUFBQUEsS0FBSyxFQUhXLENBQUE7QUFJaEI0RSxJQUFBQSxZQUFZLEVBQUU7QUFBRTVFLE1BQUFBLEtBQUssRUFBRSxDQUFULENBQUE7QUFBYUQsTUFBQUEsTUFBTSxFQUFFO0FBQXJCO0FBSkUsR0FuQmE7QUF5Qi9COEUsRUFBQUEsVUFBVSxFQUFFO0FBQ1ZwQyxJQUFBQSxJQUFJLEVBQUU7QUFESSxHQXpCbUI7QUE0Qi9CcUMsRUFBQUEsV0FBVyxFQUFFO0FBQ1h2QyxJQUFBQSxLQUFLLEVBQUU7QUFESSxHQTVCa0I7QUErQi9Cd0MsRUFBQUEsY0FBYyxFQUFFO0FBQ2R0QyxJQUFBQSxJQUFJLEVBRFUsQ0FBQTtBQUVkRixJQUFBQSxLQUFLLEVBRlMsQ0FBQTtBQUdkeEMsSUFBQUEsTUFBTSxFQUhRLENBQUE7QUFJZDZFLElBQUFBLFlBQVksRUFBRTtBQUFFNUUsTUFBQUEsS0FBSyxFQUFQLENBQUE7QUFBWUQsTUFBQUEsTUFBTSxFQUFFLENBQUM7QUFBckI7QUFKQSxHQS9CZTtBQXFDL0JpRixFQUFBQSxTQUFTLEVBQUU7QUFDVDFDLElBQUFBLEdBQUcsRUFBRTtBQURJLEdBckNvQjtBQXdDL0IyQyxFQUFBQSxZQUFZLEVBQUU7QUFDWnpDLElBQUFBLE1BQU0sRUFBRTtBQURJO0FBeENpQixDQUFsQixDQUFmIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgQW5pbWF0ZWQsXG4gIFZpZXcsXG4gIFN0eWxlU2hlZXQsXG4gIFZpZXdQcm9wcyxcbiAgU3R5bGVQcm9wLFxuICBWaWV3U3R5bGUsXG4gIFBsYXRmb3JtLFxuICBJbnRlcmFjdGlvbk1hbmFnZXIsXG59IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQge1xuICBQYW5HZXN0dXJlSGFuZGxlcixcbiAgU3RhdGUgYXMgR2VzdHVyZVN0YXRlLFxuICBQYW5HZXN0dXJlSGFuZGxlckdlc3R1cmVFdmVudCxcbn0gZnJvbSAncmVhY3QtbmF0aXZlLWdlc3R1cmUtaGFuZGxlcic7XG5pbXBvcnQgeyBFZGdlSW5zZXRzIH0gZnJvbSAncmVhY3QtbmF0aXZlLXNhZmUtYXJlYS1jb250ZXh0JztcbmltcG9ydCBDb2xvciBmcm9tICdjb2xvcic7XG5pbXBvcnQgU3RhY2tHZXN0dXJlUmVmQ29udGV4dCBmcm9tICcuLi8uLi91dGlscy9HZXN0dXJlSGFuZGxlclJlZkNvbnRleHQnO1xuaW1wb3J0IENhcmRBbmltYXRpb25Db250ZXh0IGZyb20gJy4uLy4uL3V0aWxzL0NhcmRBbmltYXRpb25Db250ZXh0JztcbmltcG9ydCBnZXREaXN0YW5jZUZvckRpcmVjdGlvbiBmcm9tICcuLi8uLi91dGlscy9nZXREaXN0YW5jZUZvckRpcmVjdGlvbic7XG5pbXBvcnQgZ2V0SW52ZXJ0ZWRNdWx0aXBsaWVyIGZyb20gJy4uLy4uL3V0aWxzL2dldEludmVydGVkTXVsdGlwbGllcic7XG5pbXBvcnQgbWVtb2l6ZSBmcm9tICcuLi8uLi91dGlscy9tZW1vaXplJztcbmltcG9ydCB7XG4gIFRyYW5zaXRpb25TcGVjLFxuICBTdGFja0NhcmRTdHlsZUludGVycG9sYXRvcixcbiAgR2VzdHVyZURpcmVjdGlvbixcbiAgTGF5b3V0LFxufSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbnR5cGUgUHJvcHMgPSBWaWV3UHJvcHMgJiB7XG4gIGluZGV4OiBudW1iZXI7XG4gIGNsb3Npbmc6IGJvb2xlYW47XG4gIG5leHQ/OiBBbmltYXRlZC5BbmltYXRlZEludGVycG9sYXRpb247XG4gIGN1cnJlbnQ6IEFuaW1hdGVkLkFuaW1hdGVkSW50ZXJwb2xhdGlvbjtcbiAgZ2VzdHVyZTogQW5pbWF0ZWQuVmFsdWU7XG4gIGxheW91dDogTGF5b3V0O1xuICBpbnNldHM6IEVkZ2VJbnNldHM7XG4gIGdlc3R1cmVEaXJlY3Rpb246IEdlc3R1cmVEaXJlY3Rpb247XG4gIG9uT3BlbjogKCkgPT4gdm9pZDtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgb25UcmFuc2l0aW9uU3RhcnQ/OiAocHJvcHM6IHsgY2xvc2luZzogYm9vbGVhbiB9KSA9PiB2b2lkO1xuICBvbkdlc3R1cmVCZWdpbj86ICgpID0+IHZvaWQ7XG4gIG9uR2VzdHVyZUNhbmNlbGVkPzogKCkgPT4gdm9pZDtcbiAgb25HZXN0dXJlRW5kPzogKCkgPT4gdm9pZDtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgb3ZlcmxheUVuYWJsZWQ6IGJvb2xlYW47XG4gIHNoYWRvd0VuYWJsZWQ6IGJvb2xlYW47XG4gIGdlc3R1cmVFbmFibGVkOiBib29sZWFuO1xuICBnZXN0dXJlUmVzcG9uc2VEaXN0YW5jZT86IHtcbiAgICB2ZXJ0aWNhbD86IG51bWJlcjtcbiAgICBob3Jpem9udGFsPzogbnVtYmVyO1xuICB9O1xuICBnZXN0dXJlVmVsb2NpdHlJbXBhY3Q6IG51bWJlcjtcbiAgdHJhbnNpdGlvblNwZWM6IHtcbiAgICBvcGVuOiBUcmFuc2l0aW9uU3BlYztcbiAgICBjbG9zZTogVHJhbnNpdGlvblNwZWM7XG4gIH07XG4gIHN0eWxlSW50ZXJwb2xhdG9yOiBTdGFja0NhcmRTdHlsZUludGVycG9sYXRvcjtcbiAgY29udGFpbmVyU3R5bGU/OiBTdHlsZVByb3A8Vmlld1N0eWxlPjtcbiAgY29udGVudFN0eWxlPzogU3R5bGVQcm9wPFZpZXdTdHlsZT47XG59O1xuXG5jb25zdCBHRVNUVVJFX1ZFTE9DSVRZX0lNUEFDVCA9IDAuMztcblxuY29uc3QgVFJVRSA9IDE7XG5jb25zdCBGQUxTRSA9IDA7XG5cbi8qKlxuICogVGhlIGRpc3RhbmNlIG9mIHRvdWNoIHN0YXJ0IGZyb20gdGhlIGVkZ2Ugb2YgdGhlIHNjcmVlbiB3aGVyZSB0aGUgZ2VzdHVyZSB3aWxsIGJlIHJlY29nbml6ZWRcbiAqL1xuY29uc3QgR0VTVFVSRV9SRVNQT05TRV9ESVNUQU5DRV9IT1JJWk9OVEFMID0gNTA7XG5jb25zdCBHRVNUVVJFX1JFU1BPTlNFX0RJU1RBTkNFX1ZFUlRJQ0FMID0gMTM1O1xuXG5jb25zdCB1c2VOYXRpdmVEcml2ZXIgPSBQbGF0Zm9ybS5PUyAhPT0gJ3dlYic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHM+IHtcbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBvdmVybGF5RW5hYmxlZDogUGxhdGZvcm0uT1MgIT09ICdpb3MnLFxuICAgIHNoYWRvd0VuYWJsZWQ6IHRydWUsXG4gICAgZ2VzdHVyZUVuYWJsZWQ6IHRydWUsXG4gICAgZ2VzdHVyZVZlbG9jaXR5SW1wYWN0OiBHRVNUVVJFX1ZFTE9DSVRZX0lNUEFDVCxcbiAgfTtcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmFuaW1hdGUoeyBjbG9zaW5nOiB0aGlzLnByb3BzLmNsb3NpbmcgfSk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBQcm9wcykge1xuICAgIGNvbnN0IHsgbGF5b3V0LCBnZXN0dXJlRGlyZWN0aW9uLCBjbG9zaW5nIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gbGF5b3V0O1xuXG4gICAgaWYgKHdpZHRoICE9PSBwcmV2UHJvcHMubGF5b3V0LndpZHRoKSB7XG4gICAgICB0aGlzLmxheW91dC53aWR0aC5zZXRWYWx1ZSh3aWR0aCk7XG4gICAgfVxuXG4gICAgaWYgKGhlaWdodCAhPT0gcHJldlByb3BzLmxheW91dC5oZWlnaHQpIHtcbiAgICAgIHRoaXMubGF5b3V0LmhlaWdodC5zZXRWYWx1ZShoZWlnaHQpO1xuICAgIH1cblxuICAgIGlmIChnZXN0dXJlRGlyZWN0aW9uICE9PSBwcmV2UHJvcHMuZ2VzdHVyZURpcmVjdGlvbikge1xuICAgICAgdGhpcy5pbnZlcnRlZC5zZXRWYWx1ZShnZXRJbnZlcnRlZE11bHRpcGxpZXIoZ2VzdHVyZURpcmVjdGlvbikpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMuZ2V0QW5pbWF0ZVRvVmFsdWUodGhpcy5wcm9wcykgIT09IHRoaXMuZ2V0QW5pbWF0ZVRvVmFsdWUocHJldlByb3BzKVxuICAgICkge1xuICAgICAgLy8gV2UgbmVlZCB0byB0cmlnZ2VyIHRoZSBhbmltYXRpb24gd2hlbiByb3V0ZSB3YXMgY2xvc2VkXG4gICAgICAvLyBUaHIgcm91dGUgbWlnaHQgaGF2ZSBiZWVuIGNsb3NlZCBieSBhIGBQT1BgIGFjdGlvbiBvciBieSBhIGdlc3R1cmVcbiAgICAgIC8vIFdoZW4gcm91dGUgd2FzIGNsb3NlZCBkdWUgdG8gYSBnZXN0dXJlLCB0aGUgYW5pbWF0aW9uIHdvdWxkJ3ZlIGhhcHBlbmVkIGFscmVhZHlcbiAgICAgIC8vIEl0J3Mgc3RpbGwgaW1wb3J0YW50IHRvIHRyaWdnZXIgdGhlIGFuaW1hdGlvbiBzbyB0aGF0IGBvbkNsb3NlYCBpcyBjYWxsZWRcbiAgICAgIC8vIElmIGBvbkNsb3NlYCBpcyBub3QgY2FsbGVkLCBjbGVhbnVwIHN0ZXAgd29uJ3QgYmUgcGVyZm9ybWVkIGZvciBnZXN0dXJlc1xuICAgICAgdGhpcy5hbmltYXRlKHsgY2xvc2luZyB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLmhhbmRsZUVuZEludGVyYWN0aW9uKCk7XG4gIH1cblxuICBwcml2YXRlIGlzQ2xvc2luZyA9IG5ldyBBbmltYXRlZC5WYWx1ZShGQUxTRSk7XG5cbiAgcHJpdmF0ZSBpbnZlcnRlZCA9IG5ldyBBbmltYXRlZC5WYWx1ZShcbiAgICBnZXRJbnZlcnRlZE11bHRpcGxpZXIodGhpcy5wcm9wcy5nZXN0dXJlRGlyZWN0aW9uKVxuICApO1xuXG4gIHByaXZhdGUgbGF5b3V0ID0ge1xuICAgIHdpZHRoOiBuZXcgQW5pbWF0ZWQuVmFsdWUodGhpcy5wcm9wcy5sYXlvdXQud2lkdGgpLFxuICAgIGhlaWdodDogbmV3IEFuaW1hdGVkLlZhbHVlKHRoaXMucHJvcHMubGF5b3V0LmhlaWdodCksXG4gIH07XG5cbiAgcHJpdmF0ZSBpc1N3aXBpbmcgPSBuZXcgQW5pbWF0ZWQuVmFsdWUoRkFMU0UpO1xuXG4gIHByaXZhdGUgaW50ZXJhY3Rpb25IYW5kbGU6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIHBlbmRpbmdHZXN0dXJlQ2FsbGJhY2s6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIGFuaW1hdGUgPSAoe1xuICAgIGNsb3NpbmcsXG4gICAgdmVsb2NpdHksXG4gIH06IHtcbiAgICBjbG9zaW5nOiBib29sZWFuO1xuICAgIHZlbG9jaXR5PzogbnVtYmVyO1xuICB9KSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgZ2VzdHVyZSxcbiAgICAgIHRyYW5zaXRpb25TcGVjLFxuICAgICAgb25PcGVuLFxuICAgICAgb25DbG9zZSxcbiAgICAgIG9uVHJhbnNpdGlvblN0YXJ0LFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgdG9WYWx1ZSA9IHRoaXMuZ2V0QW5pbWF0ZVRvVmFsdWUoe1xuICAgICAgLi4udGhpcy5wcm9wcyxcbiAgICAgIGNsb3NpbmcsXG4gICAgfSk7XG5cbiAgICBjb25zdCBzcGVjID0gY2xvc2luZyA/IHRyYW5zaXRpb25TcGVjLmNsb3NlIDogdHJhbnNpdGlvblNwZWMub3BlbjtcblxuICAgIGNvbnN0IGFuaW1hdGlvbiA9XG4gICAgICBzcGVjLmFuaW1hdGlvbiA9PT0gJ3NwcmluZycgPyBBbmltYXRlZC5zcHJpbmcgOiBBbmltYXRlZC50aW1pbmc7XG5cbiAgICB0aGlzLnNldFBvaW50ZXJFdmVudHNFbmFibGVkKCFjbG9zaW5nKTtcbiAgICB0aGlzLmhhbmRsZVN0YXJ0SW50ZXJhY3Rpb24oKTtcblxuICAgIGNsZWFyVGltZW91dCh0aGlzLnBlbmRpbmdHZXN0dXJlQ2FsbGJhY2spO1xuXG4gICAgb25UcmFuc2l0aW9uU3RhcnQ/Lih7IGNsb3NpbmcgfSk7XG4gICAgYW5pbWF0aW9uKGdlc3R1cmUsIHtcbiAgICAgIC4uLnNwZWMuY29uZmlnLFxuICAgICAgdmVsb2NpdHksXG4gICAgICB0b1ZhbHVlLFxuICAgICAgdXNlTmF0aXZlRHJpdmVyLFxuICAgICAgaXNJbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgfSkuc3RhcnQoKHsgZmluaXNoZWQgfSkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVFbmRJbnRlcmFjdGlvbigpO1xuXG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5wZW5kaW5nR2VzdHVyZUNhbGxiYWNrKTtcblxuICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgIGlmIChjbG9zaW5nKSB7XG4gICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uT3BlbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBnZXRBbmltYXRlVG9WYWx1ZSA9ICh7XG4gICAgY2xvc2luZyxcbiAgICBsYXlvdXQsXG4gICAgZ2VzdHVyZURpcmVjdGlvbixcbiAgfToge1xuICAgIGNsb3Npbmc/OiBib29sZWFuO1xuICAgIGxheW91dDogTGF5b3V0O1xuICAgIGdlc3R1cmVEaXJlY3Rpb246IEdlc3R1cmVEaXJlY3Rpb247XG4gIH0pID0+IHtcbiAgICBpZiAoIWNsb3NpbmcpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHJldHVybiBnZXREaXN0YW5jZUZvckRpcmVjdGlvbihsYXlvdXQsIGdlc3R1cmVEaXJlY3Rpb24pO1xuICB9O1xuXG4gIHByaXZhdGUgc2V0UG9pbnRlckV2ZW50c0VuYWJsZWQgPSAoZW5hYmxlZDogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IHBvaW50ZXJFdmVudHMgPSBlbmFibGVkID8gJ2JveC1ub25lJyA6ICdub25lJztcblxuICAgIHRoaXMuY29udGVudFJlZi5jdXJyZW50Py5zZXROYXRpdmVQcm9wcyh7IHBvaW50ZXJFdmVudHMgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBoYW5kbGVTdGFydEludGVyYWN0aW9uID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmludGVyYWN0aW9uSGFuZGxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaW50ZXJhY3Rpb25IYW5kbGUgPSBJbnRlcmFjdGlvbk1hbmFnZXIuY3JlYXRlSW50ZXJhY3Rpb25IYW5kbGUoKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBoYW5kbGVFbmRJbnRlcmFjdGlvbiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5pbnRlcmFjdGlvbkhhbmRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBJbnRlcmFjdGlvbk1hbmFnZXIuY2xlYXJJbnRlcmFjdGlvbkhhbmRsZSh0aGlzLmludGVyYWN0aW9uSGFuZGxlKTtcbiAgICAgIHRoaXMuaW50ZXJhY3Rpb25IYW5kbGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgaGFuZGxlR2VzdHVyZVN0YXRlQ2hhbmdlID0gKHtcbiAgICBuYXRpdmVFdmVudCxcbiAgfTogUGFuR2VzdHVyZUhhbmRsZXJHZXN0dXJlRXZlbnQpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBsYXlvdXQsXG4gICAgICBvbkNsb3NlLFxuICAgICAgb25HZXN0dXJlQmVnaW4sXG4gICAgICBvbkdlc3R1cmVDYW5jZWxlZCxcbiAgICAgIG9uR2VzdHVyZUVuZCxcbiAgICAgIGdlc3R1cmVEaXJlY3Rpb24sXG4gICAgICBnZXN0dXJlVmVsb2NpdHlJbXBhY3QsXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBzd2l0Y2ggKG5hdGl2ZUV2ZW50LnN0YXRlKSB7XG4gICAgICBjYXNlIEdlc3R1cmVTdGF0ZS5CRUdBTjpcbiAgICAgICAgdGhpcy5pc1N3aXBpbmcuc2V0VmFsdWUoVFJVRSk7XG4gICAgICAgIHRoaXMuaGFuZGxlU3RhcnRJbnRlcmFjdGlvbigpO1xuICAgICAgICBvbkdlc3R1cmVCZWdpbj8uKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHZXN0dXJlU3RhdGUuQ0FOQ0VMTEVEOlxuICAgICAgICB0aGlzLmlzU3dpcGluZy5zZXRWYWx1ZShGQUxTRSk7XG4gICAgICAgIHRoaXMuaGFuZGxlRW5kSW50ZXJhY3Rpb24oKTtcbiAgICAgICAgb25HZXN0dXJlQ2FuY2VsZWQ/LigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgR2VzdHVyZVN0YXRlLkVORDoge1xuICAgICAgICB0aGlzLmlzU3dpcGluZy5zZXRWYWx1ZShGQUxTRSk7XG5cbiAgICAgICAgbGV0IGRpc3RhbmNlO1xuICAgICAgICBsZXQgdHJhbnNsYXRpb247XG4gICAgICAgIGxldCB2ZWxvY2l0eTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgZ2VzdHVyZURpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJyB8fFxuICAgICAgICAgIGdlc3R1cmVEaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbC1pbnZlcnRlZCdcbiAgICAgICAgKSB7XG4gICAgICAgICAgZGlzdGFuY2UgPSBsYXlvdXQuaGVpZ2h0O1xuICAgICAgICAgIHRyYW5zbGF0aW9uID0gbmF0aXZlRXZlbnQudHJhbnNsYXRpb25ZO1xuICAgICAgICAgIHZlbG9jaXR5ID0gbmF0aXZlRXZlbnQudmVsb2NpdHlZO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpc3RhbmNlID0gbGF5b3V0LndpZHRoO1xuICAgICAgICAgIHRyYW5zbGF0aW9uID0gbmF0aXZlRXZlbnQudHJhbnNsYXRpb25YO1xuICAgICAgICAgIHZlbG9jaXR5ID0gbmF0aXZlRXZlbnQudmVsb2NpdHlYO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2xvc2luZyA9XG4gICAgICAgICAgTWF0aC5hYnModHJhbnNsYXRpb24gKyB2ZWxvY2l0eSAqIGdlc3R1cmVWZWxvY2l0eUltcGFjdCkgPlxuICAgICAgICAgIGRpc3RhbmNlIC8gMlxuICAgICAgICAgICAgPyB2ZWxvY2l0eSAhPT0gMCB8fCB0cmFuc2xhdGlvbiAhPT0gMFxuICAgICAgICAgICAgOiBmYWxzZTtcblxuICAgICAgICB0aGlzLmFuaW1hdGUoeyBjbG9zaW5nLCB2ZWxvY2l0eSB9KTtcblxuICAgICAgICBpZiAoY2xvc2luZykge1xuICAgICAgICAgIC8vIFdlIGNhbGwgb25DbG9zZSB3aXRoIGEgZGVsYXkgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGFuaW1hdGlvbiBoYXMgYWxyZWFkeSBzdGFydGVkXG4gICAgICAgICAgLy8gVGhpcyB3aWxsIG1ha2Ugc3VyZSB0aGF0IHRoZSBzdGF0ZSB1cGRhdGUgY2F1c2VkIGJ5IHRoaXMgZG9lc24ndCBhZmZlY3Qgc3RhcnQgb2YgYW5pbWF0aW9uXG4gICAgICAgICAgdGhpcy5wZW5kaW5nR2VzdHVyZUNhbGxiYWNrID0gKHNldFRpbWVvdXQoXG4gICAgICAgICAgICBvbkNsb3NlLFxuICAgICAgICAgICAgMzJcbiAgICAgICAgICApIGFzIGFueSkgYXMgbnVtYmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgb25HZXN0dXJlRW5kPy4oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIE1lbW9pemUgdGhpcyB0byBhdm9pZCBleHRyYSB3b3JrIG9uIHJlLXJlbmRlclxuICBwcml2YXRlIGdldEludGVycG9sYXRlZFN0eWxlID0gbWVtb2l6ZShcbiAgICAoXG4gICAgICBzdHlsZUludGVycG9sYXRvcjogU3RhY2tDYXJkU3R5bGVJbnRlcnBvbGF0b3IsXG4gICAgICBpbmRleDogbnVtYmVyLFxuICAgICAgY3VycmVudDogQW5pbWF0ZWQuQW5pbWF0ZWRJbnRlcnBvbGF0aW9uLFxuICAgICAgbmV4dDogQW5pbWF0ZWQuQW5pbWF0ZWRJbnRlcnBvbGF0aW9uIHwgdW5kZWZpbmVkLFxuICAgICAgbGF5b3V0OiBMYXlvdXQsXG4gICAgICBpbnNldFRvcDogbnVtYmVyLFxuICAgICAgaW5zZXRSaWdodDogbnVtYmVyLFxuICAgICAgaW5zZXRCb3R0b206IG51bWJlcixcbiAgICAgIGluc2V0TGVmdDogbnVtYmVyXG4gICAgKSA9PlxuICAgICAgc3R5bGVJbnRlcnBvbGF0b3Ioe1xuICAgICAgICBpbmRleCxcbiAgICAgICAgY3VycmVudDogeyBwcm9ncmVzczogY3VycmVudCB9LFxuICAgICAgICBuZXh0OiBuZXh0ICYmIHsgcHJvZ3Jlc3M6IG5leHQgfSxcbiAgICAgICAgY2xvc2luZzogdGhpcy5pc0Nsb3NpbmcsXG4gICAgICAgIHN3aXBpbmc6IHRoaXMuaXNTd2lwaW5nLFxuICAgICAgICBpbnZlcnRlZDogdGhpcy5pbnZlcnRlZCxcbiAgICAgICAgbGF5b3V0czoge1xuICAgICAgICAgIHNjcmVlbjogbGF5b3V0LFxuICAgICAgICB9LFxuICAgICAgICBpbnNldHM6IHtcbiAgICAgICAgICB0b3A6IGluc2V0VG9wLFxuICAgICAgICAgIHJpZ2h0OiBpbnNldFJpZ2h0LFxuICAgICAgICAgIGJvdHRvbTogaW5zZXRCb3R0b20sXG4gICAgICAgICAgbGVmdDogaW5zZXRMZWZ0LFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgKTtcblxuICAvLyBLZWVwIHRyYWNrIG9mIHRoZSBhbmltYXRpb24gY29udGV4dCB3aGVuIGRlcHMgY2hhbmdlcy5cbiAgcHJpdmF0ZSBnZXRDYXJkQW5pbWF0aW9uQ29udGV4dCA9IG1lbW9pemUoXG4gICAgKFxuICAgICAgaW5kZXg6IG51bWJlcixcbiAgICAgIGN1cnJlbnQ6IEFuaW1hdGVkLkFuaW1hdGVkSW50ZXJwb2xhdGlvbixcbiAgICAgIG5leHQ6IEFuaW1hdGVkLkFuaW1hdGVkSW50ZXJwb2xhdGlvbiB8IHVuZGVmaW5lZCxcbiAgICAgIGxheW91dDogTGF5b3V0LFxuICAgICAgaW5zZXRUb3A6IG51bWJlcixcbiAgICAgIGluc2V0UmlnaHQ6IG51bWJlcixcbiAgICAgIGluc2V0Qm90dG9tOiBudW1iZXIsXG4gICAgICBpbnNldExlZnQ6IG51bWJlclxuICAgICkgPT4gKHtcbiAgICAgIGluZGV4LFxuICAgICAgY3VycmVudDogeyBwcm9ncmVzczogY3VycmVudCB9LFxuICAgICAgbmV4dDogbmV4dCAmJiB7IHByb2dyZXNzOiBuZXh0IH0sXG4gICAgICBjbG9zaW5nOiB0aGlzLmlzQ2xvc2luZyxcbiAgICAgIHN3aXBpbmc6IHRoaXMuaXNTd2lwaW5nLFxuICAgICAgaW52ZXJ0ZWQ6IHRoaXMuaW52ZXJ0ZWQsXG4gICAgICBsYXlvdXRzOiB7XG4gICAgICAgIHNjcmVlbjogbGF5b3V0LFxuICAgICAgfSxcbiAgICAgIGluc2V0czoge1xuICAgICAgICB0b3A6IGluc2V0VG9wLFxuICAgICAgICByaWdodDogaW5zZXRSaWdodCxcbiAgICAgICAgYm90dG9tOiBpbnNldEJvdHRvbSxcbiAgICAgICAgbGVmdDogaW5zZXRMZWZ0LFxuICAgICAgfSxcbiAgICB9KVxuICApO1xuXG4gIHByaXZhdGUgZ2VzdHVyZUFjdGl2YXRpb25Dcml0ZXJpYSgpIHtcbiAgICBjb25zdCB7IGxheW91dCwgZ2VzdHVyZURpcmVjdGlvbiwgZ2VzdHVyZVJlc3BvbnNlRGlzdGFuY2UgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBkaXN0YW5jZSA9XG4gICAgICBnZXN0dXJlRGlyZWN0aW9uID09PSAndmVydGljYWwnIHx8XG4gICAgICBnZXN0dXJlRGlyZWN0aW9uID09PSAndmVydGljYWwtaW52ZXJ0ZWQnXG4gICAgICAgID8gZ2VzdHVyZVJlc3BvbnNlRGlzdGFuY2U/LnZlcnRpY2FsICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IGdlc3R1cmVSZXNwb25zZURpc3RhbmNlLnZlcnRpY2FsXG4gICAgICAgICAgOiBHRVNUVVJFX1JFU1BPTlNFX0RJU1RBTkNFX1ZFUlRJQ0FMXG4gICAgICAgIDogZ2VzdHVyZVJlc3BvbnNlRGlzdGFuY2U/Lmhvcml6b250YWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IGdlc3R1cmVSZXNwb25zZURpc3RhbmNlLmhvcml6b250YWxcbiAgICAgICAgOiBHRVNUVVJFX1JFU1BPTlNFX0RJU1RBTkNFX0hPUklaT05UQUw7XG5cbiAgICBpZiAoZ2VzdHVyZURpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWF4RGVsdGFYOiAxNSxcbiAgICAgICAgbWluT2Zmc2V0WTogNSxcbiAgICAgICAgaGl0U2xvcDogeyBib3R0b206IC1sYXlvdXQuaGVpZ2h0ICsgZGlzdGFuY2UgfSxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChnZXN0dXJlRGlyZWN0aW9uID09PSAndmVydGljYWwtaW52ZXJ0ZWQnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXhEZWx0YVg6IDE1LFxuICAgICAgICBtaW5PZmZzZXRZOiAtNSxcbiAgICAgICAgaGl0U2xvcDogeyB0b3A6IC1sYXlvdXQuaGVpZ2h0ICsgZGlzdGFuY2UgfSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGhpdFNsb3AgPSAtbGF5b3V0LndpZHRoICsgZGlzdGFuY2U7XG4gICAgICBjb25zdCBpbnZlcnRlZE11bHRpcGxpZXIgPSBnZXRJbnZlcnRlZE11bHRpcGxpZXIoZ2VzdHVyZURpcmVjdGlvbik7XG5cbiAgICAgIGlmIChpbnZlcnRlZE11bHRpcGxpZXIgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtaW5PZmZzZXRYOiA1LFxuICAgICAgICAgIG1heERlbHRhWTogMjAsXG4gICAgICAgICAgaGl0U2xvcDogeyByaWdodDogaGl0U2xvcCB9LFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtaW5PZmZzZXRYOiAtNSxcbiAgICAgICAgICBtYXhEZWx0YVk6IDIwLFxuICAgICAgICAgIGhpdFNsb3A6IHsgbGVmdDogaGl0U2xvcCB9LFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2VzdHVyZVJlZiA9IFJlYWN0LmNyZWF0ZVJlZjxQYW5HZXN0dXJlSGFuZGxlcj4oKTtcblxuICBwcml2YXRlIGNvbnRlbnRSZWYgPSBSZWFjdC5jcmVhdGVSZWY8Vmlldz4oKTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgc3R5bGVJbnRlcnBvbGF0b3IsXG4gICAgICBpbmRleCxcbiAgICAgIGN1cnJlbnQsXG4gICAgICBnZXN0dXJlLFxuICAgICAgbmV4dCxcbiAgICAgIGxheW91dCxcbiAgICAgIGluc2V0cyxcbiAgICAgIG92ZXJsYXlFbmFibGVkLFxuICAgICAgc2hhZG93RW5hYmxlZCxcbiAgICAgIGdlc3R1cmVFbmFibGVkLFxuICAgICAgZ2VzdHVyZURpcmVjdGlvbixcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgY29udGFpbmVyU3R5bGU6IGN1c3RvbUNvbnRhaW5lclN0eWxlLFxuICAgICAgY29udGVudFN0eWxlLFxuICAgICAgLi4ucmVzdFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgaW50ZXJwb2xhdGVkU3R5bGUgPSB0aGlzLmdldEludGVycG9sYXRlZFN0eWxlKFxuICAgICAgc3R5bGVJbnRlcnBvbGF0b3IsXG4gICAgICBpbmRleCxcbiAgICAgIGN1cnJlbnQsXG4gICAgICBuZXh0LFxuICAgICAgbGF5b3V0LFxuICAgICAgaW5zZXRzLnRvcCxcbiAgICAgIGluc2V0cy5yaWdodCxcbiAgICAgIGluc2V0cy5ib3R0b20sXG4gICAgICBpbnNldHMubGVmdFxuICAgICk7XG5cbiAgICBjb25zdCBhbmltYXRpb25Db250ZXh0ID0gdGhpcy5nZXRDYXJkQW5pbWF0aW9uQ29udGV4dChcbiAgICAgIGluZGV4LFxuICAgICAgY3VycmVudCxcbiAgICAgIG5leHQsXG4gICAgICBsYXlvdXQsXG4gICAgICBpbnNldHMudG9wLFxuICAgICAgaW5zZXRzLnJpZ2h0LFxuICAgICAgaW5zZXRzLmJvdHRvbSxcbiAgICAgIGluc2V0cy5sZWZ0XG4gICAgKTtcblxuICAgIGNvbnN0IHtcbiAgICAgIGNvbnRhaW5lclN0eWxlLFxuICAgICAgY2FyZFN0eWxlLFxuICAgICAgb3ZlcmxheVN0eWxlLFxuICAgICAgc2hhZG93U3R5bGUsXG4gICAgfSA9IGludGVycG9sYXRlZFN0eWxlO1xuXG4gICAgY29uc3QgaGFuZGxlR2VzdHVyZUV2ZW50ID0gZ2VzdHVyZUVuYWJsZWRcbiAgICAgID8gQW5pbWF0ZWQuZXZlbnQoXG4gICAgICAgICAgW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBuYXRpdmVFdmVudDpcbiAgICAgICAgICAgICAgICBnZXN0dXJlRGlyZWN0aW9uID09PSAndmVydGljYWwnIHx8XG4gICAgICAgICAgICAgICAgZ2VzdHVyZURpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsLWludmVydGVkJ1xuICAgICAgICAgICAgICAgICAgPyB7IHRyYW5zbGF0aW9uWTogZ2VzdHVyZSB9XG4gICAgICAgICAgICAgICAgICA6IHsgdHJhbnNsYXRpb25YOiBnZXN0dXJlIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgeyB1c2VOYXRpdmVEcml2ZXIgfVxuICAgICAgICApXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IHsgYmFja2dyb3VuZENvbG9yIH0gPSBTdHlsZVNoZWV0LmZsYXR0ZW4oY29udGVudFN0eWxlIHx8IHt9KTtcbiAgICBjb25zdCBpc1RyYW5zcGFyZW50ID0gYmFja2dyb3VuZENvbG9yXG4gICAgICA/IENvbG9yKGJhY2tncm91bmRDb2xvcikuYWxwaGEoKSA9PT0gMFxuICAgICAgOiBmYWxzZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8VmlldyBwb2ludGVyRXZlbnRzPVwiYm94LW5vbmVcIiB7Li4ucmVzdH0+XG4gICAgICAgIHtvdmVybGF5RW5hYmxlZCAmJiBvdmVybGF5U3R5bGUgPyAoXG4gICAgICAgICAgPEFuaW1hdGVkLlZpZXdcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudHM9XCJub25lXCJcbiAgICAgICAgICAgIHN0eWxlPXtbc3R5bGVzLm92ZXJsYXksIG92ZXJsYXlTdHlsZV19XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIDxBbmltYXRlZC5WaWV3XG4gICAgICAgICAgc3R5bGU9e1tzdHlsZXMuY29udGFpbmVyLCBjb250YWluZXJTdHlsZSwgY3VzdG9tQ29udGFpbmVyU3R5bGVdfVxuICAgICAgICAgIHBvaW50ZXJFdmVudHM9XCJib3gtbm9uZVwiXG4gICAgICAgID5cbiAgICAgICAgICA8UGFuR2VzdHVyZUhhbmRsZXJcbiAgICAgICAgICAgIHJlZj17dGhpcy5nZXN0dXJlUmVmfVxuICAgICAgICAgICAgZW5hYmxlZD17bGF5b3V0LndpZHRoICE9PSAwICYmIGdlc3R1cmVFbmFibGVkfVxuICAgICAgICAgICAgb25HZXN0dXJlRXZlbnQ9e2hhbmRsZUdlc3R1cmVFdmVudH1cbiAgICAgICAgICAgIG9uSGFuZGxlclN0YXRlQ2hhbmdlPXt0aGlzLmhhbmRsZUdlc3R1cmVTdGF0ZUNoYW5nZX1cbiAgICAgICAgICAgIHsuLi50aGlzLmdlc3R1cmVBY3RpdmF0aW9uQ3JpdGVyaWEoKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8QW5pbWF0ZWQuVmlldyBzdHlsZT17W3N0eWxlcy5jb250YWluZXIsIGNhcmRTdHlsZV19PlxuICAgICAgICAgICAgICB7c2hhZG93RW5hYmxlZCAmJiBzaGFkb3dTdHlsZSAmJiAhaXNUcmFuc3BhcmVudCA/IChcbiAgICAgICAgICAgICAgICA8QW5pbWF0ZWQuVmlld1xuICAgICAgICAgICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzLnNoYWRvdyxcbiAgICAgICAgICAgICAgICAgICAgZ2VzdHVyZURpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnXG4gICAgICAgICAgICAgICAgICAgICAgPyBbc3R5bGVzLnNoYWRvd0hvcml6b250YWwsIHN0eWxlcy5zaGFkb3dMZWZ0XVxuICAgICAgICAgICAgICAgICAgICAgIDogZ2VzdHVyZURpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwtaW52ZXJ0ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgPyBbc3R5bGVzLnNoYWRvd0hvcml6b250YWwsIHN0eWxlcy5zaGFkb3dSaWdodF1cbiAgICAgICAgICAgICAgICAgICAgICA6IGdlc3R1cmVEaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCdcbiAgICAgICAgICAgICAgICAgICAgICA/IFtzdHlsZXMuc2hhZG93VmVydGljYWwsIHN0eWxlcy5zaGFkb3dUb3BdXG4gICAgICAgICAgICAgICAgICAgICAgOiBbc3R5bGVzLnNoYWRvd1ZlcnRpY2FsLCBzdHlsZXMuc2hhZG93Qm90dG9tXSxcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93U3R5bGUsXG4gICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgcG9pbnRlckV2ZW50cz1cIm5vbmVcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgICAgIHJlZj17dGhpcy5jb250ZW50UmVmfVxuICAgICAgICAgICAgICAgIHN0eWxlPXtbc3R5bGVzLmNvbnRlbnQsIGNvbnRlbnRTdHlsZV19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8U3RhY2tHZXN0dXJlUmVmQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dGhpcy5nZXN0dXJlUmVmfT5cbiAgICAgICAgICAgICAgICAgIDxDYXJkQW5pbWF0aW9uQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17YW5pbWF0aW9uQ29udGV4dH0+XG4gICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICAgIDwvQ2FyZEFuaW1hdGlvbkNvbnRleHQuUHJvdmlkZXI+XG4gICAgICAgICAgICAgICAgPC9TdGFja0dlc3R1cmVSZWZDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgICAgICA8L0FuaW1hdGVkLlZpZXc+XG4gICAgICAgICAgPC9QYW5HZXN0dXJlSGFuZGxlcj5cbiAgICAgICAgPC9BbmltYXRlZC5WaWV3PlxuICAgICAgPC9WaWV3PlxuICAgICk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBjb250YWluZXI6IHtcbiAgICBmbGV4OiAxLFxuICB9LFxuICBjb250ZW50OiB7XG4gICAgZmxleDogMSxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gIH0sXG4gIG92ZXJsYXk6IHtcbiAgICAuLi5TdHlsZVNoZWV0LmFic29sdXRlRmlsbE9iamVjdCxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwJyxcbiAgfSxcbiAgc2hhZG93OiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZicsXG4gICAgc2hhZG93UmFkaXVzOiA1LFxuICAgIHNoYWRvd0NvbG9yOiAnIzAwMCcsXG4gICAgc2hhZG93T3BhY2l0eTogMC4zLFxuICB9LFxuICBzaGFkb3dIb3Jpem9udGFsOiB7XG4gICAgdG9wOiAwLFxuICAgIGJvdHRvbTogMCxcbiAgICB3aWR0aDogMyxcbiAgICBzaGFkb3dPZmZzZXQ6IHsgd2lkdGg6IC0xLCBoZWlnaHQ6IDEgfSxcbiAgfSxcbiAgc2hhZG93TGVmdDoge1xuICAgIGxlZnQ6IDAsXG4gIH0sXG4gIHNoYWRvd1JpZ2h0OiB7XG4gICAgcmlnaHQ6IDAsXG4gIH0sXG4gIHNoYWRvd1ZlcnRpY2FsOiB7XG4gICAgbGVmdDogMCxcbiAgICByaWdodDogMCxcbiAgICBoZWlnaHQ6IDMsXG4gICAgc2hhZG93T2Zmc2V0OiB7IHdpZHRoOiAxLCBoZWlnaHQ6IC0xIH0sXG4gIH0sXG4gIHNoYWRvd1RvcDoge1xuICAgIHRvcDogMCxcbiAgfSxcbiAgc2hhZG93Qm90dG9tOiB7XG4gICAgYm90dG9tOiAwLFxuICB9LFxufSk7XG4iXX0=