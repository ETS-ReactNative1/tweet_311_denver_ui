b288dccbaf2cb3c630679ab7838735e9
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf3 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _react = _interopRequireDefault(require("react"));

var _reactNative = require("react-native");

var _ReactNativeVersion = require("react-native/Libraries/Core/ReactNativeVersion");

var ENABLE_SCREENS = false;

var getViewManagerConfigCompat = function getViewManagerConfigCompat(name) {
  return typeof _reactNative.UIManager.getViewManagerConfig !== 'undefined' ? _reactNative.UIManager.getViewManagerConfig(name) : _reactNative.UIManager[name];
};

function enableScreens() {
  var shouldEnableScreens = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
  ENABLE_SCREENS = shouldEnableScreens;

  if (ENABLE_SCREENS && !getViewManagerConfigCompat('RNSScreen')) {
    console.error("Screen native module hasn't been linked. Please check the react-native-screens README for more details");
  }
}

function useScreens() {
  var shouldUseScreens = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
  console.warn('Method `useScreens` is deprecated, please use `enableScreens`');
  enableScreens(shouldUseScreens);
}

function screensEnabled() {
  return ENABLE_SCREENS;
}

var NativeScreenValue;
var NativeScreenContainerValue;
var NativeScreenStack;
var NativeScreenStackHeaderConfig;
var NativeScreenStackHeaderSubview;
var AnimatedNativeScreen;
var ScreensNativeModules = {
  get NativeScreen() {
    NativeScreenValue = NativeScreenValue || (0, _reactNative.requireNativeComponent)('RNSScreen', null);
    return NativeScreenValue;
  },

  get NativeScreenContainer() {
    NativeScreenContainerValue = NativeScreenContainerValue || (0, _reactNative.requireNativeComponent)('RNSScreenContainer', null);
    return NativeScreenContainerValue;
  },

  get NativeScreenStack() {
    NativeScreenStack = NativeScreenStack || (0, _reactNative.requireNativeComponent)('RNSScreenStack', null);
    return NativeScreenStack;
  },

  get NativeScreenStackHeaderConfig() {
    NativeScreenStackHeaderConfig = NativeScreenStackHeaderConfig || (0, _reactNative.requireNativeComponent)('RNSScreenStackHeaderConfig', null);
    return NativeScreenStackHeaderConfig;
  },

  get NativeScreenStackHeaderSubview() {
    NativeScreenStackHeaderSubview = NativeScreenStackHeaderSubview || (0, _reactNative.requireNativeComponent)('RNSScreenStackHeaderSubview', null);
    return NativeScreenStackHeaderSubview;
  }

};

var Screen = function (_React$Component) {
  (0, _inherits2.default)(Screen, _React$Component);

  function Screen() {
    var _getPrototypeOf2;

    var _this;

    (0, _classCallCheck2.default)(this, Screen);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(Screen)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.setRef = function (ref) {
      _this._ref = ref;
      _this.props.onComponentRef && _this.props.onComponentRef(ref);
    };

    return _this;
  }

  (0, _createClass2.default)(Screen, [{
    key: "setNativeProps",
    value: function setNativeProps(props) {
      this._ref.setNativeProps(props);
    }
  }, {
    key: "render",
    value: function render() {
      if (!ENABLE_SCREENS) {
        var _this$props = this.props,
            active = _this$props.active,
            onComponentRef = _this$props.onComponentRef,
            props = (0, _objectWithoutProperties2.default)(_this$props, ["active", "onComponentRef"]);
        return _react.default.createElement(_reactNative.Animated.View, (0, _extends2.default)({}, props, {
          ref: this.setRef
        }));
      } else {
        AnimatedNativeScreen = AnimatedNativeScreen || _reactNative.Animated.createAnimatedComponent(ScreensNativeModules.NativeScreen);

        if (_ReactNativeVersion.version.minor >= 57 || _ReactNativeVersion.version.minor === 0) {
          return _react.default.createElement(AnimatedNativeScreen, (0, _extends2.default)({}, this.props, {
            ref: this.setRef
          }));
        } else {
          var _this$props2 = this.props,
              style = _this$props2.style,
              children = _this$props2.children,
              rest = (0, _objectWithoutProperties2.default)(_this$props2, ["style", "children"]);
          return _react.default.createElement(AnimatedNativeScreen, (0, _extends2.default)({}, rest, {
            ref: this.setRef,
            style: _reactNative.StyleSheet.absoluteFill
          }), _react.default.createElement(_reactNative.Animated.View, {
            style: style
          }, children));
        }
      }
    }
  }]);
  return Screen;
}(_react.default.Component);

var ScreenContainer = function (_React$Component2) {
  (0, _inherits2.default)(ScreenContainer, _React$Component2);

  function ScreenContainer() {
    (0, _classCallCheck2.default)(this, ScreenContainer);
    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf3.default)(ScreenContainer).apply(this, arguments));
  }

  (0, _createClass2.default)(ScreenContainer, [{
    key: "render",
    value: function render() {
      if (!ENABLE_SCREENS) {
        return _react.default.createElement(_reactNative.View, this.props);
      } else {
        return _react.default.createElement(ScreensNativeModules.NativeScreenContainer, this.props);
      }
    }
  }]);
  return ScreenContainer;
}(_react.default.Component);

var styles = _reactNative.StyleSheet.create({
  headerSubview: {
    position: 'absolute',
    top: 0,
    right: 0,
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'center'
  }
});

var ScreenStackHeaderRightView = function ScreenStackHeaderRightView(props) {
  return _react.default.createElement(ScreensNativeModules.NativeScreenStackHeaderSubview, (0, _extends2.default)({}, props, {
    type: "right",
    style: styles.headerSubview
  }));
};

var ScreenStackHeaderLeftView = function ScreenStackHeaderLeftView(props) {
  return _react.default.createElement(ScreensNativeModules.NativeScreenStackHeaderSubview, (0, _extends2.default)({}, props, {
    type: "left",
    style: styles.headerSubview
  }));
};

var ScreenStackHeaderTitleView = function ScreenStackHeaderTitleView(props) {
  return _react.default.createElement(ScreensNativeModules.NativeScreenStackHeaderSubview, (0, _extends2.default)({}, props, {
    type: "title",
    style: styles.headerSubview
  }));
};

var ScreenStackHeaderCenterView = function ScreenStackHeaderCenterView(props) {
  return _react.default.createElement(ScreensNativeModules.NativeScreenStackHeaderSubview, (0, _extends2.default)({}, props, {
    type: "center",
    style: styles.headerSubview
  }));
};

module.exports = {
  ScreenContainer: ScreenContainer,
  Screen: Screen,

  get NativeScreen() {
    return ScreensNativeModules.NativeScreen;
  },

  get NativeScreenContainer() {
    return ScreensNativeModules.NativeScreenContainer;
  },

  get ScreenStack() {
    return ScreensNativeModules.NativeScreenStack;
  },

  get ScreenStackHeaderConfig() {
    return ScreensNativeModules.NativeScreenStackHeaderConfig;
  },

  get ScreenStackHeaderSubview() {
    return ScreensNativeModules.NativeScreenStackHeaderSubview;
  },

  ScreenStackHeaderRightView: ScreenStackHeaderRightView,
  ScreenStackHeaderLeftView: ScreenStackHeaderLeftView,
  ScreenStackHeaderTitleView: ScreenStackHeaderTitleView,
  ScreenStackHeaderCenterView: ScreenStackHeaderCenterView,
  enableScreens: enableScreens,
  useScreens: useScreens,
  screensEnabled: screensEnabled
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmVlbnMubmF0aXZlLmpzIl0sIm5hbWVzIjpbIkVOQUJMRV9TQ1JFRU5TIiwiZ2V0Vmlld01hbmFnZXJDb25maWdDb21wYXQiLCJuYW1lIiwiVUlNYW5hZ2VyIiwiZ2V0Vmlld01hbmFnZXJDb25maWciLCJlbmFibGVTY3JlZW5zIiwic2hvdWxkRW5hYmxlU2NyZWVucyIsImNvbnNvbGUiLCJlcnJvciIsInVzZVNjcmVlbnMiLCJzaG91bGRVc2VTY3JlZW5zIiwid2FybiIsInNjcmVlbnNFbmFibGVkIiwiTmF0aXZlU2NyZWVuVmFsdWUiLCJOYXRpdmVTY3JlZW5Db250YWluZXJWYWx1ZSIsIk5hdGl2ZVNjcmVlblN0YWNrIiwiTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJDb25maWciLCJOYXRpdmVTY3JlZW5TdGFja0hlYWRlclN1YnZpZXciLCJBbmltYXRlZE5hdGl2ZVNjcmVlbiIsIlNjcmVlbnNOYXRpdmVNb2R1bGVzIiwiTmF0aXZlU2NyZWVuIiwiTmF0aXZlU2NyZWVuQ29udGFpbmVyIiwiU2NyZWVuIiwic2V0UmVmIiwicmVmIiwiX3JlZiIsInByb3BzIiwib25Db21wb25lbnRSZWYiLCJzZXROYXRpdmVQcm9wcyIsImFjdGl2ZSIsIkFuaW1hdGVkIiwiY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQiLCJ2ZXJzaW9uIiwibWlub3IiLCJzdHlsZSIsImNoaWxkcmVuIiwicmVzdCIsIlN0eWxlU2hlZXQiLCJhYnNvbHV0ZUZpbGwiLCJSZWFjdCIsIkNvbXBvbmVudCIsIlNjcmVlbkNvbnRhaW5lciIsInN0eWxlcyIsImNyZWF0ZSIsImhlYWRlclN1YnZpZXciLCJwb3NpdGlvbiIsInRvcCIsInJpZ2h0IiwiZmxleERpcmVjdGlvbiIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsIlNjcmVlblN0YWNrSGVhZGVyUmlnaHRWaWV3IiwiU2NyZWVuU3RhY2tIZWFkZXJMZWZ0VmlldyIsIlNjcmVlblN0YWNrSGVhZGVyVGl0bGVWaWV3IiwiU2NyZWVuU3RhY2tIZWFkZXJDZW50ZXJWaWV3IiwibW9kdWxlIiwiZXhwb3J0cyIsIlNjcmVlblN0YWNrIiwiU2NyZWVuU3RhY2tIZWFkZXJDb25maWciLCJTY3JlZW5TdGFja0hlYWRlclN1YnZpZXciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFPQTs7QUFFQSxJQUFJQSxjQUFjLEdBQUcsS0FBckI7O0FBSUEsSUFBTUMsMEJBQTBCLEdBQUcsU0FBN0JBLDBCQUE2QixDQUFBQyxJQUFJO0FBQUEsU0FDckMsT0FBT0MsdUJBQVVDLG9CQUFqQixLQUEwQyxXQUExQyxHQUNJRCx1QkFBVUMsb0JBQVYsQ0FBK0JGLElBQS9CLENBREosR0FFSUMsdUJBQVVELElBQVYsQ0FIaUM7QUFBQSxDQUF2Qzs7QUFLQSxTQUFTRyxhQUFULEdBQW1EO0FBQUEsTUFBNUJDLG1CQUE0Qix1RUFBTixJQUFNO0FBQ2pETixFQUFBQSxjQUFjLEdBQUdNLG1CQUFqQjs7QUFDQSxNQUFJTixjQUFjLElBQUksQ0FBQ0MsMEJBQTBCLENBQUMsV0FBRCxDQUFqRCxFQUFnRTtBQUM5RE0sSUFBQUEsT0FBTyxDQUFDQyxLQUFSO0FBR0Q7QUFDRjs7QUFHRCxTQUFTQyxVQUFULEdBQTZDO0FBQUEsTUFBekJDLGdCQUF5Qix1RUFBTixJQUFNO0FBQzNDSCxFQUFBQSxPQUFPLENBQUNJLElBQVIsQ0FBYSwrREFBYjtBQUNBTixFQUFBQSxhQUFhLENBQUNLLGdCQUFELENBQWI7QUFDRDs7QUFFRCxTQUFTRSxjQUFULEdBQTBCO0FBQ3hCLFNBQU9aLGNBQVA7QUFDRDs7QUFJRCxJQUFJYSxpQkFBSjtBQUNBLElBQUlDLDBCQUFKO0FBQ0EsSUFBSUMsaUJBQUo7QUFDQSxJQUFJQyw2QkFBSjtBQUNBLElBQUlDLDhCQUFKO0FBQ0EsSUFBSUMsb0JBQUo7QUFFQSxJQUFNQyxvQkFBb0IsR0FBRztBQUMzQixNQUFJQyxZQUFKLEdBQW1CO0FBQ2pCUCxJQUFBQSxpQkFBaUIsR0FDZkEsaUJBQWlCLElBQUkseUNBQXVCLFdB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RWdCLE1BQU0sQ0FBQ0U7QUFIaEIsS0FEdUM7QUFBQSxDQUF6Qzs7QUFRQVcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2ZmLEVBQUFBLGVBQWUsRUFBZkEsZUFEZTtBQUVmbkIsRUFBQUEsTUFBTSxFQUFOQSxNQUZlOztBQUdmLE1BQUlGLFlBQUosR0FBbUI7QUFDakIsV0FBT0Qsb0JBQW9CLENBQUNDLFlBQTVCO0FBQ0QsR0FMYzs7QUFPZixNQUFJQyxxQkFBSixHQUE0QjtBQUMxQixXQUFPRixvQkFBb0IsQ0FBQ0UscUJBQTVCO0FBQ0QsR0FUYzs7QUFXZixNQUFJb0MsV0FBSixHQUFrQjtBQUNoQixXQUFPdEMsb0JBQW9CLENBQUNKLGlCQUE1QjtBQUNELEdBYmM7O0FBY2YsTUFBSTJDLHVCQUFKLEdBQThCO0FBQzVCLFdBQU92QyxvQkFBb0IsQ0FBQ0gsNkJBQTVCO0FBQ0QsR0FoQmM7O0FBaUJmLE1BQUkyQyx3QkFBSixHQUErQjtBQUM3QixXQUFPeEMsb0JBQW9CLENBQUNGLDhCQUE1QjtBQUNELEdBbkJjOztBQW9CZmtDLEVBQUFBLDBCQUEwQixFQUExQkEsMEJBcEJlO0FBcUJmQyxFQUFBQSx5QkFBeUIsRUFBekJBLHlCQXJCZTtBQXNCZkMsRUFBQUEsMEJBQTBCLEVBQTFCQSwwQkF0QmU7QUF1QmZDLEVBQUFBLDJCQUEyQixFQUEzQkEsMkJBdkJlO0FBeUJmakQsRUFBQUEsYUFBYSxFQUFiQSxhQXpCZTtBQTBCZkksRUFBQUEsVUFBVSxFQUFWQSxVQTFCZTtBQTJCZkcsRUFBQUEsY0FBYyxFQUFkQTtBQTNCZSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBBbmltYXRlZCxcbiAgcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCxcbiAgVmlldyxcbiAgVUlNYW5hZ2VyLFxuICBTdHlsZVNoZWV0LFxufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJ3JlYWN0LW5hdGl2ZS9MaWJyYXJpZXMvQ29yZS9SZWFjdE5hdGl2ZVZlcnNpb24nO1xuXG5sZXQgRU5BQkxFX1NDUkVFTlMgPSBmYWxzZTtcblxuLy8gVUlNYW5hZ2VyW2Ake21vZHVsZU5hbWV9YF0gaXMgZGVwcmVjYXRlZCBpbiBSTiAwLjU4IGFuZCBgZ2V0Vmlld01hbmFnZXJDb25maWdgIGlzIGFkZGVkLlxuLy8gV2UgY2FuIHJlbW92ZSB0aGlzIHdoZW4gd2UgZHJvcCBzdXBwb3J0IGZvciBSTiA8IDAuNTguXG5jb25zdCBnZXRWaWV3TWFuYWdlckNvbmZpZ0NvbXBhdCA9IG5hbWUgPT5cbiAgdHlwZW9mIFVJTWFuYWdlci5nZXRWaWV3TWFuYWdlckNvbmZpZyAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IFVJTWFuYWdlci5nZXRWaWV3TWFuYWdlckNvbmZpZyhuYW1lKVxuICAgIDogVUlNYW5hZ2VyW25hbWVdO1xuXG5mdW5jdGlvbiBlbmFibGVTY3JlZW5zKHNob3VsZEVuYWJsZVNjcmVlbnMgPSB0cnVlKSB7XG4gIEVOQUJMRV9TQ1JFRU5TID0gc2hvdWxkRW5hYmxlU2NyZWVucztcbiAgaWYgKEVOQUJMRV9TQ1JFRU5TICYmICFnZXRWaWV3TWFuYWdlckNvbmZpZ0NvbXBhdCgnUk5TU2NyZWVuJykpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgYFNjcmVlbiBuYXRpdmUgbW9kdWxlIGhhc24ndCBiZWVuIGxpbmtlZC4gUGxlYXNlIGNoZWNrIHRoZSByZWFjdC1uYXRpdmUtc2NyZWVucyBSRUFETUUgZm9yIG1vcmUgZGV0YWlsc2BcbiAgICApO1xuICB9XG59XG5cbi8vIHdlIHNob3VsZCByZW1vdmUgdGhpcyBhdCBzb21lIHBvaW50XG5mdW5jdGlvbiB1c2VTY3JlZW5zKHNob3VsZFVzZVNjcmVlbnMgPSB0cnVlKSB7XG4gIGNvbnNvbGUud2FybignTWV0aG9kIGB1c2VTY3JlZW5zYCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGBlbmFibGVTY3JlZW5zYCcpO1xuICBlbmFibGVTY3JlZW5zKHNob3VsZFVzZVNjcmVlbnMpO1xufVxuXG5mdW5jdGlvbiBzY3JlZW5zRW5hYmxlZCgpIHtcbiAgcmV0dXJuIEVOQUJMRV9TQ1JFRU5TO1xufVxuXG4vLyBXZSBpbml0aWFsaXplIHRoZXNlIGxhemlseSBzbyB0aGF0IGltcG9ydGluZyB0aGUgbW9kdWxlIGRvZXNuJ3QgdGhyb3cgZXJyb3Igd2hlbiBub3QgbGlua2VkXG4vLyBUaGlzIGlzIG5lY2Vzc2FyeSBjb3ogbGlicmFyaWVzIHN1Y2ggYXMgUmVhY3QgTmF2aWdhdGlvbiBpbXBvcnQgdGhlIGxpYnJhcnkgd2hlcmUgaXQgbWF5IG5vdCBiZSBlbmFibGVkXG5sZXQgTmF0aXZlU2NyZWVuVmFsdWU7XG5sZXQgTmF0aXZlU2NyZWVuQ29udGFpbmVyVmFsdWU7XG5sZXQgTmF0aXZlU2NyZWVuU3RhY2s7XG5sZXQgTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJDb25maWc7XG5sZXQgTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJTdWJ2aWV3O1xubGV0IEFuaW1hdGVkTmF0aXZlU2NyZWVuO1xuXG5jb25zdCBTY3JlZW5zTmF0aXZlTW9kdWxlcyA9IHtcbiAgZ2V0IE5hdGl2ZVNjcmVlbigpIHtcbiAgICBOYXRpdmVTY3JlZW5WYWx1ZSA9XG4gICAgICBOYXRpdmVTY3JlZW5WYWx1ZSB8fCByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSTlNTY3JlZW4nLCBudWxsKTtcbiAgICByZXR1cm4gTmF0aXZlU2NyZWVuVmFsdWU7XG4gIH0sXG5cbiAgZ2V0IE5hdGl2ZVNjcmVlbkNvbnRhaW5lcigpIHtcbiAgICBOYXRpdmVTY3JlZW5Db250YWluZXJWYWx1ZSA9XG4gICAgICBOYXRpdmVTY3JlZW5Db250YWluZXJWYWx1ZSB8fFxuICAgICAgcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCgnUk5TU2NyZWVuQ29udGFpbmVyJywgbnVsbCk7XG4gICAgcmV0dXJuIE5hdGl2ZVNjcmVlbkNvbnRhaW5lclZhbHVlO1xuICB9LFxuXG4gIGdldCBOYXRpdmVTY3JlZW5TdGFjaygpIHtcbiAgICBOYXRpdmVTY3JlZW5TdGFjayA9XG4gICAgICBOYXRpdmVTY3JlZW5TdGFjayB8fCByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSTlNTY3JlZW5TdGFjaycsIG51bGwpO1xuICAgIHJldHVybiBOYXRpdmVTY3JlZW5TdGFjaztcbiAgfSxcblxuICBnZXQgTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJDb25maWcoKSB7XG4gICAgTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJDb25maWcgPVxuICAgICAgTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJDb25maWcgfHxcbiAgICAgIHJlcXVpcmVOYXRpdmVDb21wb25lbnQoJ1JOU1NjcmVlblN0YWNrSGVhZGVyQ29uZmlnJywgbnVsbCk7XG4gICAgcmV0dXJuIE5hdGl2ZVNjcmVlblN0YWNrSGVhZGVyQ29uZmlnO1xuICB9LFxuXG4gIGdldCBOYXRpdmVTY3JlZW5TdGFja0hlYWRlclN1YnZpZXcoKSB7XG4gICAgTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJTdWJ2aWV3ID1cbiAgICAgIE5hdGl2ZVNjcmVlblN0YWNrSGVhZGVyU3VidmlldyB8fFxuICAgICAgcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCgnUk5TU2NyZWVuU3RhY2tIZWFkZXJTdWJ2aWV3JywgbnVsbCk7XG4gICAgcmV0dXJuIE5hdGl2ZVNjcmVlblN0YWNrSGVhZGVyU3VidmlldztcbiAgfSxcbn07XG5cbmNsYXNzIFNjcmVlbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNldE5hdGl2ZVByb3BzKHByb3BzKSB7XG4gICAgdGhpcy5fcmVmLnNldE5hdGl2ZVByb3BzKHByb3BzKTtcbiAgfVxuICBzZXRSZWYgPSByZWYgPT4ge1xuICAgIHRoaXMuX3JlZiA9IHJlZjtcbiAgICB0aGlzLnByb3BzLm9uQ29tcG9uZW50UmVmICYmIHRoaXMucHJvcHMub25Db21wb25lbnRSZWYocmVmKTtcbiAgfTtcbiAgcmVuZGVyKCkge1xuICAgIGlmICghRU5BQkxFX1NDUkVFTlMpIHtcbiAgICAgIC8vIEZpbHRlciBvdXQgYWN0aXZlIHByb3AgaW4gdGhpcyBjYXNlIGJlY2F1c2UgaXQgaXMgdW51c2VkIGFuZFxuICAgICAgLy8gY2FuIGNhdXNlIHByb2JsZW1zIGRlcGVuZGluZyBvbiByZWFjdC1uYXRpdmUgdmVyc2lvbjpcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1uYXZpZ2F0aW9uL3JlYWN0LW5hdmlnYXRpb24vaXNzdWVzLzQ4ODZcblxuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbiAgICAgIGNvbnN0IHsgYWN0aXZlLCBvbkNvbXBvbmVudFJlZiwgLi4ucHJvcHMgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAgIHJldHVybiA8QW5pbWF0ZWQuVmlldyB7Li4ucHJvcHN9IHJlZj17dGhpcy5zZXRSZWZ9IC8+O1xuICAgIH0gZWxzZSB7XG4gICAgICBBbmltYXRlZE5hdGl2ZVNjcmVlbiA9XG4gICAgICAgIEFuaW1hdGVkTmF0aXZlU2NyZWVuIHx8XG4gICAgICAgIEFuaW1hdGVkLmNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50KFNjcmVlbnNOYXRpdmVNb2R1bGVzLk5hdGl2ZVNjcmVlbik7XG5cbiAgICAgIC8vIFdoZW4gdXNpbmcgUk4gZnJvbSBtYXN0ZXIgdmVyc2lvbiBpcyAwLjAuMFxuICAgICAgaWYgKHZlcnNpb24ubWlub3IgPj0gNTcgfHwgdmVyc2lvbi5taW5vciA9PT0gMCkge1xuICAgICAgICByZXR1cm4gPEFuaW1hdGVkTmF0aXZlU2NyZWVuIHsuLi50aGlzLnByb3BzfSByZWY9e3RoaXMuc2V0UmVmfSAvPjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE9uIFJOIHZlcnNpb24gYmVsb3cgMC41NyB3ZSBuZWVkIHRvIHdyYXAgc2NyZWVuJ3MgY2hpbGRyZW4gd2l0aCBhblxuICAgICAgICAvLyBhZGRpdGlvbmFsIFZpZXcgYmVjYXVzZSBvZiBhIGJ1ZyBmaXhlZCBpbiByZWFjdC1uYXRpdmUvcHVsbC8yMDY1OCB3aGljaFxuICAgICAgICAvLyB3YXMgcHJldmVudGluZyBhIHZpZXcgZnJvbSBoYXZpbmcgYm90aCBzdHlsZXMgYW5kIHNvbWUgb3RoZXIgcHJvcHMgYmVpbmdcbiAgICAgICAgLy8gXCJhbmltYXRlZFwiICh1c2luZyBBbmltYXRlZCBuYXRpdmUgZHJpdmVyKVxuICAgICAgICBjb25zdCB7IHN0eWxlLCBjaGlsZHJlbiwgLi4ucmVzdCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8QW5pbWF0ZWROYXRpdmVTY3JlZW5cbiAgICAgICAgICAgIHsuLi5yZXN0fVxuICAgICAgICAgICAgcmVmPXt0aGlzLnNldFJlZn1cbiAgICAgICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmFic29sdXRlRmlsbH0+XG4gICAgICAgICAgICA8QW5pbWF0ZWQuVmlldyBzdHlsZT17c3R5bGV9PntjaGlsZHJlbn08L0FuaW1hdGVkLlZpZXc+XG4gICAgICAgICAgPC9BbmltYXRlZE5hdGl2ZVNjcmVlbj5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgU2NyZWVuQ29udGFpbmVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGlmICghRU5BQkxFX1NDUkVFTlMpIHtcbiAgICAgIHJldHVybiA8VmlldyB7Li4udGhpcy5wcm9wc30gLz47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8U2NyZWVuc05hdGl2ZU1vZHVsZXMuTmF0aXZlU2NyZWVuQ29udGFpbmVyIHsuLi50aGlzLnByb3BzfSAvPjtcbiAgICB9XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBoZWFkZXJTdWJ2aWV3OiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgfSxcbn0pO1xuXG5jb25zdCBTY3JlZW5TdGFja0hlYWRlclJpZ2h0VmlldyA9IHByb3BzID0+IChcbiAgPFNjcmVlbnNOYXRpdmVNb2R1bGVzLk5hdGl2ZVNjcmVlblN0YWNrSGVhZGVyU3Vidmlld1xuICAgIHsuLi5wcm9wc31cbiAgICB0eXBlPVwicmlnaHRcIlxuICAgIHN0eWxlPXtzdHlsZXMuaGVhZGVyU3Vidmlld31cbiAgLz5cbik7XG5cbmNvbnN0IFNjcmVlblN0YWNrSGVhZGVyTGVmdFZpZXcgPSBwcm9wcyA9PiAoXG4gIDxTY3JlZW5zTmF0aXZlTW9kdWxlcy5OYXRpdmVTY3JlZW5TdGFja0hlYWRlclN1YnZpZXdcbiAgICB7Li4ucHJvcHN9XG4gICAgdHlwZT1cImxlZnRcIlxuICAgIHN0eWxlPXtzdHlsZXMuaGVhZGVyU3Vidmlld31cbiAgLz5cbik7XG5cbmNvbnN0IFNjcmVlblN0YWNrSGVhZGVyVGl0bGVWaWV3ID0gcHJvcHMgPT4gKFxuICA8U2NyZWVuc05hdGl2ZU1vZHVsZXMuTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJTdWJ2aWV3XG4gICAgey4uLnByb3BzfVxuICAgIHR5cGU9XCJ0aXRsZVwiXG4gICAgc3R5bGU9e3N0eWxlcy5oZWFkZXJTdWJ2aWV3fVxuICAvPlxuKTtcblxuY29uc3QgU2NyZWVuU3RhY2tIZWFkZXJDZW50ZXJWaWV3ID0gcHJvcHMgPT4gKFxuICA8U2NyZWVuc05hdGl2ZU1vZHVsZXMuTmF0aXZlU2NyZWVuU3RhY2tIZWFkZXJTdWJ2aWV3XG4gICAgey4uLnByb3BzfVxuICAgIHR5cGU9XCJjZW50ZXJcIlxuICAgIHN0eWxlPXtzdHlsZXMuaGVhZGVyU3Vidmlld31cbiAgLz5cbik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBTY3JlZW5Db250YWluZXIsXG4gIFNjcmVlbixcbiAgZ2V0IE5hdGl2ZVNjcmVlbigpIHtcbiAgICByZXR1cm4gU2NyZWVuc05hdGl2ZU1vZHVsZXMuTmF0aXZlU2NyZWVuO1xuICB9LFxuXG4gIGdldCBOYXRpdmVTY3JlZW5Db250YWluZXIoKSB7XG4gICAgcmV0dXJuIFNjcmVlbnNOYXRpdmVNb2R1bGVzLk5hdGl2ZVNjcmVlbkNvbnRhaW5lcjtcbiAgfSxcblxuICBnZXQgU2NyZWVuU3RhY2soKSB7XG4gICAgcmV0dXJuIFNjcmVlbnNOYXRpdmVNb2R1bGVzLk5hdGl2ZVNjcmVlblN0YWNrO1xuICB9LFxuICBnZXQgU2NyZWVuU3RhY2tIZWFkZXJDb25maWcoKSB7XG4gICAgcmV0dXJuIFNjcmVlbnNOYXRpdmVNb2R1bGVzLk5hdGl2ZVNjcmVlblN0YWNrSGVhZGVyQ29uZmlnO1xuICB9LFxuICBnZXQgU2NyZWVuU3RhY2tIZWFkZXJTdWJ2aWV3KCkge1xuICAgIHJldHVybiBTY3JlZW5zTmF0aXZlTW9kdWxlcy5OYXRpdmVTY3JlZW5TdGFja0hlYWRlclN1YnZpZXc7XG4gIH0sXG4gIFNjcmVlblN0YWNrSGVhZGVyUmlnaHRWaWV3LFxuICBTY3JlZW5TdGFja0hlYWRlckxlZnRWaWV3LFxuICBTY3JlZW5TdGFja0hlYWRlclRpdGxlVmlldyxcbiAgU2NyZWVuU3RhY2tIZWFkZXJDZW50ZXJWaWV3LFxuXG4gIGVuYWJsZVNjcmVlbnMsXG4gIHVzZVNjcmVlbnMsXG4gIHNjcmVlbnNFbmFibGVkLFxufTtcbiJdfQ==