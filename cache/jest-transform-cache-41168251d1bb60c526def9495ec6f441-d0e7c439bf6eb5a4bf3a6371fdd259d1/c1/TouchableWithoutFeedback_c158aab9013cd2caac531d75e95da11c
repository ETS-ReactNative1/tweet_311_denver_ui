1202bcb0d9f293b15c9d4c65252164d7
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var DeprecatedEdgeInsetsPropType = require("../../DeprecatedPropTypes/DeprecatedEdgeInsetsPropType");

var React = require('react');

var PropTypes = require('prop-types');

var Touchable = require("./Touchable");

var View = require("../View/View");

var createReactClass = require('create-react-class');

var ensurePositiveDelayProps = require("./ensurePositiveDelayProps");

var _require = require("../../DeprecatedPropTypes/DeprecatedViewAccessibility"),
    DeprecatedAccessibilityRoles = _require.DeprecatedAccessibilityRoles;

var PRESS_RETENTION_OFFSET = {
  top: 20,
  left: 20,
  right: 20,
  bottom: 30
};
var OVERRIDE_PROPS = ['accessibilityLabel', 'accessibilityHint', 'accessibilityIgnoresInvertColors', 'accessibilityRole', 'accessibilityStates', 'accessibilityState', 'accessibilityActions', 'onAccessibilityAction', 'hitSlop', 'nativeID', 'onBlur', 'onFocus', 'onLayout', 'testID'];
var TouchableWithoutFeedback = createReactClass({
  displayName: 'TouchableWithoutFeedback',
  mixins: [Touchable.Mixin],
  propTypes: {
    accessible: PropTypes.bool,
    accessibilityLabel: PropTypes.node,
    accessibilityHint: PropTypes.string,
    accessibilityIgnoresInvertColors: PropTypes.bool,
    accessibilityRole: PropTypes.oneOf(DeprecatedAccessibilityRoles),
    accessibilityStates: PropTypes.array,
    accessibilityState: PropTypes.object,
    accessibilityActions: PropTypes.array,
    onAccessibilityAction: PropTypes.func,
    onFocus: PropTypes.func,
    onBlur: PropTypes.func,
    disabled: PropTypes.bool,
    onPress: PropTypes.func,
    onPressIn: PropTypes.func,
    onPressOut: PropTypes.func,
    onLayout: PropTypes.func,
    touchSoundDisabled: PropTypes.bool,
    onLongPress: PropTypes.func,
    nativeID: PropTypes.string,
    testID: PropTypes.string,
    delayPressIn: PropTypes.number,
    delayPressOut: PropTypes.number,
    delayLongPress: PropTypes.number,
    pressRetentionOffset: DeprecatedEdgeInsetsPropType,
    hitSlop: DeprecatedEdgeInsetsPropType
  },
  getInitialState: function getInitialState() {
    return this.touchableGetInitialState();
  },
  componentDidMount: function componentDidMount() {
    ensurePositiveDelayProps(this.props);
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    ensurePositiveDelayProps(nextProps);
  },
  touchableHandlePress: function touchableHandlePress(e) {
    this.props.onPress && this.props.onPress(e);
  },
  touchableHandleActivePressIn: function touchableHandleActivePressIn(e) {
    this.props.onPressIn && this.props.onPressIn(e);
  },
  touchableHandleActivePressOut: function touchableHandleActivePressOut(e) {
    this.props.onPressOut && this.props.onPressOut(e);
  },
  touchableHandleLongPress: function touchableHandleLongPress(e) {
    this.props.onLongPress && this.props.onLongPress(e);
  },
  touchableGetPressRectOffset: function touchableGetPressRectOffset() {
    return this.props.pressRetentionOffset || PRESS_RETENTION_OFFSET;
  },
  touchableGetHitSlop: function touchableGetHitSlop() {
    return this.props.hitSlop;
  },
  touchableGetHighlightDelayMS: function touchableGetHighlightDelayMS() {
    return this.props.delayPressIn || 0;
  },
  touchableGetLongPressDelayMS: function touchableGetLongPressDelayMS() {
    return this.props.delayLongPress === 0 ? 0 : this.props.delayLongPress || 500;
  },
  touchableGetPressOutDelayMS: function touchableGetPressOutDelayMS() {
    return this.props.delayPressOut || 0;
  },
  render: function render() {
    var child = React.Children.only(this.props.children);
    var children = child.props.children;

    if (Touchable.TOUCH_TARGET_DEBUG && child.type === View) {
      children = React.Children.toArray(children);
      children.push(Touchable.renderDebugView({
        color: 'red',
        hitSlop: this.props.hitSlop
      }));
    }

    var overrides = {};

    for (var _iterator = OVERRIDE_PROPS, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[typeof Symbol === "function" ? Symbol.iterator : "@@iterator"]();;) {
      var _ref;

      if (_isArray) {
        if (_i >= _iterator.length) break;
        _ref = _iterator[_i++];
      } else {
        _i = _iterator.next();
        if (_i.done) break;
        _ref = _i.value;
      }

      var _prop = _ref;

      if (this.props[_prop] !== undefined) {
        overrides[_prop] = this.props[_prop];
      }
    }

    return React.cloneElement(child, _objectSpread({}, overrides, {
      accessible: this.props.accessible !== false,
      focusable: this.props.focusable !== false && this.props.onPress !== undefined,
      onClick: this.touchableHandlePress,
      onStartShouldSetResponder: this.touchableHandleStartShouldSetResponder,
      onResponderTerminationRequest: this.touchableHandleResponderTerminationRequest,
      onResponderGrant: this.touchableHandleResponderGrant,
      onResponderMove: this.touchableHandleResponderMove,
      onResponderRelease: this.touchableHandleResponderRelease,
      onResponderTerminate: this.touchableHandleResponderTerminate,
      children: children
    }));
  }
});
module.exports = TouchableWithoutFeedback;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjay5qcyJdLCJuYW1lcyI6WyJEZXByZWNhdGVkRWRnZUluc2V0c1Byb3BUeXBlIiwicmVxdWlyZSIsIlJlYWN0IiwiUHJvcFR5cGVzIiwiVG91Y2hhYmxlIiwiVmlldyIsImNyZWF0ZVJlYWN0Q2xhc3MiLCJlbnN1cmVQb3NpdGl2ZURlbGF5UHJvcHMiLCJEZXByZWNhdGVkQWNjZXNzaWJpbGl0eVJvbGVzIiwiUFJFU1NfUkVURU5USU9OX09GRlNFVCIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsIk9WRVJSSURFX1BST1BTIiwiVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrIiwiZGlzcGxheU5hbWUiLCJtaXhpbnMiLCJNaXhpbiIsInByb3BUeXBlcyIsImFjY2Vzc2libGUiLCJib29sIiwiYWNjZXNzaWJpbGl0eUxhYmVsIiwibm9kZSIsImFjY2Vzc2liaWxpdHlIaW50Iiwic3RyaW5nIiwiYWNjZXNzaWJpbGl0eUlnbm9yZXNJbnZlcnRDb2xvcnMiLCJhY2Nlc3NpYmlsaXR5Um9sZSIsIm9uZU9mIiwiYWNjZXNzaWJpbGl0eVN0YXRlcyIsImFycmF5IiwiYWNjZXNzaWJpbGl0eVN0YXRlIiwib2JqZWN0IiwiYWNjZXNzaWJpbGl0eUFjdGlvbnMiLCJvbkFjY2Vzc2liaWxpdHlBY3Rpb24iLCJmdW5jIiwib25Gb2N1cyIsIm9uQmx1ciIsImRpc2FibGVkIiwib25QcmVzcyIsIm9uUHJlc3NJbiIsIm9uUHJlc3NPdXQiLCJvbkxheW91dCIsInRvdWNoU291bmREaXNhYmxlZCIsIm9uTG9uZ1ByZXNzIiwibmF0aXZlSUQiLCJ0ZXN0SUQiLCJkZWxheVByZXNzSW4iLCJudW1iZXIiLCJkZWxheVByZXNzT3V0IiwiZGVsYXlMb25nUHJlc3MiLCJwcmVzc1JldGVudGlvbk9mZnNldCIsImhpdFNsb3AiLCJnZXRJbml0aWFsU3RhdGUiLCJ0b3VjaGFibGVHZXRJbml0aWFsU3RhdGUiLCJjb21wb25lbnREaWRNb3VudCIsInByb3BzIiwiVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0UHJvcHMiLCJ0b3VjaGFibGVIYW5kbGVQcmVzcyIsImUiLCJ0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc0luIiwidG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQiLCJ0b3VjaGFibGVIYW5kbGVMb25nUHJlc3MiLCJ0b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXQiLCJ0b3VjaGFibGVHZXRIaXRTbG9wIiwidG91Y2hhYmxlR2V0SGlnaGxpZ2h0RGVsYXlNUyIsInRvdWNoYWJsZUdldExvbmdQcmVzc0RlbGF5TVMiLCJ0b3VjaGFibGVHZXRQcmVzc091dERlbGF5TVMiLCJyZW5kZXIiLCJjaGlsZCIsIkNoaWxkcmVuIiwib25seSIsImNoaWxkcmVuIiwiVE9VQ0hfVEFSR0VUX0RFQlVHIiwidHlwZSIsInRvQXJyYXkiLCJwdXNoIiwicmVuZGVyRGVidWdWaWV3IiwiY29sb3IiLCJvdmVycmlkZXMiLCJwcm9wIiwidW5kZWZpbmVkIiwiY2xvbmVFbGVtZW50IiwiZm9jdXNhYmxlIiwib25DbGljayIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJ0b3VjaGFibGVIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlciIsIm9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0IiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0Iiwib25SZXNwb25kZXJHcmFudCIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlckdyYW50Iiwib25SZXNwb25kZXJNb3ZlIiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyTW92ZSIsIm9uUmVzcG9uZGVyUmVsZWFzZSIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclJlbGVhc2UiLCJvblJlc3BvbmRlclRlcm1pbmF0ZSIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQVVB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ICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3dcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IERlcHJlY2F0ZWRFZGdlSW5zZXRzUHJvcFR5cGUgPSByZXF1aXJlKCcuLi8uLi9EZXByZWNhdGVkUHJvcFR5cGVzL0RlcHJlY2F0ZWRFZGdlSW5zZXRzUHJvcFR5cGUnKTtcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IFByb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcbmNvbnN0IFRvdWNoYWJsZSA9IHJlcXVpcmUoJy4vVG91Y2hhYmxlJyk7XG5jb25zdCBWaWV3ID0gcmVxdWlyZSgnLi4vVmlldy9WaWV3Jyk7XG5cbmNvbnN0IGNyZWF0ZVJlYWN0Q2xhc3MgPSByZXF1aXJlKCdjcmVhdGUtcmVhY3QtY2xhc3MnKTtcbmNvbnN0IGVuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcyA9IHJlcXVpcmUoJy4vZW5zdXJlUG9zaXRpdmVEZWxheVByb3BzJyk7XG5cbmNvbnN0IHtcbiAgRGVwcmVjYXRlZEFjY2Vzc2liaWxpdHlSb2xlcyxcbn0gPSByZXF1aXJlKCcuLi8uLi9EZXByZWNhdGVkUHJvcFR5cGVzL0RlcHJlY2F0ZWRWaWV3QWNjZXNzaWJpbGl0eScpO1xuXG5pbXBvcnQgdHlwZSB7XG4gIFN5bnRoZXRpY0V2ZW50LFxuICBMYXlvdXRFdmVudCxcbiAgUHJlc3NFdmVudCxcbn0gZnJvbSAnLi4vLi4vVHlwZXMvQ29yZUV2ZW50VHlwZXMnO1xuaW1wb3J0IHR5cGUge0VkZ2VJbnNldHNQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L0VkZ2VJbnNldHNQcm9wVHlwZSc7XG5pbXBvcnQgdHlwZSB7XG4gIEFjY2Vzc2liaWxpdHlSb2xlLFxuICBBY2Nlc3NpYmlsaXR5U3RhdGVzLFxuICBBY2Nlc3NpYmlsaXR5U3RhdGUsXG4gIEFjY2Vzc2liaWxpdHlBY3Rpb25JbmZvLFxuICBBY2Nlc3NpYmlsaXR5QWN0aW9uRXZlbnQsXG59IGZyb20gJy4uL1ZpZXcvVmlld0FjY2Vzc2liaWxpdHknO1xuXG50eXBlIFRhcmdldEV2ZW50ID0gU3ludGhldGljRXZlbnQ8XG4gICRSZWFkT25seTx7fFxuICAgIHRhcmdldDogbnVtYmVyLFxuICB8fT4sXG4+O1xuXG50eXBlIEJsdXJFdmVudCA9IFRhcmdldEV2ZW50O1xudHlwZSBGb2N1c0V2ZW50ID0gVGFyZ2V0RXZlbnQ7XG5cbmNvbnN0IFBSRVNTX1JFVEVOVElPTl9PRkZTRVQgPSB7dG9wOiAyMCwgbGVmdDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiAzMH07XG5cbmNvbnN0IE9WRVJSSURFX1BST1BTID0gW1xuICAnYWNjZXNzaWJpbGl0eUxhYmVsJyxcbiAgJ2FjY2Vzc2liaWxpdHlIaW50JyxcbiAgJ2FjY2Vzc2liaWxpdHlJZ25vcmVzSW52ZXJ0Q29sb3JzJyxcbiAgJ2FjY2Vzc2liaWxpdHlSb2xlJyxcbiAgJ2FjY2Vzc2liaWxpdHlTdGF0ZXMnLFxuICAnYWNjZXNzaWJpbGl0eVN0YXRlJyxcbiAgJ2FjY2Vzc2liaWxpdHlBY3Rpb25zJyxcbiAgJ29uQWNjZXNzaWJpbGl0eUFjdGlvbicsXG4gICdoaXRTbG9wJyxcbiAgJ25hdGl2ZUlEJyxcbiAgJ29uQmx1cicsXG4gICdvbkZvY3VzJyxcbiAgJ29uTGF5b3V0JyxcbiAgJ3Rlc3RJRCcsXG5dO1xuXG5leHBvcnQgdHlwZSBQcm9wcyA9ICRSZWFkT25seTx7fFxuICBhY2Nlc3NpYmxlPzogP2Jvb2xlYW4sXG4gIGFjY2Vzc2liaWxpdHlMYWJlbD86ID9TdHJpbmdpc2gsXG4gIGFjY2Vzc2liaWxpdHlIaW50PzogP1N0cmluZ2lzaCxcbiAgYWNjZXNzaWJpbGl0eUlnbm9yZXNJbnZlcnRDb2xvcnM/OiA/Ym9vbGVhbixcbiAgYWNjZXNzaWJpbGl0eVJvbGU/OiA/QWNjZXNzaWJpbGl0eVJvbGUsXG4gIGFjY2Vzc2liaWxpdHlTdGF0ZXM/OiA/QWNjZXNzaWJpbGl0eVN0YXRlcyxcbiAgYWNjZXNzaWJpbGl0eVN0YXRlPzogP0FjY2Vzc2liaWxpdHlTdGF0ZSxcbiAgYWNjZXNzaWJpbGl0eUFjdGlvbnM/OiA/JFJlYWRPbmx5QXJyYXk8QWNjZXNzaWJpbGl0eUFjdGlvbkluZm8+LFxuICBjaGlsZHJlbj86ID9SZWFjdC5Ob2RlLFxuICBkZWxheUxvbmdQcmVzcz86ID9udW1iZXIsXG4gIGRlbGF5UHJlc3NJbj86ID9udW1iZXIsXG4gIGRlbGF5UHJlc3NPdXQ/OiA/bnVtYmVyLFxuICBkaXNhYmxlZD86ID9ib29sZWFuLFxuICBoaXRTbG9wPzogP0VkZ2VJbnNldHNQcm9wLFxuICBuYXRpdmVJRD86ID9zdHJpbmcsXG4gIHRvdWNoU291bmREaXNhYmxlZD86ID9ib29sZWFuLFxuICBvbkJsdXI/OiA/KGU6IEJsdXJFdmVudCkgPT4gdm9pZCxcbiAgb25Gb2N1cz86ID8oZTogRm9jdXNFdmVudCkgPT4gdm9pZCxcbiAgb25MYXlvdXQ/OiA/KGV2ZW50OiBMYXlvdXRFdmVudCkgPT4gbWl4ZWQsXG4gIG9uTG9uZ1ByZXNzPzogPyhldmVudDogUHJlc3NFdmVudCkgPT4gbWl4ZWQsXG4gIG9uUHJlc3M/OiA/KGV2ZW50OiBQcmVzc0V2ZW50KSA9PiBtaXhlZCxcbiAgb25QcmVzc0luPzogPyhldmVudDogUHJlc3NFdmVudCkgPT4gbWl4ZWQsXG4gIG9uUHJlc3NPdXQ/OiA/KGV2ZW50OiBQcmVzc0V2ZW50KSA9PiBtaXhlZCxcbiAgb25BY2Nlc3NpYmlsaXR5QWN0aW9uPzogPyhldmVudDogQWNjZXNzaWJpbGl0eUFjdGlvbkV2ZW50KSA9PiB2b2lkLFxuICBwcmVzc1JldGVudGlvbk9mZnNldD86ID9FZGdlSW5zZXRzUHJvcCxcbiAgcmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb24/OiA/Ym9vbGVhbixcbiAgdGVzdElEPzogP3N0cmluZyxcbnx9PjtcblxuLyoqXG4gKiBEbyBub3QgdXNlIHVubGVzcyB5b3UgaGF2ZSBhIHZlcnkgZ29vZCByZWFzb24uIEFsbCBlbGVtZW50cyB0aGF0XG4gKiByZXNwb25kIHRvIHByZXNzIHNob3VsZCBoYXZlIGEgdmlzdWFsIGZlZWRiYWNrIHdoZW4gdG91Y2hlZC5cbiAqXG4gKiBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2sgc3VwcG9ydHMgb25seSBvbmUgY2hpbGQuXG4gKiBJZiB5b3Ugd2lzaCB0byBoYXZlIHNldmVyYWwgY2hpbGQgY29tcG9uZW50cywgd3JhcCB0aGVtIGluIGEgVmlldy5cbiAqL1xuY29uc3QgVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrID0gKChjcmVhdGVSZWFjdENsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdUb3VjaGFibGVXaXRob3V0RmVlZGJhY2snLFxuICBtaXhpbnM6IFtUb3VjaGFibGUuTWl4aW5dLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGFjY2Vzc2libGU6IFByb3BUeXBlcy5ib29sLFxuICAgIGFjY2Vzc2liaWxpdHlMYWJlbDogUHJvcFR5cGVzLm5vZGUsXG4gICAgYWNjZXNzaWJpbGl0eUhpbnQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgYWNjZXNzaWJpbGl0eUlnbm9yZXNJbnZlcnRDb2xvcnM6IFByb3BUeXBlcy5ib29sLFxuICAgIGFjY2Vzc2liaWxpdHlSb2xlOiBQcm9wVHlwZXMub25lT2YoRGVwcmVjYXRlZEFjY2Vzc2liaWxpdHlSb2xlcyksXG4gICAgYWNjZXNzaWJpbGl0eVN0YXRlczogUHJvcFR5cGVzLmFycmF5LFxuICAgIGFjY2Vzc2liaWxpdHlTdGF0ZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBhY2Nlc3NpYmlsaXR5QWN0aW9uczogUHJvcFR5cGVzLmFycmF5LFxuICAgIG9uQWNjZXNzaWJpbGl0eUFjdGlvbjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICogV2hlbiBgYWNjZXNzaWJsZWAgaXMgdHJ1ZSAod2hpY2ggaXMgdGhlIGRlZmF1bHQpIHRoaXMgbWF5IGJlIGNhbGxlZCB3aGVuXG4gICAgICogdGhlIE9TLXNwZWNpZmljIGNvbmNlcHQgb2YgXCJmb2N1c1wiIG9jY3Vycy4gU29tZSBwbGF0Zm9ybXMgbWF5IG5vdCBoYXZlXG4gICAgICogdGhlIGNvbmNlcHQgb2YgZm9jdXMuXG4gICAgICovXG4gICAgb25Gb2N1czogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICogV2hlbiBgYWNjZXNzaWJsZWAgaXMgdHJ1ZSAod2hpY2ggaXMgdGhlIGRlZmF1bHQpIHRoaXMgbWF5IGJlIGNhbGxlZCB3aGVuXG4gICAgICogdGhlIE9TLXNwZWNpZmljIGNvbmNlcHQgb2YgXCJibHVyXCIgb2NjdXJzLCBtZWFuaW5nIHRoZSBlbGVtZW50IGxvc3QgZm9jdXMuXG4gICAgICogU29tZSBwbGF0Zm9ybXMgbWF5IG5vdCBoYXZlIHRoZSBjb25jZXB0IG9mIGJsdXIuXG4gICAgICovXG4gICAgb25CbHVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCBkaXNhYmxlIGFsbCBpbnRlcmFjdGlvbnMgZm9yIHRoaXMgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgdG91Y2ggaXMgcmVsZWFzZWQsIGJ1dCBub3QgaWYgY2FuY2VsbGVkIChlLmcuIGJ5IGEgc2Nyb2xsXG4gICAgICogdGhhdCBzdGVhbHMgdGhlIHJlc3BvbmRlciBsb2NrKS5cbiAgICAgKi9cbiAgICBvblByZXNzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYXMgc29vbiBhcyB0aGUgdG91Y2hhYmxlIGVsZW1lbnQgaXMgcHJlc3NlZCBhbmQgaW52b2tlZCBldmVuIGJlZm9yZSBvblByZXNzLlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuIG1ha2luZyBuZXR3b3JrIHJlcXVlc3RzLlxuICAgICAqL1xuICAgIG9uUHJlc3NJbjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFzIHNvb24gYXMgdGhlIHRvdWNoIGlzIHJlbGVhc2VkIGV2ZW4gYmVmb3JlIG9uUHJlc3MuXG4gICAgICovXG4gICAgb25QcmVzc091dDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICogSW52b2tlZCBvbiBtb3VudCBhbmQgbGF5b3V0IGNoYW5nZXMgd2l0aFxuICAgICAqXG4gICAgICogICBge25hdGl2ZUV2ZW50OiB7bGF5b3V0OiB7eCwgeSwgd2lkdGgsIGhlaWdodH19fWBcbiAgICAgKi9cbiAgICBvbkxheW91dDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgZG9lc24ndCBwbGF5IHN5c3RlbSBzb3VuZCBvbiB0b3VjaCAoQW5kcm9pZCBPbmx5KVxuICAgICAqKi9cbiAgICB0b3VjaFNvdW5kRGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgb25Mb25nUHJlc3M6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgbmF0aXZlSUQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdGVzdElEOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gICAgLyoqXG4gICAgICogRGVsYXkgaW4gbXMsIGZyb20gdGhlIHN0YXJ0IG9mIHRoZSB0b3VjaCwgYmVmb3JlIG9uUHJlc3NJbiBpcyBjYWxsZWQuXG4gICAgICovXG4gICAgZGVsYXlQcmVzc0luOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIC8qKlxuICAgICAqIERlbGF5IGluIG1zLCBmcm9tIHRoZSByZWxlYXNlIG9mIHRoZSB0b3VjaCwgYmVmb3JlIG9uUHJlc3NPdXQgaXMgY2FsbGVkLlxuICAgICAqL1xuICAgIGRlbGF5UHJlc3NPdXQ6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgLyoqXG4gICAgICogRGVsYXkgaW4gbXMsIGZyb20gb25QcmVzc0luLCBiZWZvcmUgb25Mb25nUHJlc3MgaXMgY2FsbGVkLlxuICAgICAqL1xuICAgIGRlbGF5TG9uZ1ByZXNzOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHNjcm9sbCB2aWV3IGlzIGRpc2FibGVkLCB0aGlzIGRlZmluZXMgaG93IGZhciB5b3VyIHRvdWNoIG1heVxuICAgICAqIG1vdmUgb2ZmIG9mIHRoZSBidXR0b24sIGJlZm9yZSBkZWFjdGl2YXRpbmcgdGhlIGJ1dHRvbi4gT25jZSBkZWFjdGl2YXRlZCxcbiAgICAgKiB0cnkgbW92aW5nIGl0IGJhY2sgYW5kIHlvdSdsbCBzZWUgdGhhdCB0aGUgYnV0dG9uIGlzIG9uY2UgYWdhaW5cbiAgICAgKiByZWFjdGl2YXRlZCEgTW92ZSBpdCBiYWNrIGFuZCBmb3J0aCBzZXZlcmFsIHRpbWVzIHdoaWxlIHRoZSBzY3JvbGwgdmlld1xuICAgICAqIGlzIGRpc2FibGVkLiBFbnN1cmUgeW91IHBhc3MgaW4gYSBjb25zdGFudCB0byByZWR1Y2UgbWVtb3J5IGFsbG9jYXRpb25zLlxuICAgICAqL1xuICAgIHByZXNzUmV0ZW50aW9uT2Zmc2V0OiBEZXByZWNhdGVkRWRnZUluc2V0c1Byb3BUeXBlLFxuICAgIC8qKlxuICAgICAqIFRoaXMgZGVmaW5lcyBob3cgZmFyIHlvdXIgdG91Y2ggY2FuIHN0YXJ0IGF3YXkgZnJvbSB0aGUgYnV0dG9uLiBUaGlzIGlzXG4gICAgICogYWRkZWQgdG8gYHByZXNzUmV0ZW50aW9uT2Zmc2V0YCB3aGVuIG1vdmluZyBvZmYgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKiAqKiBOT1RFICoqXG4gICAgICogVGhlIHRvdWNoIGFyZWEgbmV2ZXIgZXh0ZW5kcyBwYXN0IHRoZSBwYXJlbnQgdmlldyBib3VuZHMgYW5kIHRoZSBaLWluZGV4XG4gICAgICogb2Ygc2libGluZyB2aWV3cyBhbHdheXMgdGFrZXMgcHJlY2VkZW5jZSBpZiBhIHRvdWNoIGhpdHMgdHdvIG92ZXJsYXBwaW5nXG4gICAgICogdmlld3MuXG4gICAgICovXG4gICAgaGl0U2xvcDogRGVwcmVjYXRlZEVkZ2VJbnNldHNQcm9wVHlwZSxcbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvdWNoYWJsZUdldEluaXRpYWxTdGF0ZSgpO1xuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICBlbnN1cmVQb3NpdGl2ZURlbGF5UHJvcHModGhpcy5wcm9wcyk7XG4gIH0sXG5cbiAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uKG5leHRQcm9wczogT2JqZWN0KSB7XG4gICAgZW5zdXJlUG9zaXRpdmVEZWxheVByb3BzKG5leHRQcm9wcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIGBUb3VjaGFibGUuTWl4aW5gIHNlbGYgY2FsbGJhY2tzLiBUaGUgbWl4aW4gd2lsbCBpbnZva2UgdGhlc2UgaWYgdGhleSBhcmVcbiAgICogZGVmaW5lZCBvbiB5b3VyIGNvbXBvbmVudC5cbiAgICovXG4gIHRvdWNoYWJsZUhhbmRsZVByZXNzOiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vblByZXNzICYmIHRoaXMucHJvcHMub25QcmVzcyhlKTtcbiAgfSxcblxuICB0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc0luOiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vblByZXNzSW4gJiYgdGhpcy5wcm9wcy5vblByZXNzSW4oZSk7XG4gIH0sXG5cbiAgdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQ6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLm9uUHJlc3NPdXQgJiYgdGhpcy5wcm9wcy5vblByZXNzT3V0KGUpO1xuICB9LFxuXG4gIHRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzczogZnVuY3Rpb24oZTogUHJlc3NFdmVudCkge1xuICAgIHRoaXMucHJvcHMub25Mb25nUHJlc3MgJiYgdGhpcy5wcm9wcy5vbkxvbmdQcmVzcyhlKTtcbiAgfSxcblxuICB0b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXQ6IGZ1bmN0aW9uKCk6IHR5cGVvZiBQUkVTU19SRVRFTlRJT05fT0ZGU0VUIHtcbiAgICAvLyAkRmxvd0ZpeE1lIEludmFsaWQgcHJvcCB1c2FnZVxuICAgIHJldHVybiB0aGlzLnByb3BzLnByZXNzUmV0ZW50aW9uT2Zmc2V0IHx8IFBSRVNTX1JFVEVOVElPTl9PRkZTRVQ7XG4gIH0sXG5cbiAgdG91Y2hhYmxlR2V0SGl0U2xvcDogZnVuY3Rpb24oKTogP09iamVjdCB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaGl0U2xvcDtcbiAgfSxcblxuICB0b3VjaGFibGVHZXRIaWdobGlnaHREZWxheU1TOiBmdW5jdGlvbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRlbGF5UHJlc3NJbiB8fCAwO1xuICB9LFxuXG4gIHRvdWNoYWJsZUdldExvbmdQcmVzc0RlbGF5TVM6IGZ1bmN0aW9uKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGVsYXlMb25nUHJlc3MgPT09IDBcbiAgICAgID8gMFxuICAgICAgOiB0aGlzLnByb3BzLmRlbGF5TG9uZ1ByZXNzIHx8IDUwMDtcbiAgfSxcblxuICB0b3VjaGFibGVHZXRQcmVzc091dERlbGF5TVM6IGZ1bmN0aW9uKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGVsYXlQcmVzc091dCB8fCAwO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKTogUmVhY3QuRWxlbWVudDxhbnk+IHtcbiAgICAvLyBOb3RlKGF2aWspOiByZW1vdmUgZHluYW1pYyB0eXBlY2FzdCBvbmNlIEZsb3cgaGFzIGJlZW4gdXBncmFkZWRcbiAgICAvLyAkRmxvd0ZpeE1lKD49MC40MS4wKVxuICAgIGNvbnN0IGNoaWxkID0gUmVhY3QuQ2hpbGRyZW4ub25seSh0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICBsZXQgY2hpbGRyZW4gPSBjaGlsZC5wcm9wcy5jaGlsZHJlbjtcbiAgICBpZiAoVG91Y2hhYmxlLlRPVUNIX1RBUkdFVF9ERUJVRyAmJiBjaGlsZC50eXBlID09PSBWaWV3KSB7XG4gICAgICBjaGlsZHJlbiA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pO1xuICAgICAgY2hpbGRyZW4ucHVzaChcbiAgICAgICAgVG91Y2hhYmxlLnJlbmRlckRlYnVnVmlldyh7Y29sb3I6ICdyZWQnLCBoaXRTbG9wOiB0aGlzLnByb3BzLmhpdFNsb3B9KSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3Qgb3ZlcnJpZGVzID0ge307XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIE9WRVJSSURFX1BST1BTKSB7XG4gICAgICBpZiAodGhpcy5wcm9wc1twcm9wXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG92ZXJyaWRlc1twcm9wXSA9IHRoaXMucHJvcHNbcHJvcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChSZWFjdDogYW55KS5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgIC4uLm92ZXJyaWRlcyxcbiAgICAgIGFjY2Vzc2libGU6IHRoaXMucHJvcHMuYWNjZXNzaWJsZSAhPT0gZmFsc2UsXG4gICAgICBmb2N1c2FibGU6XG4gICAgICAgIHRoaXMucHJvcHMuZm9jdXNhYmxlICE9PSBmYWxzZSAmJiB0aGlzLnByb3BzLm9uUHJlc3MgIT09IHVuZGVmaW5lZCxcbiAgICAgIG9uQ2xpY2s6IHRoaXMudG91Y2hhYmxlSGFuZGxlUHJlc3MsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLnRvdWNoYWJsZUhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyLFxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6IHRoaXNcbiAgICAgICAgLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCxcbiAgICAgIG9uUmVzcG9uZGVyR3JhbnQ6IHRoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyR3JhbnQsXG4gICAgICBvblJlc3BvbmRlck1vdmU6IHRoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyTW92ZSxcbiAgICAgIG9uUmVzcG9uZGVyUmVsZWFzZTogdGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJSZWxlYXNlLFxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGU6IHRoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRlLFxuICAgICAgY2hpbGRyZW4sXG4gICAgfSk7XG4gIH0sXG59KTogYW55KTogUmVhY3QuQ29tcG9uZW50VHlwZTxQcm9wcz4pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjaztcbiJdfQ==